(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{1965:function(e,t,n){var i,r;i=[n(10)],void 0===(r=function(e){"use strict";return e({ROUNDED:0,MITERED:1,BEVELED:2})}.apply(t,i))||(e.exports=r)},1967:function(e,t,n){var i,r;i=[n(0),n(3),n(4),n(23),n(230),n(109),n(128)],void 0===(r=function(e,t,n,i,r,o,a){"use strict";function s(){this._eventHelper=new r,this._definitionChanged=new i,this._intervals=new o,this._intervals.changedEvent.addEventListener(s.prototype._intervalsChanged,this)}return t(s.prototype,{isConstant:{get:function(){return this._intervals.isEmpty}},definitionChanged:{get:function(){return this._definitionChanged}},intervals:{get:function(){return this._intervals}}}),s.prototype.getValue=function(t,n){var i=this._intervals.findDataForIntervalContainingDate(t);if(e(i))return i.getValue(t,n)},s.prototype.equals=function(e){return this===e||e instanceof s&&this._intervals.equals(e._intervals,a.equals)},s.prototype._intervalsChanged=function(){!function(t,n,i,r){function o(){i.raiseEvent(t)}var a=[];n.removeAll();for(var s=r.length,l=0;l<s;l++){var c=r.get(l);e(c.data)&&-1===a.indexOf(c.data)&&n.add(c.data.definitionChanged,o)}}(this,this._eventHelper,this._definitionChanged,this._intervals),this._definitionChanged.raiseEvent(this)},s}.apply(t,i))||(e.exports=r)},1968:function(e,t,n){var i,r;i=[n(2),n(0),n(3),n(4),n(23),n(265),n(1967),n(128)],void 0===(r=function(e,t,n,i,r,o,a,s){"use strict";function l(t){this._referenceFrame=e(t,o.FIXED),this._definitionChanged=new r,this._composite=new a,this._composite.definitionChanged.addEventListener(l.prototype._raiseDefinitionChanged,this)}return n(l.prototype,{isConstant:{get:function(){return this._composite.isConstant}},definitionChanged:{get:function(){return this._definitionChanged}},intervals:{get:function(){return this._composite.intervals}},referenceFrame:{get:function(){return this._referenceFrame},set:function(e){this._referenceFrame=e}}}),l.prototype.getValue=function(e,t){return this.getValueInReferenceFrame(e,o.FIXED,t)},l.prototype.getValueInReferenceFrame=function(e,n,i){var r=this._composite._intervals.findDataForIntervalContainingDate(e);if(t(r))return r.getValueInReferenceFrame(e,n,i)},l.prototype.equals=function(e){return this===e||e instanceof l&&this._referenceFrame===e._referenceFrame&&this._composite.equals(e._composite,s.equals)},l.prototype._raiseDefinitionChanged=function(){this._definitionChanged.raiseEvent(this)},l}.apply(t,i))||(e.exports=r)},1969:function(e,t,n){var i,r;i=[n(0),n(3),n(4),n(23),n(32),n(128)],void 0===(r=function(e,t,n,i,r,o){"use strict";function a(t){var n=t._targetProperty;if(t._resolveProperty){var i=function(t){var n=!0;if(t._resolveEntity){var i=t._targetCollection.getById(t._targetId);if(e(i)?(i.definitionChanged.addEventListener(s.prototype._onTargetEntityDefinitionChanged,t),t._targetEntity=i,t._resolveEntity=!1):(i=t._targetEntity,n=!1),!e(i))throw new r('target entity "'+t._targetId+'" could not be resolved.')}return n}(t),o=t._targetPropertyNames;n=t._targetEntity;for(var a=o.length,l=0;l<a&&e(n);l++)n=n[o[l]];if(e(n))t._targetProperty=n,t._resolveProperty=!i;else if(!e(t._targetProperty))throw new r('targetProperty "'+t._targetId+"."+o.join(".")+'" could not be resolved.')}return n}function s(e,t,n){this._targetCollection=e,this._targetId=t,this._targetPropertyNames=n,this._targetProperty=void 0,this._targetEntity=void 0,this._definitionChanged=new i,this._resolveEntity=!0,this._resolveProperty=!0,e.collectionChanged.addEventListener(s.prototype._onCollectionChanged,this)}return t(s.prototype,{isConstant:{get:function(){return o.isConstant(a(this))}},definitionChanged:{get:function(){return this._definitionChanged}},referenceFrame:{get:function(){return a(this).referenceFrame}},targetId:{get:function(){return this._targetId}},targetCollection:{get:function(){return this._targetCollection}},targetPropertyNames:{get:function(){return this._targetPropertyNames}},resolvedProperty:{get:function(){return a(this)}}}),s.fromString=function(e,t){for(var n,i=[],r=!0,o=!1,a="",l=0;l<t.length;++l){var c=t.charAt(l);o?(a+=c,o=!1):"\\"===c?o=!0:r&&"#"===c?(n=a,r=!1,a=""):r||"."!==c?a+=c:(i.push(a),a="")}return i.push(a),new s(e,n,i)},s.prototype.getValue=function(e,t){return a(this).getValue(e,t)},s.prototype.getValueInReferenceFrame=function(e,t,n){return a(this).getValueInReferenceFrame(e,t,n)},s.prototype.getType=function(e){return a(this).getType(e)},s.prototype.equals=function(e){if(this===e)return!0;var t=this._targetPropertyNames,n=e._targetPropertyNames;if(this._targetCollection!==e._targetCollection||this._targetId!==e._targetId||t.length!==n.length)return!1;for(var i=this._targetPropertyNames.length,r=0;r<i;r++)if(t[r]!==n[r])return!1;return!0},s.prototype._onTargetEntityDefinitionChanged=function(e,t,n,i){this._targetPropertyNames[0]===t&&(this._resolveProperty=!0,this._definitionChanged.raiseEvent(this))},s.prototype._onCollectionChanged=function(t,n,i){var r=this._targetEntity;e(r)&&(-1!==i.indexOf(r)?(r.definitionChanged.removeEventListener(s.prototype._onTargetEntityDefinitionChanged,this),this._resolveEntity=!0,this._resolveProperty=!0):this._resolveEntity&&(a(this),this._resolveEntity||this._definitionChanged.raiseEvent(this)))},s}.apply(t,i))||(e.exports=r)},1971:function(e,t,n){var i,r;i=[n(0),n(3),n(4),n(18),n(23),n(265),n(128)],void 0===(r=function(e,t,n,i,r,o,a){"use strict";function s(e){this._definitionChanged=new r,this._value=void 0,this._removeSubscription=void 0,this.setValue(e)}return t(s.prototype,{isConstant:{get:function(){return a.isConstant(this._value)}},definitionChanged:{get:function(){return this._definitionChanged}},referenceFrame:{get:function(){return e(this._value)?this._value.referenceFrame:o.FIXED}}}),s.prototype.getValue=function(e,t){return this.getValueInReferenceFrame(e,o.FIXED,t)},s.prototype.setValue=function(t){this._value!==t&&(this._value=t,e(this._removeSubscription)&&(this._removeSubscription(),this._removeSubscription=void 0),e(t)&&(this._removeSubscription=t.definitionChanged.addEventListener(this._raiseDefinitionChanged,this)),this._definitionChanged.raiseEvent(this))},s.prototype.getValueInReferenceFrame=function(t,n,r){if(e(this._value))return r=this._value.getValueInReferenceFrame(t,n,r),e(r)?i.WGS84.scaleToGeodeticSurface(r,r):void 0},s.prototype.equals=function(e){return this===e||e instanceof s&&this._value===e._value},s.prototype._raiseDefinitionChanged=function(){this._definitionChanged.raiseEvent(this)},s}.apply(t,i))||(e.exports=r)},1974:function(e,t,n){var i,r;i=[n(2),n(0),n(3),n(4),n(23),n(230),n(265),n(128)],void 0===(r=function(e,t,n,i,r,o,a,s){"use strict";function l(t,n){this._value=void 0,this._definitionChanged=new r,this._eventHelper=new o,this._referenceFrame=e(n,a.FIXED),this.setValue(t)}return n(l.prototype,{isConstant:{get:function(){var e=this._value;if(!t(e))return!0;for(var n=e.length,i=0;i<n;i++)if(!s.isConstant(e[i]))return!1;return!0}},definitionChanged:{get:function(){return this._definitionChanged}},referenceFrame:{get:function(){return this._referenceFrame}}}),l.prototype.getValue=function(e,t){return this.getValueInReferenceFrame(e,a.FIXED,t)},l.prototype.getValueInReferenceFrame=function(e,n,i){var r=this._value;if(t(r)){var o=r.length;t(i)||(i=new Array(o));for(var a=0,s=0;a<o;){var l=r[a].getValueInReferenceFrame(e,n,i[a]);t(l)&&(i[s]=l,s++),a++}return i.length=s,i}},l.prototype.setValue=function(e){var n=this._eventHelper;if(n.removeAll(),t(e)){this._value=e.slice();for(var i=e.length,r=0;r<i;r++){var o=e[r];t(o)&&n.add(o.definitionChanged,l.prototype._raiseDefinitionChanged,this)}}else this._value=void 0;this._definitionChanged.raiseEvent(this)},l.prototype.equals=function(e){return this===e||e instanceof l&&this._referenceFrame===e._referenceFrame&&s.arrayEquals(this._value,e._value)},l.prototype._raiseDefinitionChanged=function(){this._definitionChanged.raiseEvent(this)},l}.apply(t,i))||(e.exports=r)},1975:function(e,t,n){var i,r;i=[n(10)],void 0===(r=function(e){"use strict";return e({HORIZONTAL:0,VERTICAL:1})}.apply(t,i))||(e.exports=r)},1976:function(e,t,n){var i,r;i=[n(6),n(2),n(0),n(3),n(4),n(23),n(26),n(128)],void 0===(r=function(e,t,n,i,r,o,a,s){"use strict";function l(e,n){this._position=void 0,this._subscription=void 0,this._definitionChanged=new o,this._normalize=t(n,!0),this.position=e}i(l.prototype,{isConstant:{get:function(){return s.isConstant(this._position)}},definitionChanged:{get:function(){return this._definitionChanged}},position:{get:function(){return this._position},set:function(e){var t=this._position;t!==e&&(n(t)&&this._subscription(),this._position=e,n(e)&&(this._subscription=e._definitionChanged.addEventListener(function(){this._definitionChanged.raiseEvent(this)},this)),this._definitionChanged.raiseEvent(this))}},normalize:{get:function(){return this._normalize},set:function(e){this._normalize!==e&&(this._normalize=e,this._definitionChanged.raiseEvent(this))}}});var c=new e,u=new e,h=new a;return l.prototype.getValue=function(e,t){return this._getValue(e,t)},l.prototype._getValue=function(t,i,r){n(i)||(i=new e);var o=this._position;if(s.isConstant(o))return this._normalize?void 0:e.clone(e.ZERO,i);var l=o.getValue(t,c),d=o.getValue(a.addSeconds(t,1/60,h),u);if(n(l)&&(n(d)||(d=l,l=o.getValue(a.addSeconds(t,-1/60,h),u),n(l)))){if(e.equals(l,d))return this._normalize?void 0:e.clone(e.ZERO,i);n(r)&&l.clone(r);var f=e.subtract(d,l,i);return this._normalize?e.normalize(f,i):e.divideByScalar(f,1/60,i)}},l.prototype.equals=function(e){return this===e||e instanceof l&&s.equals(this._position,e._position)},l}.apply(t,i))||(e.exports=r)},1986:function(e,t,n){var i,r;i=[n(2),n(0),n(4),n(7)],void 0===(r=function(e,t,n,i){"use strict";var r=i.factorial;function o(e,t,n,i,r,a){var s,l,c,u=0;if(i>0){for(l=0;l<r;l++){for(s=!1,c=0;c<a.length&&!s;c++)l===a[c]&&(s=!0);s||(a.push(l),u+=o(e,t,n,i-1,r,a),a.splice(a.length-1,1))}return u}for(u=1,l=0;l<r;l++){for(s=!1,c=0;c<a.length&&!s;c++)l===a[c]&&(s=!0);s||(u*=e-n[t[l]])}return u}var a={type:"Hermite",getRequiredDataPoints:function(t,n){return n=e(n,0),Math.max(Math.floor((t+1)/(n+1)),2)},interpolateOrderZero:function(e,n,i,a,s){var l,c,u,h,d;t(s)||(s=new Array(a));var f=n.length,p=new Array(a);for(l=0;l<a;l++){s[l]=0;var g=new Array(f);for(p[l]=g,c=0;c<f;c++)g[c]=[]}var v=f,m=new Array(v);for(l=0;l<v;l++)m[l]=l;var y=f-1;for(h=0;h<a;h++){for(c=0;c<v;c++)d=m[c]*a+h,p[h][0].push(i[d]);for(l=1;l<v;l++){var w=!1;for(c=0;c<v-l;c++){var _,C=n[m[c]],x=n[m[c+l]];x-C<=0?(_=i[d=m[c]*a+a*l+h],p[h][l].push(_/r(l))):(_=p[h][l-1][c+1]-p[h][l-1][c],p[h][l].push(_/(x-C))),w=w||0!==_}w||(y=l-1)}}for(u=0,0;u<=0;u++)for(l=u;l<=y;l++){var k=o(e,m,n,u,l,[]);for(h=0;h<a;h++){var b=p[h][l][0];s[h+u*a]+=b*k}}return s}},s=[];return a.interpolate=function(e,n,r,a,l,c,u){var h=a*(c+1);t(u)||(u=new Array(h));for(var d=0;d<h;d++)u[d]=0;var f,p=n.length,g=new Array(p*(l+1));for(f=0;f<p;f++)for(var v=0;v<l+1;v++)g[f*(l+1)+v]=f;for(var m=g.length,y=s,w=function(e,t,n,r,o,a){for(var s,l,c=-1,u=t.length,h=u*(u+1)/2,d=0;d<o;d++){var f=Math.floor(d*h);for(s=0;s<u;s++)l=t[s]*o*(a+1)+d,e[f+s]=r[l];for(var p=1;p<u;p++){var g=0,v=Math.floor(p*(1-p)/2)+u*p,m=!1;for(s=0;s<u-p;s++){var y,w,_=n[t[s]],C=n[t[s+p]];if(C-_<=0)l=t[s]*o*(a+1)+o*p+d,y=r[l],w=y/i.factorial(p),e[f+v+g]=w,g++;else{var x=Math.floor((p-1)*(2-p)/2)+u*(p-1);y=e[f+x+s+1]-e[f+x+s],w=y/(C-_),e[f+v+g]=w,g++}m=m||0!==y}m&&(c=Math.max(c,p))}}return c}(y,g,n,r,a,l),_=[],C=m*(m+1)/2,x=Math.min(w,c),k=0;k<=x;k++)for(f=k;f<=w;f++){_.length=0;for(var b=o(e,g,n,k,f,_),T=Math.floor(f*(1-f)/2)+m*f,M=0;M<a;M++){var E=y[Math.floor(M*C)+T];u[M+k*a]+=E*b}}return u},a}.apply(t,i))||(e.exports=r)},1987:function(e,t,n){var i,r;i=[n(0)],void 0===(r=function(e){"use strict";var t={type:"Lagrange",getRequiredDataPoints:function(e){return Math.max(e+1,2)},interpolateOrderZero:function(t,n,i,r,o){var a,s;e(o)||(o=new Array(r));var l=n.length;for(a=0;a<r;a++)o[a]=0;for(a=0;a<l;a++){var c=1;for(s=0;s<l;s++)if(s!==a){var u=n[a]-n[s];c*=(t-n[s])/u}for(s=0;s<r;s++)o[s]+=c*i[a*r+s]}return o}};return t}.apply(t,i))||(e.exports=r)},1988:function(e,t,n){var i,r;i=[n(11),n(2),n(0)],void 0===(r=function(e,t,n){"use strict";function i(e,n,i){this.clock=t(e,0),this.cone=t(n,0),this.magnitude=t(i,1)}return i.fromCartesian3=function(e,t){var r=e.x,o=e.y,a=e.z,s=r*r+o*o;return n(t)||(t=new i),t.clock=Math.atan2(o,r),t.cone=Math.atan2(Math.sqrt(s),a),t.magnitude=Math.sqrt(s+a*a),t},i.clone=function(e,t){if(n(e))return n(t)?(t.clock=e.clock,t.cone=e.cone,t.magnitude=e.magnitude,t):new i(e.clock,e.cone,e.magnitude)},i.normalize=function(e,t){return n(t)?(t.clock=e.clock,t.cone=e.cone,t.magnitude=1,t):new i(e.clock,e.cone,1)},i.equals=function(e,t){return e===t||n(e)&&n(t)&&e.clock===t.clock&&e.cone===t.cone&&e.magnitude===t.magnitude},i.equalsEpsilon=function(e,i,r){return r=t(r,0),e===i||n(e)&&n(i)&&Math.abs(e.clock-i.clock)<=r&&Math.abs(e.cone-i.cone)<=r&&Math.abs(e.magnitude-i.magnitude)<=r},i.prototype.equals=function(e){return i.equals(this,e)},i.prototype.clone=function(e){return i.clone(this,e)},i.prototype.equalsEpsilon=function(e,t){return i.equalsEpsilon(this,e,t)},i.prototype.toString=function(){return"("+this.clock+", "+this.cone+", "+this.magnitude+")"},i}.apply(t,i))||(e.exports=r)},1989:function(e,t,n){var i,r;i=[n(16),n(21),n(2),n(0),n(3),n(23),n(60),n(128)],void 0===(r=function(e,t,n,i,r,o,a,s){"use strict";var l=t.WHITE,c=t.BLACK,u=new e(2,2);function h(e){e=n(e,n.EMPTY_OBJECT),this._definitionChanged=new o,this._evenColor=void 0,this._evenColorSubscription=void 0,this._oddColor=void 0,this._oddColorSubscription=void 0,this._repeat=void 0,this._repeatSubscription=void 0,this.evenColor=e.evenColor,this.oddColor=e.oddColor,this.repeat=e.repeat}return r(h.prototype,{isConstant:{get:function(){return s.isConstant(this._evenColor)&&s.isConstant(this._oddColor)&&s.isConstant(this._repeat)}},definitionChanged:{get:function(){return this._definitionChanged}},evenColor:a("evenColor"),oddColor:a("oddColor"),repeat:a("repeat")}),h.prototype.getType=function(e){return"Checkerboard"},h.prototype.getValue=function(e,t){return i(t)||(t={}),t.lightColor=s.getValueOrClonedDefault(this._evenColor,e,l,t.lightColor),t.darkColor=s.getValueOrClonedDefault(this._oddColor,e,c,t.darkColor),t.repeat=s.getValueOrDefault(this._repeat,e,u),t},h.prototype.equals=function(e){return this===e||e instanceof h&&s.equals(this._evenColor,e._evenColor)&&s.equals(this._oddColor,e._oddColor)&&s.equals(this._repeat,e._repeat)},h}.apply(t,i))||(e.exports=r)},1990:function(e,t,n){var i,r;i=[n(0),n(3),n(4),n(23),n(1967),n(128)],void 0===(r=function(e,t,n,i,r,o){"use strict";function a(){this._definitionChanged=new i,this._composite=new r,this._composite.definitionChanged.addEventListener(a.prototype._raiseDefinitionChanged,this)}return t(a.prototype,{isConstant:{get:function(){return this._composite.isConstant}},definitionChanged:{get:function(){return this._definitionChanged}},intervals:{get:function(){return this._composite._intervals}}}),a.prototype.getType=function(t){var n=this._composite._intervals.findDataForIntervalContainingDate(t);if(e(n))return n.getType(t)},a.prototype.getValue=function(t,n){var i=this._composite._intervals.findDataForIntervalContainingDate(t);if(e(i))return i.getValue(t,n)},a.prototype.equals=function(e){return this===e||e instanceof a&&this._composite.equals(e._composite,o.equals)},a.prototype._raiseDefinitionChanged=function(){this._definitionChanged.raiseEvent(this)},a}.apply(t,i))||(e.exports=r)},1991:function(e,t,n){var i,r;i=[n(16),n(21),n(2),n(0),n(3),n(23),n(60),n(128)],void 0===(r=function(e,t,n,i,r,o,a,s){"use strict";var l=t.WHITE,c=new e(8,8),u=new e(0,0),h=new e(1,1);function d(e){e=n(e,n.EMPTY_OBJECT),this._definitionChanged=new o,this._color=void 0,this._colorSubscription=void 0,this._cellAlpha=void 0,this._cellAlphaSubscription=void 0,this._lineCount=void 0,this._lineCountSubscription=void 0,this._lineThickness=void 0,this._lineThicknessSubscription=void 0,this._lineOffset=void 0,this._lineOffsetSubscription=void 0,this.color=e.color,this.cellAlpha=e.cellAlpha,this.lineCount=e.lineCount,this.lineThickness=e.lineThickness,this.lineOffset=e.lineOffset}return r(d.prototype,{isConstant:{get:function(){return s.isConstant(this._color)&&s.isConstant(this._cellAlpha)&&s.isConstant(this._lineCount)&&s.isConstant(this._lineThickness)&&s.isConstant(this._lineOffset)}},definitionChanged:{get:function(){return this._definitionChanged}},color:a("color"),cellAlpha:a("cellAlpha"),lineCount:a("lineCount"),lineThickness:a("lineThickness"),lineOffset:a("lineOffset")}),d.prototype.getType=function(e){return"Grid"},d.prototype.getValue=function(e,t){return i(t)||(t={}),t.color=s.getValueOrClonedDefault(this._color,e,l,t.color),t.cellAlpha=s.getValueOrDefault(this._cellAlpha,e,.1),t.lineCount=s.getValueOrClonedDefault(this._lineCount,e,c,t.lineCount),t.lineThickness=s.getValueOrClonedDefault(this._lineThickness,e,h,t.lineThickness),t.lineOffset=s.getValueOrClonedDefault(this._lineOffset,e,u,t.lineOffset),t},d.prototype.equals=function(e){return this===e||e instanceof d&&s.equals(this._color,e._color)&&s.equals(this._cellAlpha,e._cellAlpha)&&s.equals(this._lineCount,e._lineCount)&&s.equals(this._lineThickness,e._lineThickness)&&s.equals(this._lineOffset,e._lineOffset)},d}.apply(t,i))||(e.exports=r)},1992:function(e,t,n){var i,r;i=[n(21),n(0),n(3),n(23),n(60),n(128)],void 0===(r=function(e,t,n,i,r,o){"use strict";function a(e){this._definitionChanged=new i,this._color=void 0,this._colorSubscription=void 0,this.color=e}return n(a.prototype,{isConstant:{get:function(){return o.isConstant(this._color)}},definitionChanged:{get:function(){return this._definitionChanged}},color:r("color")}),a.prototype.getType=function(e){return"PolylineArrow"},a.prototype.getValue=function(n,i){return t(i)||(i={}),i.color=o.getValueOrClonedDefault(this._color,n,e.WHITE,i.color),i},a.prototype.equals=function(e){return this===e||e instanceof a&&o.equals(this._color,e._color)},a}.apply(t,i))||(e.exports=r)},1993:function(e,t,n){var i,r;i=[n(21),n(2),n(0),n(3),n(23),n(60),n(128)],void 0===(r=function(e,t,n,i,r,o,a){"use strict";var s=e.WHITE,l=e.TRANSPARENT;function c(e){e=t(e,t.EMPTY_OBJECT),this._definitionChanged=new r,this._color=void 0,this._colorSubscription=void 0,this._gapColor=void 0,this._gapColorSubscription=void 0,this._dashLength=void 0,this._dashLengthSubscription=void 0,this._dashPattern=void 0,this._dashPatternSubscription=void 0,this.color=e.color,this.gapColor=e.gapColor,this.dashLength=e.dashLength,this.dashPattern=e.dashPattern}return i(c.prototype,{isConstant:{get:function(){return a.isConstant(this._color)&&a.isConstant(this._gapColor)&&a.isConstant(this._dashLength)&&a.isConstant(this._dashPattern)}},definitionChanged:{get:function(){return this._definitionChanged}},color:o("color"),gapColor:o("gapColor"),dashLength:o("dashLength"),dashPattern:o("dashPattern")}),c.prototype.getType=function(e){return"PolylineDash"},c.prototype.getValue=function(e,t){return n(t)||(t={}),t.color=a.getValueOrClonedDefault(this._color,e,s,t.color),t.gapColor=a.getValueOrClonedDefault(this._gapColor,e,l,t.gapColor),t.dashLength=a.getValueOrDefault(this._dashLength,e,16,t.dashLength),t.dashPattern=a.getValueOrDefault(this._dashPattern,e,255,t.dashPattern),t},c.prototype.equals=function(e){return this===e||e instanceof c&&a.equals(this._color,e._color)&&a.equals(this._gapColor,e._gapColor)&&a.equals(this._dashLength,e._dashLength)&&a.equals(this._dashPattern,e._dashPattern)},c}.apply(t,i))||(e.exports=r)},1994:function(e,t,n){var i,r;i=[n(21),n(2),n(0),n(3),n(23),n(60),n(128)],void 0===(r=function(e,t,n,i,r,o,a){"use strict";var s=e.WHITE,l=e.BLACK;function c(e){e=t(e,t.EMPTY_OBJECT),this._definitionChanged=new r,this._color=void 0,this._colorSubscription=void 0,this._outlineColor=void 0,this._outlineColorSubscription=void 0,this._outlineWidth=void 0,this._outlineWidthSubscription=void 0,this.color=e.color,this.outlineColor=e.outlineColor,this.outlineWidth=e.outlineWidth}return i(c.prototype,{isConstant:{get:function(){return a.isConstant(this._color)&&a.isConstant(this._outlineColor)&&a.isConstant(this._outlineWidth)}},definitionChanged:{get:function(){return this._definitionChanged}},color:o("color"),outlineColor:o("outlineColor"),outlineWidth:o("outlineWidth")}),c.prototype.getType=function(e){return"PolylineOutline"},c.prototype.getValue=function(e,t){return n(t)||(t={}),t.color=a.getValueOrClonedDefault(this._color,e,s,t.color),t.outlineColor=a.getValueOrClonedDefault(this._outlineColor,e,l,t.outlineColor),t.outlineWidth=a.getValueOrDefault(this._outlineWidth,e,1),t},c.prototype.equals=function(e){return this===e||e instanceof c&&a.equals(this._color,e._color)&&a.equals(this._outlineColor,e._outlineColor)&&a.equals(this._outlineWidth,e._outlineWidth)},c}.apply(t,i))||(e.exports=r)},1995:function(e,t,n){var i,r;i=[n(0),n(3),n(4),n(23),n(230),n(128)],void 0===(r=function(e,t,n,i,r,o){"use strict";function a(e){this._value=void 0,this._definitionChanged=new i,this._eventHelper=new r,this.setValue(e)}return t(a.prototype,{isConstant:{get:function(){var t=this._value;if(!e(t))return!0;for(var n=t.length,i=0;i<n;i++)if(!o.isConstant(t[i]))return!1;return!0}},definitionChanged:{get:function(){return this._definitionChanged}}}),a.prototype.getValue=function(t,n){var i=this._value;if(e(i)){var r=i.length;e(n)||(n=new Array(r));for(var o=0,a=0;o<r;){var s=this._value[o].getValue(t,n[o]);e(s)&&(n[a]=s,a++),o++}return n.length=a,n}},a.prototype.setValue=function(t){var n=this._eventHelper;if(n.removeAll(),e(t)){this._value=t.slice();for(var i=t.length,r=0;r<i;r++){var o=t[r];e(o)&&n.add(o.definitionChanged,a.prototype._raiseDefinitionChanged,this)}}else this._value=void 0;this._definitionChanged.raiseEvent(this)},a.prototype.equals=function(e){return this===e||e instanceof a&&o.arrayEquals(this._value,e._value)},a.prototype._raiseDefinitionChanged=function(){this._definitionChanged.raiseEvent(this)},a}.apply(t,i))||(e.exports=r)},1996:function(e,t,n){var i,r;i=[n(2),n(0),n(4),n(7)],void 0===(r=function(e,t,n,i){"use strict";return{packedLength:1,pack:function(t,n,i){return n[i=e(i,0)]=t,n},unpack:function(t,n,i){return t[n=e(n,0)]},convertPackedArrayForInterpolation:function(t,n,r,o){var a;n=e(n,0);for(var s=0,l=(r=e(r,t.length))-n+1;s<l;s++){var c=t[n+s];0===s||Math.abs(a-c)<Math.PI?o[s]=c:o[s]=c-i.TWO_PI,a=c}},unpackInterpolationResult:function(e,t,n,r,o){return(o=e[0])<0?o+i.TWO_PI:o}}}.apply(t,i))||(e.exports=r)},1997:function(e,t,n){var i,r;i=[n(21),n(2),n(0),n(3),n(23),n(60),n(128),n(1975)],void 0===(r=function(e,t,n,i,r,o,a,s){"use strict";var l=s.HORIZONTAL,c=e.WHITE,u=e.BLACK;function h(e){e=t(e,t.EMPTY_OBJECT),this._definitionChanged=new r,this._orientation=void 0,this._orientationSubscription=void 0,this._evenColor=void 0,this._evenColorSubscription=void 0,this._oddColor=void 0,this._oddColorSubscription=void 0,this._offset=void 0,this._offsetSubscription=void 0,this._repeat=void 0,this._repeatSubscription=void 0,this.orientation=e.orientation,this.evenColor=e.evenColor,this.oddColor=e.oddColor,this.offset=e.offset,this.repeat=e.repeat}return i(h.prototype,{isConstant:{get:function(){return a.isConstant(this._orientation)&&a.isConstant(this._evenColor)&&a.isConstant(this._oddColor)&&a.isConstant(this._offset)&&a.isConstant(this._repeat)}},definitionChanged:{get:function(){return this._definitionChanged}},orientation:o("orientation"),evenColor:o("evenColor"),oddColor:o("oddColor"),offset:o("offset"),repeat:o("repeat")}),h.prototype.getType=function(e){return"Stripe"},h.prototype.getValue=function(e,t){return n(t)||(t={}),t.horizontal=a.getValueOrDefault(this._orientation,e,l)===s.HORIZONTAL,t.evenColor=a.getValueOrClonedDefault(this._evenColor,e,c,t.evenColor),t.oddColor=a.getValueOrClonedDefault(this._oddColor,e,u,t.oddColor),t.offset=a.getValueOrDefault(this._offset,e,0),t.repeat=a.getValueOrDefault(this._repeat,e,1),t},h.prototype.equals=function(e){return this===e||e instanceof h&&a.equals(this._orientation,e._orientation)&&a.equals(this._evenColor,e._evenColor)&&a.equals(this._oddColor,e._oddColor)&&a.equals(this._offset,e._offset)&&a.equals(this._repeat,e._repeat)},h}.apply(t,i))||(e.exports=r)},1998:function(e,t,n){var i,r;i=[n(6),n(2),n(0),n(3),n(18),n(23),n(41),n(62),n(55),n(128),n(1976)],void 0===(r=function(e,t,n,i,r,o,a,s,l,c,u){"use strict";function h(e,n){this._velocityVectorProperty=new u(e,!0),this._subscription=void 0,this._ellipsoid=void 0,this._definitionChanged=new o,this.ellipsoid=t(n,r.WGS84);var i=this;this._velocityVectorProperty.definitionChanged.addEventListener(function(){i._definitionChanged.raiseEvent(i)})}i(h.prototype,{isConstant:{get:function(){return c.isConstant(this._velocityVectorProperty)}},definitionChanged:{get:function(){return this._definitionChanged}},position:{get:function(){return this._velocityVectorProperty.position},set:function(e){this._velocityVectorProperty.position=e}},ellipsoid:{get:function(){return this._ellipsoid},set:function(e){this._ellipsoid!==e&&(this._ellipsoid=e,this._definitionChanged.raiseEvent(this))}}});var d=new e,f=new e,p=new a;return h.prototype.getValue=function(e,t){var i=this._velocityVectorProperty._getValue(e,f,d);if(n(i))return l.rotationMatrixFromPositionVelocity(d,i,this._ellipsoid,p),s.fromRotationMatrix(p,t)},h.prototype.equals=function(e){return this===e||e instanceof h&&c.equals(this._velocityVectorProperty,e._velocityVectorProperty)&&(this._ellipsoid===e._ellipsoid||this._ellipsoid.equals(e._ellipsoid))},h}.apply(t,i))||(e.exports=r)},1999:function(e,t,n){var i,r;r=this,void 0===(i=function(){return r.Autolinker=((o=function(e){o.Util.assign(this,e);var t=this.hashtag;if(!1!==t&&"twitter"!==t&&"facebook"!==t)throw new Error("invalid `hashtag` cfg - see docs")}).prototype={constructor:o,urls:!0,email:!0,twitter:!0,phone:!0,hashtag:!1,newWindow:!0,stripPrefix:!0,truncate:void 0,className:"",htmlParser:void 0,matchParser:void 0,tagBuilder:void 0,link:function(e){for(var t=this.getHtmlParser().parse(e),n=0,i=[],r=0,o=t.length;r<o;r++){var a=t[r],s=a.getType(),l=a.getText();if("element"===s)"a"===a.getTagName()&&(a.isClosing()?n=Math.max(n-1,0):n++),i.push(l);else if("entity"===s||"comment"===s)i.push(l);else if(0===n){var c=this.linkifyStr(l);i.push(c)}else i.push(l)}return i.join("")},linkifyStr:function(e){return this.getMatchParser().replace(e,this.createMatchReturnVal,this)},createMatchReturnVal:function(e){var t;return this.replaceFn&&(t=this.replaceFn.call(this,this,e)),"string"==typeof t?t:!1===t?e.getMatchedText():t instanceof o.HtmlTag?t.toAnchorString():this.getTagBuilder().build(e).toAnchorString()},getHtmlParser:function(){var e=this.htmlParser;return e||(e=this.htmlParser=new o.htmlParser.HtmlParser),e},getMatchParser:function(){var e=this.matchParser;return e||(e=this.matchParser=new o.matchParser.MatchParser({urls:this.urls,email:this.email,twitter:this.twitter,phone:this.phone,hashtag:this.hashtag,stripPrefix:this.stripPrefix})),e},getTagBuilder:function(){var e=this.tagBuilder;return e||(e=this.tagBuilder=new o.AnchorTagBuilder({newWindow:this.newWindow,truncate:this.truncate,className:this.className})),e}},o.link=function(e,t){return new o(t).link(e)},o.match={},o.htmlParser={},o.matchParser={},o.Util={abstractMethod:function(){throw"abstract"},trimRegex:/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,assign:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},extend:function(e,t){var n,i=e.prototype,r=function(){};r.prototype=i;var a=(n=t.hasOwnProperty("constructor")?t.constructor:function(){i.constructor.apply(this,arguments)}).prototype=new r;return a.constructor=n,a.superclass=i,delete t.constructor,o.Util.assign(a,t),n},ellipsis:function(e,t,n){return e.length>t&&(n=null==n?"..":n,e=e.substring(0,t-n.length)+n),e},indexOf:function(e,t){if(Array.prototype.indexOf)return e.indexOf(t);for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},splitAndCapture:function(e,t){if(!t.global)throw new Error("`splitRegex` must have the 'g' flag set");for(var n,i=[],r=0;n=t.exec(e);)i.push(e.substring(r,n.index)),i.push(n[0]),r=n.index+n[0].length;return i.push(e.substring(r)),i},trim:function(e){return e.replace(this.trimRegex,"")}},o.HtmlTag=o.Util.extend(Object,{whitespaceRegex:/\s+/,constructor:function(e){o.Util.assign(this,e),this.innerHtml=this.innerHtml||this.innerHTML},setTagName:function(e){return this.tagName=e,this},getTagName:function(){return this.tagName||""},setAttr:function(e,t){return this.getAttrs()[e]=t,this},getAttr:function(e){return this.getAttrs()[e]},setAttrs:function(e){var t=this.getAttrs();return o.Util.assign(t,e),this},getAttrs:function(){return this.attrs||(this.attrs={})},setClass:function(e){return this.setAttr("class",e)},addClass:function(e){for(var t,n=this.getClass(),i=this.whitespaceRegex,r=o.Util.indexOf,a=n?n.split(i):[],s=e.split(i);t=s.shift();)-1===r(a,t)&&a.push(t);return this.getAttrs().class=a.join(" "),this},removeClass:function(e){for(var t,n=this.getClass(),i=this.whitespaceRegex,r=o.Util.indexOf,a=n?n.split(i):[],s=e.split(i);a.length&&(t=s.shift());){var l=r(a,t);-1!==l&&a.splice(l,1)}return this.getAttrs().class=a.join(" "),this},getClass:function(){return this.getAttrs().class||""},hasClass:function(e){return-1!==(" "+this.getClass()+" ").indexOf(" "+e+" ")},setInnerHtml:function(e){return this.innerHtml=e,this},getInnerHtml:function(){return this.innerHtml||""},toAnchorString:function(){var e=this.getTagName(),t=this.buildAttrsStr();return["<",e,t=t?" "+t:"",">",this.getInnerHtml(),"</",e,">"].join("")},buildAttrsStr:function(){if(!this.attrs)return"";var e=this.getAttrs(),t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n+'="'+e[n]+'"');return t.join(" ")}}),o.AnchorTagBuilder=o.Util.extend(Object,{constructor:function(e){o.Util.assign(this,e)},build:function(e){return new o.HtmlTag({tagName:"a",attrs:this.createAttrs(e.getType(),e.getAnchorHref()),innerHtml:this.processAnchorText(e.getAnchorText())})},createAttrs:function(e,t){var n={href:t},i=this.createCssClass(e);return i&&(n.class=i),this.newWindow&&(n.target="_blank"),n},createCssClass:function(e){var t=this.className;return t?t+" "+t+"-"+e:""},processAnchorText:function(e){return e=this.doTruncate(e)},doTruncate:function(e){return o.Util.ellipsis(e,this.truncate||Number.POSITIVE_INFINITY)}}),o.htmlParser.HtmlParser=o.Util.extend(Object,{htmlRegex:(n=/(?:"[^"]*?"|'[^']*?'|[^'"=<>`\s]+)/,i=/[^\s\0"'>\/=\x01-\x1F\x7F]+/.source+"(?:\\s*=\\s*"+n.source+")?",new RegExp(["(?:","<(!DOCTYPE)","(?:","\\s+","(?:",i,"|",n.source+")",")*",">",")","|","(?:","<(/)?","(?:",/!--([\s\S]+?)--/.source,"|","(?:","("+/[0-9a-zA-Z][0-9a-zA-Z:]*/.source+")","(?:","\\s+",i,")*","\\s*/?",")",")",">",")"].join(""),"gi")),htmlCharacterEntitiesRegex:/(&nbsp;|&#160;|&lt;|&#60;|&gt;|&#62;|&quot;|&#34;|&#39;)/gi,parse:function(e){for(var t,n,i=this.htmlRegex,r=0,o=[];null!==(t=i.exec(e));){var a=t[0],s=t[3],l=t[1]||t[4],c=!!t[2],u=e.substring(r,t.index);u&&(n=this.parseTextAndEntityNodes(u),o.push.apply(o,n)),s?o.push(this.createCommentNode(a,s)):o.push(this.createElementNode(a,l,c)),r=t.index+a.length}if(r<e.length){var h=e.substring(r);h&&(n=this.parseTextAndEntityNodes(h),o.push.apply(o,n))}return o},parseTextAndEntityNodes:function(e){for(var t=[],n=o.Util.splitAndCapture(e,this.htmlCharacterEntitiesRegex),i=0,r=n.length;i<r;i+=2){var a=n[i],s=n[i+1];a&&t.push(this.createTextNode(a)),s&&t.push(this.createEntityNode(s))}return t},createCommentNode:function(e,t){return new o.htmlParser.CommentNode({text:e,comment:o.Util.trim(t)})},createElementNode:function(e,t,n){return new o.htmlParser.ElementNode({text:e,tagName:t.toLowerCase(),closing:n})},createEntityNode:function(e){return new o.htmlParser.EntityNode({text:e})},createTextNode:function(e){return new o.htmlParser.TextNode({text:e})}}),o.htmlParser.HtmlNode=o.Util.extend(Object,{text:"",constructor:function(e){o.Util.assign(this,e)},getType:o.Util.abstractMethod,getText:function(){return this.text}}),o.htmlParser.CommentNode=o.Util.extend(o.htmlParser.HtmlNode,{comment:"",getType:function(){return"comment"},getComment:function(){return this.comment}}),o.htmlParser.ElementNode=o.Util.extend(o.htmlParser.HtmlNode,{tagName:"",closing:!1,getType:function(){return"element"},getTagName:function(){return this.tagName},isClosing:function(){return this.closing}}),o.htmlParser.EntityNode=o.Util.extend(o.htmlParser.HtmlNode,{getType:function(){return"entity"}}),o.htmlParser.TextNode=o.Util.extend(o.htmlParser.HtmlNode,{getType:function(){return"text"}}),o.matchParser.MatchParser=o.Util.extend(Object,{urls:!0,email:!0,twitter:!0,phone:!0,hashtag:!1,stripPrefix:!0,matcherRegex:(e=/[A-Za-z0-9\.\-]*[A-Za-z0-9\-]/,t=/\.(?:international|construction|contractors|enterprises|photography|productions|foundation|immobilien|industries|management|properties|technology|christmas|community|directory|education|equipment|institute|marketing|solutions|vacations|bargains|boutique|builders|catering|cleaning|clothing|computer|democrat|diamonds|graphics|holdings|lighting|partners|plumbing|supplies|training|ventures|academy|careers|company|cruises|domains|exposed|flights|florist|gallery|guitars|holiday|kitchen|neustar|okinawa|recipes|rentals|reviews|shiksha|singles|support|systems|agency|berlin|camera|center|coffee|condos|dating|estate|events|expert|futbol|kaufen|luxury|maison|monash|museum|nagoya|photos|repair|report|social|supply|tattoo|tienda|travel|viajes|villas|vision|voting|voyage|actor|build|cards|cheap|codes|dance|email|glass|house|mango|ninja|parts|photo|shoes|solar|today|tokyo|tools|watch|works|aero|arpa|asia|best|bike|blue|buzz|camp|club|cool|coop|farm|fish|gift|guru|info|jobs|kiwi|kred|land|limo|link|menu|mobi|moda|name|pics|pink|post|qpon|rich|ruhr|sexy|tips|vote|voto|wang|wien|wiki|zone|bar|bid|biz|cab|cat|ceo|com|edu|gov|int|kim|mil|net|onl|org|pro|pub|red|tel|uno|wed|xxx|xyz|ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cw|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw)\b/,new RegExp(["(",/(^|[^\w])@(\w{1,15})/.source,")","|","(",/(?:[\-;:&=\+\$,\w\.]+@)/.source,e.source,t.source,")","|","(","(?:","(",/(?:[A-Za-z][-.+A-Za-z0-9]+:(?![A-Za-z][-.+A-Za-z0-9]+:\/\/)(?!\d+\/?)(?:\/\/)?)/.source,e.source,")","|","(?:","(.?//)?",/(?:www\.)/.source,e.source,")","|","(?:","(.?//)?",e.source,t.source,")",")","(?:"+/[\-A-Za-z0-9+&@#\/%=~_()|'$*\[\]?!:,.;]*[\-A-Za-z0-9+&@#\/%=~_()|'$*\[\]]/.source+")?",")","|","(",/(?:\+?\d{1,3}[-\s.])?\(?\d{3}\)?[-\s.]?\d{3}[-\s.]\d{4}/.source,")","|","(",/(^|[^\w])#(\w{1,15})/.source,")"].join(""),"gi")),charBeforeProtocolRelMatchRegex:/^(.)?\/\//,constructor:function(e){o.Util.assign(this,e),this.matchValidator=new o.MatchValidator},replace:function(e,t,n){var i=this;return e.replace(this.matcherRegex,function(e,r,o,a,s,l,c,u,h,d,f,p,g){var v=i.processCandidateMatch(e,r,o,a,s,l,c,u,h,d,f,p,g);if(v){var m=t.call(n,v.match);return v.prefixStr+m+v.suffixStr}return e})},processCandidateMatch:function(e,t,n,i,r,a,s,l,c,u,h,d,f){var p,g=l||c,v="",m="";if(a&&!this.urls||r&&!this.email||u&&!this.phone||t&&!this.twitter||h&&!this.hashtag||!this.matchValidator.isValidMatch(a,s,g))return null;if(this.matchHasUnbalancedClosingParen(e)&&(e=e.substr(0,e.length-1),m=")"),r)p=new o.match.Email({matchedText:e,email:r});else if(t)n&&(v=n,e=e.slice(1)),p=new o.match.Twitter({matchedText:e,twitterHandle:i});else if(u){var y=e.replace(/\D/g,"");p=new o.match.Phone({matchedText:e,number:y})}else if(h)d&&(v=d,e=e.slice(1)),p=new o.match.Hashtag({matchedText:e,serviceName:this.hashtag,hashtag:f});else{if(g){var w=g.match(this.charBeforeProtocolRelMatchRegex)[1]||"";w&&(v=w,e=e.slice(1))}p=new o.match.Url({matchedText:e,url:e,protocolUrlMatch:!!s,protocolRelativeMatch:!!g,stripPrefix:this.stripPrefix})}return{prefixStr:v,suffixStr:m,match:p}},matchHasUnbalancedClosingParen:function(e){if(")"===e.charAt(e.length-1)){var t=e.match(/\(/g),n=e.match(/\)/g);if((t&&t.length||0)<(n&&n.length||0))return!0}return!1}}),o.MatchValidator=o.Util.extend(Object,{invalidProtocolRelMatchRegex:/^[\w]\/\//,hasFullProtocolRegex:/^[A-Za-z][-.+A-Za-z0-9]+:\/\//,uriSchemeRegex:/^[A-Za-z][-.+A-Za-z0-9]+:/,hasWordCharAfterProtocolRegex:/:[^\s]*?[A-Za-z]/,isValidMatch:function(e,t,n){return!(t&&!this.isValidUriScheme(t)||this.urlMatchDoesNotHaveProtocolOrDot(e,t)||this.urlMatchDoesNotHaveAtLeastOneWordChar(e,t)||this.isInvalidProtocolRelativeMatch(n))},isValidUriScheme:function(e){var t=e.match(this.uriSchemeRegex)[0].toLowerCase();return"javascript:"!==t&&"vbscript:"!==t},urlMatchDoesNotHaveProtocolOrDot:function(e,t){return!(!e||t&&this.hasFullProtocolRegex.test(t)||-1!==e.indexOf("."))},urlMatchDoesNotHaveAtLeastOneWordChar:function(e,t){return!(!e||!t||this.hasWordCharAfterProtocolRegex.test(e))},isInvalidProtocolRelativeMatch:function(e){return!!e&&this.invalidProtocolRelMatchRegex.test(e)}}),o.match.Match=o.Util.extend(Object,{constructor:function(e){o.Util.assign(this,e)},getType:o.Util.abstractMethod,getMatchedText:function(){return this.matchedText},getAnchorHref:o.Util.abstractMethod,getAnchorText:o.Util.abstractMethod}),o.match.Email=o.Util.extend(o.match.Match,{getType:function(){return"email"},getEmail:function(){return this.email},getAnchorHref:function(){return"mailto:"+this.email},getAnchorText:function(){return this.email}}),o.match.Hashtag=o.Util.extend(o.match.Match,{getType:function(){return"hashtag"},getHashtag:function(){return this.hashtag},getAnchorHref:function(){var e=this.serviceName,t=this.hashtag;switch(e){case"twitter":return"https://twitter.com/hashtag/"+t;case"facebook":return"https://www.facebook.com/hashtag/"+t;default:throw new Error("Unknown service name to point hashtag to: ",e)}},getAnchorText:function(){return"#"+this.hashtag}}),o.match.Phone=o.Util.extend(o.match.Match,{getType:function(){return"phone"},getNumber:function(){return this.number},getAnchorHref:function(){return"tel:"+this.number},getAnchorText:function(){return this.matchedText}}),o.match.Twitter=o.Util.extend(o.match.Match,{getType:function(){return"twitter"},getTwitterHandle:function(){return this.twitterHandle},getAnchorHref:function(){return"https://twitter.com/"+this.twitterHandle},getAnchorText:function(){return"@"+this.twitterHandle}}),o.match.Url=o.Util.extend(o.match.Match,{urlPrefixRegex:/^(https?:\/\/)?(www\.)?/i,protocolRelativeRegex:/^\/\//,protocolPrepended:!1,getType:function(){return"url"},getUrl:function(){var e=this.url;return this.protocolRelativeMatch||this.protocolUrlMatch||this.protocolPrepended||(e=this.url="http://"+e,this.protocolPrepended=!0),e},getAnchorHref:function(){return this.getUrl().replace(/&amp;/g,"&")},getAnchorText:function(){var e=this.getUrl();return this.protocolRelativeMatch&&(e=this.stripProtocolRelativePrefix(e)),this.stripPrefix&&(e=this.stripUrlPrefix(e)),e=this.removeTrailingSlash(e)},stripUrlPrefix:function(e){return e.replace(this.urlPrefixRegex,"")},stripProtocolRelativePrefix:function(e){return e.replace(this.protocolRelativeRegex,"")},removeTrailingSlash:function(e){return"/"===e.charAt(e.length-1)&&(e=e.slice(0,-1)),e}}),o);var e,t,n,i,o}.apply(t,[]))||(e.exports=i)},2e3:function(e,t,n){var i;void 0===(i=function(){"use strict";return function(e,t){this.position=e,this.headingPitchRoll=t}}.apply(t,[]))||(e.exports=i)},2001:function(e,t,n){var i;void 0===(i=function(){"use strict";return function(e,t){this.position=e,this.headingPitchRange=t}}.apply(t,[]))||(e.exports=i)},2002:function(e,t,n){var i,r;i=[n(0),n(23)],void 0===(r=function(e,t){"use strict";function n(e,n){this.id=n,this.name=e,this.playlistIndex=0,this.playlist=[],this.tourStart=new t,this.tourEnd=new t,this.entryStart=new t,this.entryEnd=new t,this._activeEntries=[]}function i(e){for(var t=e.pop();void 0!==t;t=e.pop())t.stop()}function r(t,n,i){var o=this.playlist[this.playlistIndex];if(o){var a=function(e,t,n,i){var o=this.playlist[this.playlistIndex];if(this.entryEnd.raiseEvent(o,i),i)n(i);else{var a=this._activeEntries.indexOf(o);a>=0&&this._activeEntries.splice(a,1),this.playlistIndex++,r.call(this,e,t,n)}}.bind(this,t,n,i);if(this._activeEntries.push(o),this.entryStart.raiseEvent(o),o.blocking)o.play(a,t.scene.camera,n);else{var s=this;o.play(function(){s.entryEnd.raiseEvent(o);var e=s._activeEntries.indexOf(o);e>=0&&s._activeEntries.splice(e,1)}),a(t,n,i)}}else e(i)&&i(!1)}return n.prototype.addPlaylistEntry=function(e){this.playlist.push(e)},n.prototype.play=function(e,t){this.tourStart.raiseEvent();var n=this;r.call(this,e,t,function(e){n.playlistIndex=0,e||i(n._activeEntries),n.tourEnd.raiseEvent(e)})},n.prototype.stop=function(){i(this._activeEntries)},n}.apply(t,i))||(e.exports=r)},2003:function(e,t,n){var i,r;i=[n(31),n(49),n(0),n(196)],void 0===(r=function(e,t,n,i){"use strict";function r(e,t,n){this.type="KmlTourFlyTo",this.blocking=!0,this.activeCamera=null,this.activeCallback=null,this.duration=e,this.view=n,this.flyToMode=t}return r.prototype.play=function(t,i,r){if(this.activeCamera=i,n(t)&&null!==t){var o=this;this.activeCallback=function(e){delete o.activeCallback,delete o.activeCamera,t(!n(e)&&e)}}var a=this.getCameraOptions(r);if(this.view.headingPitchRoll)i.flyTo(a);else if(this.view.headingPitchRange){var s=new e(this.view.position);i.flyToBoundingSphere(s,a)}},r.prototype.stop=function(){n(this.activeCamera)&&this.activeCamera.cancelFlight(),n(this.activeCallback)&&this.activeCallback(!0)},r.prototype.getCameraOptions=function(e){var r={duration:this.duration};return n(this.activeCallback)&&(r.complete=this.activeCallback),"smooth"===this.flyToMode&&(r.easingFunction=i.LINEAR_NONE),this.view.headingPitchRoll?(r.destination=this.view.position,r.orientation=this.view.headingPitchRoll):this.view.headingPitchRange&&(r.offset=this.view.headingPitchRange),n(e)&&(r=t(r,e)),r},r}.apply(t,i))||(e.exports=r)},2004:function(e,t,n){var i,r;i=[n(0)],void 0===(r=function(e){"use strict";function t(e){this.type="KmlTourWait",this.blocking=!0,this.duration=e,this.timeout=null}return t.prototype.play=function(e){var t=this;this.activeCallback=e,this.timeout=setTimeout(function(){delete t.activeCallback,e(!1)},1e3*this.duration)},t.prototype.stop=function(){clearTimeout(this.timeout),e(this.activeCallback)&&this.activeCallback(!0)},t}.apply(t,i))||(e.exports=r)},745:function(e,t,n){var i,r;i=[n(264),n(68),n(16),n(6),n(22),n(195),n(340),n(21),n(1965),n(71),n(2),n(0),n(3),n(4),n(192),n(18),n(23),n(739),n(726),n(1986),n(80),n(263),n(26),n(1987),n(740),n(7),n(266),n(233),n(62),n(15),n(265),n(30),n(32),n(1988),n(72),n(109),n(171),n(723),n(169),n(194),n(335),n(153),n(154),n(110),n(8),n(469),n(730),n(231),n(1989),n(332),n(1990),n(1968),n(1967),n(338),n(267),n(732),n(733),n(468),n(172),n(734),n(735),n(336),n(337),n(1991),n(731),n(718),n(736),n(737),n(719),n(475),n(470),n(1992),n(1993),n(480),n(339),n(1994),n(1974),n(128),n(1995),n(474),n(720),n(1969),n(1996),n(717),n(476),n(1997),n(1975),n(722),n(471),n(1998),n(1976),n(721)],void 0===(r=function(e,t,n,i,r,o,a,s,l,c,u,h,d,f,p,g,v,m,y,w,_,C,x,k,b,T,M,E,P,O,N,I,R,S,L,A,D,U,V,B,F,H,W,z,q,j,G,K,Z,X,$,Y,J,Q,ee,te,ne,ie,re,oe,ae,se,le,ce,ue,he,de,fe,pe,ge,ve,me,ye,we,_e,Ce,xe,ke,be,Te,Me,Ee,Pe,Oe,Ne,Ie,Re,Se,Le,Ae,De,Ue){"use strict";function Ve(){}var Be;function Fe(e,t){return"#"===t[0]&&(t=Be+t),Ee.fromString(e,t)}function He(e,t,n){if(h(n.reference))return Fe(t,n.reference);if(h(n.velocityReference)){var r=Fe(t,n.velocityReference);switch(e){case i:case Ve:return new De(r,e===Ve);case P:return new Ae(r)}}throw new R(JSON.stringify(n)+" is not valid CZML.")}Ve.packedLength=i.packedLength,Ve.unpack=i.unpack,Ve.pack=i.pack;var We=new i,ze=new S,qe=new r,je=new L,Ge=new P;function Ke(e,t){var n=u(e.uri,e);return h(t)?t.getDerivedResource({url:n}):I.createIfNeeded(n)}function Ze(e){var t=e.cartesian;if(h(t))return t;var n=e.cartesianVelocity;if(h(n))return n;var r=e.unitCartesian;if(h(r))return r;var o=e.unitSpherical;if(h(o))return function(e){var t=e.length;if(ze.magnitude=1,2===t)return ze.clock=e[0],ze.cone=e[1],i.fromSpherical(ze,We),[We.x,We.y,We.z];for(var n=new Array(t/3*4),r=0,o=0;r<t;r+=3,o+=4)n[o]=e[r],ze.clock=e[r+1],ze.cone=e[r+2],i.fromSpherical(ze,We),n[o+1]=We.x,n[o+2]=We.y,n[o+3]=We.z;return n}(o);var a=e.spherical;if(h(a))return function(e){var t=e.length;if(3===t)return ze.clock=e[0],ze.cone=e[1],ze.magnitude=e[2],i.fromSpherical(ze,We),[We.x,We.y,We.z];for(var n=new Array(t),r=0;r<t;r+=4)n[r]=e[r],ze.clock=e[r+1],ze.cone=e[r+2],ze.magnitude=e[r+3],i.fromSpherical(ze,We),n[r+1]=We.x,n[r+2]=We.y,n[r+3]=We.z;return n}(a);var s=e.cartographicRadians;if(h(s))return function(e){var t=e.length;if(3===t)return qe.longitude=e[0],qe.latitude=e[1],qe.height=e[2],g.WGS84.cartographicToCartesian(qe,We),[We.x,We.y,We.z];for(var n=new Array(t),i=0;i<t;i+=4)n[i]=e[i],qe.longitude=e[i+1],qe.latitude=e[i+2],qe.height=e[i+3],g.WGS84.cartographicToCartesian(qe,We),n[i+1]=We.x,n[i+2]=We.y,n[i+3]=We.z;return n}(s);var l=e.cartographicDegrees;if(h(l))return function(e){var t=e.length;if(3===t)return qe.longitude=T.toRadians(e[0]),qe.latitude=T.toRadians(e[1]),qe.height=e[2],g.WGS84.cartographicToCartesian(qe,We),[We.x,We.y,We.z];for(var n=new Array(t),i=0;i<t;i+=4)n[i]=e[i],qe.longitude=T.toRadians(e[i+1]),qe.latitude=T.toRadians(e[i+2]),qe.height=e[i+3],g.WGS84.cartographicToCartesian(qe,We),n[i+1]=We.x,n[i+2]=We.y,n[i+3]=We.z;return n}(l);throw new R(JSON.stringify(e)+" is not a valid CZML interval.")}function Xe(e,t){i.unpack(e,t,We),i.normalize(We,We),i.pack(We,e,t)}function $e(e,t){P.unpack(e,t,Ge),P.normalize(Ge,Ge),P.pack(Ge,e,t)}function Ye(r){return"boolean"==typeof r?Boolean:"number"==typeof r?Number:"string"==typeof r?String:r.hasOwnProperty("array")?Array:r.hasOwnProperty("boolean")?Boolean:r.hasOwnProperty("boundingRectangle")?t:r.hasOwnProperty("cartesian2")?n:r.hasOwnProperty("cartesian")||r.hasOwnProperty("spherical")||r.hasOwnProperty("cartographicRadians")||r.hasOwnProperty("cartographicDegrees")?i:r.hasOwnProperty("unitCartesian")||r.hasOwnProperty("unitSpherical")?Ve:r.hasOwnProperty("rgba")||r.hasOwnProperty("rgbaf")?s:r.hasOwnProperty("arcType")?e:r.hasOwnProperty("classificationType")?D:r.hasOwnProperty("colorBlendMode")?U:r.hasOwnProperty("cornerType")?l:r.hasOwnProperty("heightReference")?V:r.hasOwnProperty("horizontalOrigin")?B:r.hasOwnProperty("date")?x:r.hasOwnProperty("labelStyle")?F:r.hasOwnProperty("number")?Number:r.hasOwnProperty("nearFarScalar")?M:r.hasOwnProperty("distanceDisplayCondition")?p:r.hasOwnProperty("object")||r.hasOwnProperty("value")?Object:r.hasOwnProperty("unitQuaternion")?P:r.hasOwnProperty("shadowMode")?H:r.hasOwnProperty("string")?String:r.hasOwnProperty("stripeOrientation")?Re:r.hasOwnProperty("wsen")||r.hasOwnProperty("wsenDegrees")?O:r.hasOwnProperty("uri")?z:r.hasOwnProperty("verticalOrigin")?W:Object}function Je(r,o,a){switch(r){case e:return e[u(o.arcType,o)];case Array:return o.array;case Boolean:return u(o.boolean,o);case t:return o.boundingRectangle;case n:return o.cartesian2;case i:return Ze(o);case Ve:return function(e){var t=Ze(e);if(3===t.length)return Xe(t,0),t;for(var n=1;n<t.length;n+=4)Xe(t,n);return t}(o);case s:return function(e){var t=e.rgbaf;if(h(t))return t;var n=e.rgba;if(h(n)){var i=n.length;if(i===s.packedLength)return[s.byteToFloat(n[0]),s.byteToFloat(n[1]),s.byteToFloat(n[2]),s.byteToFloat(n[3])];t=new Array(i);for(var r=0;r<i;r+=5)t[r]=n[r],t[r+1]=s.byteToFloat(n[r+1]),t[r+2]=s.byteToFloat(n[r+2]),t[r+3]=s.byteToFloat(n[r+3]),t[r+4]=s.byteToFloat(n[r+4]);return t}}(o);case D:return D[u(o.classificationType,o)];case U:return U[u(o.colorBlendMode,o)];case l:return l[u(o.cornerType,o)];case V:return V[u(o.heightReference,o)];case B:return B[u(o.horizontalOrigin,o)];case Image:return Ke(o,a);case x:return x.fromIso8601(u(o.date,o));case F:return F[u(o.labelStyle,o)];case Number:return u(o.number,o);case M:return o.nearFarScalar;case p:return o.distanceDisplayCondition;case Object:return u(u(o.object,o.value),o);case P:return function(e){var t=e.unitQuaternion;if(h(t)){if(4===t.length)return $e(t,0),t;for(var n=1;n<t.length;n+=5)$e(t,n)}return t}(o);case O:return function(e){var t=e.wsen;if(h(t))return t;var n=e.wsenDegrees;if(h(n)){var i=n.length;if(i===O.packedLength)return[T.toRadians(n[0]),T.toRadians(n[1]),T.toRadians(n[2]),T.toRadians(n[3])];t=new Array(i);for(var r=0;r<i;r+=5)t[r]=n[r],t[r+1]=T.toRadians(n[r+1]),t[r+2]=T.toRadians(n[r+2]),t[r+3]=T.toRadians(n[r+3]),t[r+4]=T.toRadians(n[r+4]);return t}}(o);case Pe:return u(o.number,o);case H:return H[u(u(o.shadowMode,o.shadows),o)];case String:return u(o.string,o);case Re:return Re[u(o.stripeOrientation,o)];case z:return Ke(o,a);case W:return W[u(o.verticalOrigin,o)];default:throw new R(r)}}var Qe={HERMITE:w,LAGRANGE:k,LINEAR:b};function et(e,t){var n=e.interpolationAlgorithm,i=e.interpolationDegree;(h(n)||h(i))&&t.setInterpolationOptions({interpolationAlgorithm:Qe[n],interpolationDegree:i});var r=e.forwardExtrapolationType;h(r)&&(t.forwardExtrapolationType=m[r]);var o=e.forwardExtrapolationDuration;h(o)&&(t.forwardExtrapolationDuration=o);var a=e.backwardExtrapolationType;h(a)&&(t.backwardExtrapolationType=m[a]);var s=e.backwardExtrapolationDuration;h(s)&&(t.backwardExtrapolationDuration=s)}var tt={iso8601:void 0};function nt(e){if(h(e))return tt.iso8601=e,L.fromIso8601(tt)}function it(e){var t=C.MAXIMUM_INTERVAL.clone();return t.data=e,t}function rt(e){var t=new J;return t.intervals.addInterval(it(e)),t}function ot(e){var t=new Y(e.referenceFrame);return t.intervals.addInterval(it(e)),t}function at(e,t,n,i,r,o,a){var s,l,c,d=nt(i.interval);h(r)&&(d=h(d)?L.intersect(d,r,je):r);var f=!h(i.reference)&&!h(i.velocityReference),p=h(d)&&!d.equals(C.MAXIMUM_INTERVAL);if(!0===i.delete)return p?function e(t,n){if(t instanceof Ne)return void t.removeSamples(n);if(t instanceof Le)return void t.intervals.removeInterval(n);if(t instanceof J){for(var i=t.intervals,r=0;r<i.length;++r){var o=L.intersect(i.get(r),n,je);o.isEmpty||e(o.data,n)}return void i.removeInterval(n)}}(t[n],d):void(t[n]=void 0);var g=!1;if(f){if(l=Je(e,i,o),!h(l))return;s=u(e.packedLength,1),c=u(l.length,1),g=!h(i.array)&&"string"!=typeof l&&c>s&&e!==Object}var v="function"==typeof e.unpack&&e!==Pe;if(g||p){var m,y,w=t[n],_=i.epoch;if(h(_)&&(m=x.fromIso8601(_)),g&&!p)return w instanceof Ne||(t[n]=w=new Ne(e)),w.addSamplesPackedArray(l,m),void et(i,w);if(!g&&p)return(d=d.clone()).data=f?v?e.unpack(l,0):l:He(e,a,i),h(w)||(t[n]=w=f?new Le:new J),void(f&&w instanceof Le?w.intervals.addInterval(d):w instanceof J?(f&&(d.data=new ee(d.data)),w.intervals.addInterval(d)):(t[n]=w=rt(w),f&&(d.data=new ee(d.data)),w.intervals.addInterval(d)));h(w)||(t[n]=w=new J),w instanceof J||(t[n]=w=rt(w));var k=w.intervals;y=k.findInterval(d),h(y)&&y.data instanceof Ne||((y=d.clone()).data=new Ne(e),k.addInterval(y)),y.data.addSamplesPackedArray(l,m),et(i,y.data)}else t[n]=f?new ee(v?e.unpack(l,0):l):He(e,a,i)}function st(e,t,n,i,r,o,a){if(h(i))if(_(i))for(var s=0,l=i.length;s<l;++s)at(e,t,n,i[s],r,o,a);else at(e,t,n,i,r,o,a)}function lt(e,t,n,r,o,a){var s=nt(n.interval);h(r)&&(s=h(s)?L.intersect(s,r,je):r);var l,c,d=h(n.cartesianVelocity)?1:0,f=i.packedLength*(d+1),p=!h(n.reference),g=h(s)&&!s.equals(C.MAXIMUM_INTERVAL);if(!0===n.delete)return g?function e(t,n){if(t instanceof Oe)return void t.removeSamples(n);if(t instanceof Se)return void t.intervals.removeInterval(n);if(t instanceof Y){for(var i=t.intervals,r=0;r<i.length;++r){var o=L.intersect(i.get(r),n,je);o.isEmpty||e(o.data,n)}return void i.removeInterval(n)}}(e[t],s):void(e[t]=void 0);var v=!1;if(p&&(h(n.referenceFrame)&&(c=N[n.referenceFrame]),c=u(c,N.FIXED),l=Ze(n),v=u(l.length,1)>f),v||g){var m,y,w=e[t],_=n.epoch;if(h(_)&&(m=x.fromIso8601(_)),v&&!g)return w instanceof Oe&&(!h(c)||w.referenceFrame===c)||(e[t]=w=new Oe(c,d)),w.addSamplesPackedArray(l,m),void et(n,w);if(!v&&g)return(s=s.clone()).data=p?i.unpack(l):Fe(a,n.reference),h(w)||(w=p?new Se(c):new Y(c),e[t]=w),void(p&&w instanceof Se&&h(c)&&w.referenceFrame===c?w.intervals.addInterval(s):w instanceof Y?(p&&(s.data=new Q(s.data,c)),w.intervals.addInterval(s)):(e[t]=w=ot(w),p&&(s.data=new Q(s.data,c)),w.intervals.addInterval(s)));h(w)?w instanceof Y||(e[t]=w=ot(w)):e[t]=w=new Y(c);var k=w.intervals;y=k.findInterval(s),h(y)&&y.data instanceof Oe&&(!h(c)||y.data.referenceFrame===c)||((y=s.clone()).data=new Oe(c,d),k.addInterval(y)),y.data.addSamplesPackedArray(l,m),et(n,y.data)}else e[t]=p?new Q(i.unpack(l),c):Fe(a,n.reference)}function ct(e,t,n,i,r,o){if(h(n))if(_(n))for(var a=0,s=n.length;a<s;++a)lt(e,t,n[a],i,0,o);else lt(e,t,n,i,0,o)}function ut(e,t,i,r,o,a){var l=nt(i.interval);h(r)&&(l=h(l)?L.intersect(l,r,je):r);var c,u,d,f=e[t];if(h(l)){f instanceof $||(f=new $,e[t]=f);var p=f.intervals;u=p.findInterval({start:l.start,stop:l.stop}),h(u)?c=u.data:(u=l.clone(),p.addInterval(u))}else c=f;h(i.solidColor)?(c instanceof X||(c=new X),d=i.solidColor,st(s,c,"color",d.color,void 0,void 0,a)):h(i.grid)?(c instanceof ce||(c=new ce),d=i.grid,st(s,c,"color",d.color,void 0,o,a),st(Number,c,"cellAlpha",d.cellAlpha,void 0,o,a),st(n,c,"lineCount",d.lineCount,void 0,o,a),st(n,c,"lineThickness",d.lineThickness,void 0,o,a),st(n,c,"lineOffset",d.lineOffset,void 0,o,a)):h(i.image)?(c instanceof ue||(c=new ue),d=i.image,st(Image,c,"image",d.image,void 0,o,a),st(n,c,"repeat",d.repeat,void 0,o,a),st(s,c,"color",d.color,void 0,o,a),st(Boolean,c,"transparent",d.transparent,void 0,o,a)):h(i.stripe)?(c instanceof Ie||(c=new Ie),d=i.stripe,st(Re,c,"orientation",d.orientation,void 0,o,a),st(s,c,"evenColor",d.evenColor,void 0,o,a),st(s,c,"oddColor",d.oddColor,void 0,o,a),st(Number,c,"offset",d.offset,void 0,o,a),st(Number,c,"repeat",d.repeat,void 0,o,a)):h(i.polylineOutline)?(c instanceof Ce||(c=new Ce),d=i.polylineOutline,st(s,c,"color",d.color,void 0,o,a),st(s,c,"outlineColor",d.outlineColor,void 0,o,a),st(Number,c,"outlineWidth",d.outlineWidth,void 0,o,a)):h(i.polylineGlow)?(c instanceof we||(c=new we),d=i.polylineGlow,st(s,c,"color",d.color,void 0,o,a),st(Number,c,"glowPower",d.glowPower,void 0,o,a),st(Number,c,"taperPower",d.taperPower,void 0,o,a)):h(i.polylineArrow)?(c instanceof me||(c=new me),d=i.polylineArrow,st(s,c,"color",d.color,void 0,void 0,a)):h(i.polylineDash)?(c instanceof ye||(c=new ye),d=i.polylineDash,st(s,c,"color",d.color,void 0,void 0,a),st(s,c,"gapColor",d.gapColor,void 0,void 0,a),st(Number,c,"dashLength",d.dashLength,void 0,o,a),st(Number,c,"dashPattern",d.dashPattern,void 0,o,a)):h(i.checkerboard)&&(c instanceof Z||(c=new Z),d=i.checkerboard,st(s,c,"evenColor",d.evenColor,void 0,o,a),st(s,c,"oddColor",d.oddColor,void 0,o,a),st(n,c,"repeat",d.repeat,void 0,o,a)),h(u)?u.data=c:e[t]=c}function ht(e,t,n,i,r,o){if(h(n))if(_(n))for(var a=0,s=n.length;a<s;++a)ut(e,t,n[a],i,r,o);else ut(e,t,n,i,r,o)}function dt(e,t,n,i,r,o,a){var s=n.map(function(e){return Fe(r,e)});if(h(i)){i=nt(i);var l=e[t];if(!(l instanceof a)){var c=new a;c.intervals.addInterval(it(l)),e[t]=l=c}i.data=new o(s),l.intervals.addInterval(i)}else e[t]=new o(s)}function ft(e,t,n,i){var r=n.references;h(r)?dt(e,t,r,n.interval,i,be,J):st(Array,e,t,n,void 0,void 0,i)}function pt(e,t,n,i){if(h(n))if(_(n))for(var r=0,o=n.length;r<o;++r)ft(e,t,n[r],i);else ft(e,t,n,i)}function gt(e,t,n,r){var o=n.references;h(o)?dt(e,t,o,n.interval,r,xe,Y):(h(n.cartesian)?n.array=i.unpackArray(n.cartesian):h(n.cartographicRadians)?n.array=i.fromRadiansArrayHeights(n.cartographicRadians):h(n.cartographicDegrees)&&(n.array=i.fromDegreesArrayHeights(n.cartographicDegrees)),h(n.array)&&st(Array,e,t,n,void 0,void 0,r))}function vt(e,t,n,i){if(h(n))if(_(n))for(var r=0,o=n.length;r<o;++r)gt(e,t,n[r],i);else gt(e,t,n,i)}function mt(e){return i.unpackArray(e)}function yt(e){return i.fromRadiansArrayHeights(e)}function wt(e){return i.fromDegreesArrayHeights(e)}function _t(e,t,n,i){var r=n.references;if(h(r)){var o=r.map(function(e){var t={};return dt(t,"positions",e,n.interval,i,xe,Y),t.positions});e[t]=new xe(o)}else h(n.cartesian)?n.array=n.cartesian.map(mt):h(n.cartographicRadians)?n.array=n.cartographicRadians.map(yt):h(n.cartographicDegrees)&&(n.array=n.cartographicDegrees.map(wt)),h(n.array)&&st(Array,e,t,n,void 0,void 0,i)}function Ct(e,t,n,r,o){var a=nt(t.interval);h(n)&&(a=h(a)?L.intersect(a,n,je):n);for(var s=e.nodeTransformations,l=Object.keys(t),c=0,u=l.length;c<u;++c){var d=l[c];if("interval"!==d){var f=t[d];if(h(f)){h(s)||(e.nodeTransformations=s=new Te),s.hasProperty(d)||s.addProperty(d);var p=s[d];h(p)||(s[d]=p=new fe),st(i,p,"translation",f.translation,a,r,o),st(P,p,"rotation",f.rotation,a,r,o),st(i,p,"scale",f.scale,a,r,o)}}}}function xt(e,t,n,i,r){var o=nt(t.interval);h(n)&&(o=h(o)?L.intersect(o,n,je):n);for(var a=e.articulations,s=Object.keys(t),l=0,c=s.length;l<c;++l){var u=s[l];if("interval"!==u){var d=t[u];h(d)&&(h(a)||(e.articulations=a=new Te),a.hasProperty(u)||a.addProperty(u),st(Number,a,u,d,o,i,r))}}}function kt(e){this.polygon=e,this._definitionChanged=new v}function bt(t){return t?e.GEODESIC:e.NONE}function Tt(e,t,n,i,r){var o=e.id;if(h(o)||(o=c()),Be=o,!h(r._version)&&"document"!==o)throw new R("The first CZML packet is required to be the document object.");if(!0===e.delete)t.removeById(o);else if("document"===o)!function(e,t){var n=e.version;if(h(n)&&"string"==typeof n){var i=n.split(".");if(2===i.length){if("1"!==i[0])throw new R("Cesium only supports CZML version 1.");t._version=n}}if(!h(t._version))throw new R("CZML version information invalid.  It is expected to be a property on the document object in the <Major>.<Minor> version format.");var r=t._documentPacket;h(e.name)&&(r.name=e.name);var o=e.clock;if(h(o)){var a=r.clock;h(a)?(a.interval=u(o.interval,a.interval),a.currentTime=u(o.currentTime,a.currentTime),a.range=u(o.range,a.range),a.step=u(o.step,a.step),a.multiplier=u(o.multiplier,a.multiplier)):r.clock={interval:o.interval,currentTime:o.currentTime,range:o.range,step:o.step,multiplier:o.multiplier}}}(e,r);else{var a=t.getOrCreateEntity(o),s=e.parent;h(s)&&(a.parent=t.getOrCreateEntity(s));for(var l=n.length-1;l>-1;l--)n[l](a,e,t,i)}Be=void 0}function Mt(e,t,n,i){var r=t,s=(n=u(n,u.EMPTY_OBJECT)).sourceUri;return("string"==typeof t||t instanceof I)&&(r=(t=I.createIfNeeded(t)).fetchJson(),s=u(s,t.clone())),s=I.createIfNeeded(s),ie.setLoading(e,!0),q(r,function(t){return function(e,t,n,i){ie.setLoading(e,!0);var r=e._entityCollection;i&&(e._version=void 0,e._documentPacket=new Et,r.removeAll());Pt._processCzml(t,r,n,void 0,e);var s=function(e){var t,n=e._documentPacket.clock;if(!h(n)){if(!h(e._clock)){var i=e._entityCollection.computeAvailability();if(!i.start.equals(C.MINIMUM_VALUE)){var r=i.start,s=i.stop,l=x.secondsDifference(s,r),c=Math.round(l/120);return(t=new re).startTime=x.clone(r),t.stopTime=x.clone(s),t.clockRange=o.LOOP_STOP,t.multiplier=c,t.currentTime=x.clone(r),t.clockStep=a.SYSTEM_CLOCK_MULTIPLIER,e._clock=t,!0}}return!1}h(e._clock)?t=e._clock.clone():((t=new re).startTime=C.MINIMUM_VALUE.clone(),t.stopTime=C.MAXIMUM_VALUE.clone(),t.currentTime=C.MINIMUM_VALUE.clone(),t.clockRange=o.LOOP_STOP,t.clockStep=a.SYSTEM_CLOCK_MULTIPLIER,t.multiplier=1);var d=nt(n.interval);return h(d)&&(t.startTime=d.start,t.stopTime=d.stop),h(n.currentTime)&&(t.currentTime=x.fromIso8601(n.currentTime)),h(n.range)&&(t.clockRange=u(o[n.range],o.LOOP_STOP)),h(n.step)&&(t.clockStep=u(a[n.step],a.SYSTEM_CLOCK_MULTIPLIER)),h(n.multiplier)&&(t.multiplier=n.multiplier),!t.equals(e._clock)&&(e._clock=t.clone(e._clock),!0)}(e),l=e._documentPacket;h(l.name)&&e._name!==l.name?(e._name=l.name,s=!0):!h(e._name)&&h(n)&&(e._name=y(n.getUrlComponent()),s=!0);ie.setLoading(e,!1),s&&e._changed.raiseEvent(e);return e}(e,t,s,i)}).otherwise(function(t){return ie.setLoading(e,!1),e._error.raiseEvent(e,t),console.log(t),q.reject(t)})}function Et(){this.name=void 0,this.clock=void 0}function Pt(e){this._name=e,this._changed=new v,this._error=new v,this._isLoading=!1,this._loading=new v,this._clock=void 0,this._documentPacket=new Et,this._version=void 0,this._entityCollection=new le(this),this._entityCluster=new se}return d(kt.prototype,{isConstant:{get:function(){var e=this.polygon._positions,t=this.polygon._holes;return(!h(e)||e.isConstant)&&(!h(t)||t.isConstant)}},definitionChanged:{get:function(){return this._definitionChanged}}}),kt.prototype.getValue=function(e,t){var n,i;return h(this.polygon._positions)&&(n=this.polygon._positions.getValue(e)),h(this.polygon._holes)&&(i=this.polygon._holes.getValue(e),h(i)&&(i=i.map(function(e){return new E(e)}))),h(t)?(t.positions=n,t.holes=i,t):new E(n,i)},kt.prototype.equals=function(e){return this===e||e instanceof kt&&ke.equals(this.polygon._positions,e.polygon._positions)&&ke.equals(this.polygon._holes,e.polygon._holes)},Pt.load=function(e,t){return(new Pt).load(e,t)},d(Pt.prototype,{name:{get:function(){return this._name}},clock:{get:function(){return this._clock}},entities:{get:function(){return this._entityCollection}},isLoading:{get:function(){return this._isLoading}},changedEvent:{get:function(){return this._changed}},errorEvent:{get:function(){return this._error}},loadingEvent:{get:function(){return this._loading}},show:{get:function(){return this._entityCollection.show},set:function(e){this._entityCollection.show=e}},clustering:{get:function(){return this._entityCluster},set:function(e){this._entityCluster=e}}}),Pt.updaters=[function(e,r,o,a){var l=r.billboard;if(h(l)){var c=nt(l.interval),u=e.billboard;h(u)||(e.billboard=u=new j),st(Boolean,u,"show",l.show,c,a,o),st(Image,u,"image",l.image,c,a,o),st(Number,u,"scale",l.scale,c,a,o),st(n,u,"pixelOffset",l.pixelOffset,c,a,o),st(i,u,"eyeOffset",l.eyeOffset,c,a,o),st(B,u,"horizontalOrigin",l.horizontalOrigin,c,a,o),st(W,u,"verticalOrigin",l.verticalOrigin,c,a,o),st(V,u,"heightReference",l.heightReference,c,a,o),st(s,u,"color",l.color,c,a,o),st(Pe,u,"rotation",l.rotation,c,a,o),function(e,t,n,i,r){h(t)&&st(Ve,e,"alignedAxis",t,n,i,r)}(u,l.alignedAxis,c,a,o),st(Boolean,u,"sizeInMeters",l.sizeInMeters,c,a,o),st(Number,u,"width",l.width,c,a,o),st(Number,u,"height",l.height,c,a,o),st(M,u,"scaleByDistance",l.scaleByDistance,c,a,o),st(M,u,"translucencyByDistance",l.translucencyByDistance,c,a,o),st(M,u,"pixelOffsetScaleByDistance",l.pixelOffsetScaleByDistance,c,a,o),st(t,u,"imageSubRegion",l.imageSubRegion,c,a,o),st(p,u,"distanceDisplayCondition",l.distanceDisplayCondition,c,a,o),st(Number,u,"disableDepthTestDistance",l.disableDepthTestDistance,c,a,o)}},function(e,t,n,r){var o=t.box;if(h(o)){var a=nt(o.interval),l=e.box;h(l)||(e.box=l=new G),st(Boolean,l,"show",o.show,a,r,n),st(i,l,"dimensions",o.dimensions,a,r,n),st(V,l,"heightReference",o.heightReference,a,r,n),st(Boolean,l,"fill",o.fill,a,r,n),ht(l,"material",o.material,a,r,n),st(Boolean,l,"outline",o.outline,a,r,n),st(s,l,"outlineColor",o.outlineColor,a,r,n),st(Number,l,"outlineWidth",o.outlineWidth,a,r,n),st(H,l,"shadows",o.shadows,a,r,n),st(p,l,"distanceDisplayCondition",o.distanceDisplayCondition,a,r,n)}},function(e,t,n,i){var r=t.corridor;if(h(r)){var o=nt(r.interval),a=e.corridor;h(a)||(e.corridor=a=new te),st(Boolean,a,"show",r.show,o,i,n),vt(a,"positions",r.positions,n),st(Number,a,"width",r.width,o,i,n),st(Number,a,"height",r.height,o,i,n),st(V,a,"heightReference",r.heightReference,o,i,n),st(Number,a,"extrudedHeight",r.extrudedHeight,o,i,n),st(V,a,"extrudedHeightReference",r.extrudedHeightReference,o,i,n),st(l,a,"cornerType",r.cornerType,o,i,n),st(Number,a,"granularity",r.granularity,o,i,n),st(Boolean,a,"fill",r.fill,o,i,n),ht(a,"material",r.material,o,i,n),st(Boolean,a,"outline",r.outline,o,i,n),st(s,a,"outlineColor",r.outlineColor,o,i,n),st(Number,a,"outlineWidth",r.outlineWidth,o,i,n),st(H,a,"shadows",r.shadows,o,i,n),st(p,a,"distanceDisplayCondition",r.distanceDisplayCondition,o,i,n),st(D,a,"classificationType",r.classificationType,o,i,n),st(Number,a,"zIndex",r.zIndex,o,i,n)}},function(e,t,n,i){var r=t.cylinder;if(h(r)){var o=nt(r.interval),a=e.cylinder;h(a)||(e.cylinder=a=new ne),st(Boolean,a,"show",r.show,o,i,n),st(Number,a,"length",r.length,o,i,n),st(Number,a,"topRadius",r.topRadius,o,i,n),st(Number,a,"bottomRadius",r.bottomRadius,o,i,n),st(V,a,"heightReference",r.heightReference,o,i,n),st(Boolean,a,"fill",r.fill,o,i,n),ht(a,"material",r.material,o,i,n),st(Boolean,a,"outline",r.outline,o,i,n),st(s,a,"outlineColor",r.outlineColor,o,i,n),st(Number,a,"outlineWidth",r.outlineWidth,o,i,n),st(Number,a,"numberOfVerticalLines",r.numberOfVerticalLines,o,i,n),st(Number,a,"slices",r.slices,o,i,n),st(H,a,"shadows",r.shadows,o,i,n),st(p,a,"distanceDisplayCondition",r.distanceDisplayCondition,o,i,n)}},function(e,t,n,i){var r=t.ellipse;if(h(r)){var o=nt(r.interval),a=e.ellipse;h(a)||(e.ellipse=a=new oe),st(Boolean,a,"show",r.show,o,i,n),st(Number,a,"semiMajorAxis",r.semiMajorAxis,o,i,n),st(Number,a,"semiMinorAxis",r.semiMinorAxis,o,i,n),st(Number,a,"height",r.height,o,i,n),st(V,a,"heightReference",r.heightReference,o,i,n),st(Number,a,"extrudedHeight",r.extrudedHeight,o,i,n),st(V,a,"extrudedHeightReference",r.extrudedHeightReference,o,i,n),st(Pe,a,"rotation",r.rotation,o,i,n),st(Pe,a,"stRotation",r.stRotation,o,i,n),st(Number,a,"granularity",r.granularity,o,i,n),st(Boolean,a,"fill",r.fill,o,i,n),ht(a,"material",r.material,o,i,n),st(Boolean,a,"outline",r.outline,o,i,n),st(s,a,"outlineColor",r.outlineColor,o,i,n),st(Number,a,"outlineWidth",r.outlineWidth,o,i,n),st(Number,a,"numberOfVerticalLines",r.numberOfVerticalLines,o,i,n),st(H,a,"shadows",r.shadows,o,i,n),st(p,a,"distanceDisplayCondition",r.distanceDisplayCondition,o,i,n),st(D,a,"classificationType",r.classificationType,o,i,n),st(Number,a,"zIndex",r.zIndex,o,i,n)}},function(e,t,n,r){var o=t.ellipsoid;if(h(o)){var a=nt(o.interval),l=e.ellipsoid;h(l)||(e.ellipsoid=l=new ae),st(Boolean,l,"show",o.show,a,r,n),st(i,l,"radii",o.radii,a,r,n),st(V,l,"heightReference",o.heightReference,a,r,n),st(Boolean,l,"fill",o.fill,a,r,n),ht(l,"material",o.material,a,r,n),st(Boolean,l,"outline",o.outline,a,r,n),st(s,l,"outlineColor",o.outlineColor,a,r,n),st(Number,l,"outlineWidth",o.outlineWidth,a,r,n),st(Number,l,"stackPartitions",o.stackPartitions,a,r,n),st(Number,l,"slicePartitions",o.slicePartitions,a,r,n),st(Number,l,"subdivisions",o.subdivisions,a,r,n),st(H,l,"shadows",o.shadows,a,r,n),st(p,l,"distanceDisplayCondition",o.distanceDisplayCondition,a,r,n)}},function(e,t,r,o){var a=t.label;if(h(a)){var l=nt(a.interval),c=e.label;h(c)||(e.label=c=new he),st(Boolean,c,"show",a.show,l,o,r),st(String,c,"text",a.text,l,o,r),st(String,c,"font",a.font,l,o,r),st(F,c,"style",a.style,l,o,r),st(Number,c,"scale",a.scale,l,o,r),st(Boolean,c,"showBackground",a.showBackground,l,o,r),st(s,c,"backgroundColor",a.backgroundColor,l,o,r),st(n,c,"backgroundPadding",a.backgroundPadding,l,o,r),st(n,c,"pixelOffset",a.pixelOffset,l,o,r),st(i,c,"eyeOffset",a.eyeOffset,l,o,r),st(B,c,"horizontalOrigin",a.horizontalOrigin,l,o,r),st(W,c,"verticalOrigin",a.verticalOrigin,l,o,r),st(V,c,"heightReference",a.heightReference,l,o,r),st(s,c,"fillColor",a.fillColor,l,o,r),st(s,c,"outlineColor",a.outlineColor,l,o,r),st(Number,c,"outlineWidth",a.outlineWidth,l,o,r),st(M,c,"translucencyByDistance",a.translucencyByDistance,l,o,r),st(M,c,"pixelOffsetScaleByDistance",a.pixelOffsetScaleByDistance,l,o,r),st(M,c,"scaleByDistance",a.scaleByDistance,l,o,r),st(p,c,"distanceDisplayCondition",a.distanceDisplayCondition,l,o,r),st(Number,c,"disableDepthTestDistance",a.disableDepthTestDistance,l,o,r)}},function(e,t,n,i){var r=t.model;if(h(r)){var o,a,l=nt(r.interval),c=e.model;h(c)||(e.model=c=new de),st(Boolean,c,"show",r.show,l,i,n),st(z,c,"uri",r.gltf,l,i,n),st(Number,c,"scale",r.scale,l,i,n),st(Number,c,"minimumPixelSize",r.minimumPixelSize,l,i,n),st(Number,c,"maximumScale",r.maximumScale,l,i,n),st(Boolean,c,"incrementallyLoadTextures",r.incrementallyLoadTextures,l,i,n),st(Boolean,c,"runAnimations",r.runAnimations,l,i,n),st(Boolean,c,"clampAnimations",r.clampAnimations,l,i,n),st(H,c,"shadows",r.shadows,l,i,n),st(V,c,"heightReference",r.heightReference,l,i,n),st(s,c,"silhouetteColor",r.silhouetteColor,l,i,n),st(Number,c,"silhouetteSize",r.silhouetteSize,l,i,n),st(s,c,"color",r.color,l,i,n),st(U,c,"colorBlendMode",r.colorBlendMode,l,i,n),st(Number,c,"colorBlendAmount",r.colorBlendAmount,l,i,n),st(p,c,"distanceDisplayCondition",r.distanceDisplayCondition,l,i,n);var u=r.nodeTransformations;if(h(u))if(_(u))for(o=0,a=u.length;o<a;++o)Ct(c,u[o],l,i,n);else Ct(c,u,l,i,n);var d=r.articulations;if(h(d))if(_(d))for(o=0,a=d.length;o<a;++o)xt(c,d[o],l,i,n);else xt(c,d,l,i,n)}},function(e,t,n,i){var r=t.name;h(r)&&(e.name=t.name)},function(e,t,n,i){var r=t.description;h(r)&&st(String,e,"description",r,void 0,i,n)},function(e,t,n,i){var r=t.path;if(h(r)){var o=nt(r.interval),a=e.path;h(a)||(e.path=a=new pe),st(Boolean,a,"show",r.show,o,i,n),st(Number,a,"leadTime",r.leadTime,o,i,n),st(Number,a,"trailTime",r.trailTime,o,i,n),st(Number,a,"width",r.width,o,i,n),st(Number,a,"resolution",r.resolution,o,i,n),ht(a,"material",r.material,o,i,n),st(p,a,"distanceDisplayCondition",r.distanceDisplayCondition,o,i,n)}},function(e,t,n,i){var r=t.point;if(h(r)){var o=nt(r.interval),a=e.point;h(a)||(e.point=a=new ge),st(Boolean,a,"show",r.show,o,i,n),st(Number,a,"pixelSize",r.pixelSize,o,i,n),st(V,a,"heightReference",r.heightReference,o,i,n),st(s,a,"color",r.color,o,i,n),st(s,a,"outlineColor",r.outlineColor,o,i,n),st(Number,a,"outlineWidth",r.outlineWidth,o,i,n),st(M,a,"scaleByDistance",r.scaleByDistance,o,i,n),st(M,a,"translucencyByDistance",r.translucencyByDistance,o,i,n),st(p,a,"distanceDisplayCondition",r.distanceDisplayCondition,o,i,n),st(Number,a,"disableDepthTestDistance",r.disableDepthTestDistance,o,i,n)}},function(t,n,i,r){var o=n.polygon;if(h(o)){var a=nt(o.interval),l=t.polygon;h(l)||(t.polygon=l=new ve),st(Boolean,l,"show",o.show,a,r,i),vt(l,"_positions",o.positions,i),function(e,t,n,i){if(h(n))if(_(n))for(var r=0,o=n.length;r<o;++r)_t(e,t,n[r],i);else _t(e,t,n,i)}(l,"_holes",o.holes,i),(h(l._positions)||h(l._holes))&&(l.hierarchy=new kt(l)),st(Number,l,"height",o.height,a,r,i),st(V,l,"heightReference",o.heightReference,a,r,i),st(Number,l,"extrudedHeight",o.extrudedHeight,a,r,i),st(V,l,"extrudedHeightReference",o.extrudedHeightReference,a,r,i),st(Pe,l,"stRotation",o.stRotation,a,r,i),st(Number,l,"granularity",o.granularity,a,r,i),st(Boolean,l,"fill",o.fill,a,r,i),ht(l,"material",o.material,a,r,i),st(Boolean,l,"outline",o.outline,a,r,i),st(s,l,"outlineColor",o.outlineColor,a,r,i),st(Number,l,"outlineWidth",o.outlineWidth,a,r,i),st(Boolean,l,"perPositionHeight",o.perPositionHeight,a,r,i),st(Boolean,l,"closeTop",o.closeTop,a,r,i),st(Boolean,l,"closeBottom",o.closeBottom,a,r,i),st(e,l,"arcType",o.arcType,a,r,i),st(H,l,"shadows",o.shadows,a,r,i),st(p,l,"distanceDisplayCondition",o.distanceDisplayCondition,a,r,i),st(D,l,"classificationType",o.classificationType,a,r,i),st(Number,l,"zIndex",o.zIndex,a,r,i)}},function(t,n,i,r){var o=n.polyline;if(h(o)){var a,s,l=nt(o.interval),c=t.polyline;if(h(c)||(t.polyline=c=new _e),st(Boolean,c,"show",o.show,l,r,i),vt(c,"positions",o.positions,i),st(Number,c,"width",o.width,l,r,i),st(Number,c,"granularity",o.granularity,l,r,i),ht(c,"material",o.material,l,r,i),ht(c,"depthFailMaterial",o.depthFailMaterial,l,r,i),st(e,c,"arcType",o.arcType,l,r,i),st(Boolean,c,"clampToGround",o.clampToGround,l,r,i),st(H,c,"shadows",o.shadows,l,r,i),st(p,c,"distanceDisplayCondition",o.distanceDisplayCondition,l,r,i),st(D,c,"classificationType",o.classificationType,l,r,i),st(Number,c,"zIndex",o.zIndex,l,r,i),h(o.followSurface)&&!h(o.arcType)){var u={};st(Boolean,u,"followSurface",o.followSurface,l,r,i),c.arcType=(s=bt,new K(function(e,t){return s(a.getValue(e,t))},(a=u.followSurface).isConstant))}}},function(e,t,n,i){var r=t.properties;if(h(r))for(var o in h(e.properties)||(e.properties=new Te),r)if(r.hasOwnProperty(o)){e.properties.hasProperty(o)||e.properties.addProperty(o);var a=r[o];if(_(a))for(var s=0,l=a.length;s<l;++s)at(Ye(a[s]),e.properties,o,a[s],void 0,i,n);else at(Ye(a),e.properties,o,a,void 0,i,n)}},function(e,t,n,i){var r=t.rectangle;if(h(r)){var o=nt(r.interval),a=e.rectangle;h(a)||(e.rectangle=a=new Me),st(Boolean,a,"show",r.show,o,i,n),st(O,a,"coordinates",r.coordinates,o,i,n),st(Number,a,"height",r.height,o,i,n),st(V,a,"heightReference",r.heightReference,o,i,n),st(Number,a,"extrudedHeight",r.extrudedHeight,o,i,n),st(V,a,"extrudedHeightReference",r.extrudedHeightReference,o,i,n),st(Pe,a,"rotation",r.rotation,o,i,n),st(Pe,a,"stRotation",r.stRotation,o,i,n),st(Number,a,"granularity",r.granularity,o,i,n),st(Boolean,a,"fill",r.fill,o,i,n),ht(a,"material",r.material,o,i,n),st(Boolean,a,"outline",r.outline,o,i,n),st(s,a,"outlineColor",r.outlineColor,o,i,n),st(Number,a,"outlineWidth",r.outlineWidth,o,i,n),st(H,a,"shadows",r.shadows,o,i,n),st(p,a,"distanceDisplayCondition",r.distanceDisplayCondition,o,i,n),st(D,a,"classificationType",r.classificationType,o,i,n),st(Number,a,"zIndex",r.zIndex,o,i,n)}},function(e,t,n,i){var r=t.position;h(r)&&ct(e,"position",r,void 0,0,n)},function(e,t,n,r){var o=t.viewFrom;h(o)&&st(i,e,"viewFrom",o,void 0,r,n)},function(e,t,n,i){var r=t.wall;if(h(r)){var o=nt(r.interval),a=e.wall;h(a)||(e.wall=a=new Ue),st(Boolean,a,"show",r.show,o,i,n),vt(a,"positions",r.positions,n),pt(a,"minimumHeights",r.minimumHeights,n),pt(a,"maximumHeights",r.maximumHeights,n),st(Number,a,"granularity",r.granularity,o,i,n),st(Boolean,a,"fill",r.fill,o,i,n),ht(a,"material",r.material,o,i,n),st(Boolean,a,"outline",r.outline,o,i,n),st(s,a,"outlineColor",r.outlineColor,o,i,n),st(Number,a,"outlineWidth",r.outlineWidth,o,i,n),st(H,a,"shadows",r.shadows,o,i,n),st(p,a,"distanceDisplayCondition",r.distanceDisplayCondition,o,i,n)}},function(e,t,n,i){var r=t.orientation;h(r)&&st(P,e,"orientation",r,void 0,i,n)},function(e,t,n,i){var r=t.availability;if(h(r)){var o;if(_(r))for(var a=0,s=r.length;a<s;++a)h(o)||(o=new A),o.addInterval(nt(r[a]));else(o=new A).addInterval(nt(r));e.availability=o}}],Pt.prototype.process=function(e,t){return Mt(this,e,t,!1)},Pt.prototype.load=function(e,t){return Mt(this,e,t,!0)},Pt.processPacketData=st,Pt.processPositionPacketData=ct,Pt.processMaterialPacketData=ht,Pt._processCzml=function(e,t,n,i,r){if(i=u(i,Pt.updaters),_(e))for(var o=0,a=e.length;o<a;++o)Tt(e[o],t,i,n,r);else Tt(e,t,i,n,r)},Pt}.apply(t,i))||(e.exports=r)},746:function(e,t,n){var i,r;i=[n(264),n(228),n(68),n(16),n(6),n(22),n(195),n(340),n(21),n(71),n(2),n(0),n(3),n(4),n(18),n(23),n(727),n(726),n(271),n(269),n(263),n(26),n(7),n(266),n(268),n(466),n(744),n(233),n(341),n(15),n(30),n(32),n(72),n(109),n(169),n(194),n(335),n(35),n(1999),n(110),n(8),n(738),n(469),n(1968),n(468),n(172),n(108),n(336),n(337),n(2e3),n(2001),n(2002),n(2003),n(2004),n(718),n(719),n(470),n(339),n(1974),n(720),n(1969),n(717),n(1971),n(471),n(721)],void 0===(r=function(e,t,n,i,r,o,a,s,l,c,u,h,d,f,p,g,v,m,y,w,_,C,x,k,b,T,M,E,P,O,N,I,R,S,L,A,D,U,V,B,F,H,W,z,q,j,G,K,Z,X,$,Y,J,Q,ee,te,ne,ie,re,oe,ae,se,le,ce,ue){"use strict";if("undefined"==typeof DOMParser)return{};var he={avi:"video/x-msvideo",bmp:"image/bmp",bz2:"application/x-bzip2",chm:"application/vnd.ms-htmlhelp",css:"text/css",csv:"text/csv",doc:"application/msword",dvi:"application/x-dvi",eps:"application/postscript",flv:"video/x-flv",gif:"image/gif",gz:"application/x-gzip",htm:"text/html",html:"text/html",ico:"image/vnd.microsoft.icon",jnlp:"application/x-java-jnlp-file",jpeg:"image/jpeg",jpg:"image/jpeg",m3u:"audio/x-mpegurl",m4v:"video/mp4",mathml:"application/mathml+xml",mid:"audio/midi",midi:"audio/midi",mov:"video/quicktime",mp3:"audio/mpeg",mp4:"video/mp4",mp4v:"video/mp4",mpeg:"video/mpeg",mpg:"video/mpeg",odp:"application/vnd.oasis.opendocument.presentation",ods:"application/vnd.oasis.opendocument.spreadsheet",odt:"application/vnd.oasis.opendocument.text",ogg:"application/ogg",pdf:"application/pdf",png:"image/png",pps:"application/vnd.ms-powerpoint",ppt:"application/vnd.ms-powerpoint",ps:"application/postscript",qt:"video/quicktime",rdf:"application/rdf+xml",rss:"application/rss+xml",rtf:"application/rtf",svg:"image/svg+xml",swf:"application/x-shockwave-flash",text:"text/plain",tif:"image/tiff",tiff:"image/tiff",txt:"text/plain",wav:"audio/x-wav",wma:"audio/x-ms-wma",wmv:"video/x-ms-wmv",xml:"application/xml",zip:"application/zip",detectFromFilename:function(e){var t=e.toLowerCase();return t=v(t),he[t]}},de=new DOMParser,fe=new V({stripPrefix:!1,twitter:!1,email:!1,replaceFn:function(e,t){if(!t.protocolUrlMatch)return!1}}),pe=32,ge=2414016,ve=1,me=16093e3,ye=.1;function we(e){var t,n,i,r={xsi:"http://www.w3.org/2001/XMLSchema-instance"};for(var o in r)r.hasOwnProperty(o)&&(i="xmlns:"+o+"=",RegExp("[< ]"+o+":").test(e)&&-1===e.indexOf(i)&&(h(t)||(t=e.substr(0,e.indexOf("<kml")+4),n=e.substr(t.length)),t+=" "+i+'"'+r[o]+'"'));return h(t)&&(e=t+n),e}function _e(e){for(var t,n,i,r=e.indexOf("xmlns:"),o=e.indexOf(">",r);-1!==r&&r<o;)t=e.slice(r,e.indexOf('"',r)),n=r,-1!==(r=e.indexOf(t,r+1))?(i=e.indexOf('"',e.indexOf('"',r)+1),r=(e=e.slice(0,r-1)+e.slice(i+1,e.length)).indexOf("xmlns:",n-1)):r=e.indexOf("xmlns:",n+1);return e}function Ce(e,t,n){var i=u(he.detectFromFilename(e.filename),"application/octet-stream");e.getData(new H.Data64URIWriter(i),function(i){t[e.filename]=i,n.resolve()})}function xe(e,t,n,i){for(var r=i.keys,o=new B("."),a=e.querySelectorAll(t),s=0;s<a.length;s++){var l=a[s],c=l.getAttribute(n),u=new B(c).resolve(o).toString(),h=r.indexOf(u);if(-1!==h){var d=r[h];l.setAttribute(n,i[d]),"a"===t&&null===l.getAttribute("download")&&l.setAttribute("download",d)}}}function ke(e,t,n,i){for(var r=e.querySelectorAll(t),o=0;o<r.length;o++){var a=r[o],s=Be(a.getAttribute(n),i);a.setAttribute(n,s.url)}}function be(e,t,n){var i=Re(e,"id");i=h(i)&&0!==i.length?i:c(),h(n)&&(i=n+i);var r=t.getById(i);return h(r)&&(i=c(),h(n)&&(i=n+i)),r=t.add(new G({id:i})),h(r.kml)||(r.addProperty("kml"),r.kml=new Et),r}function Te(e,t){return"absolute"===e||"relativeToGround"===e||"relativeToSeaFloor"===t}function Me(e,t){if(!h(e))return r.fromDegrees(0,0,0,t);var n=e.match(/[^\s,\n]+/g);if(!h(n))return r.fromDegrees(0,0,0,t);var i=parseFloat(n[0]),o=parseFloat(n[1]),a=parseFloat(n[2]);return i=isNaN(i)?0:i,o=isNaN(o)?0:o,a=isNaN(a)?0:a,r.fromDegrees(i,o,a,t)}function Ee(e,t){if(h(e)){var n=e.textContent.match(/[^\s\n]+/g);if(h(n)){for(var i=n.length,r=new Array(i),o=0,a=0;a<i;a++)r[o++]=Me(n[a],t);return r}}}var Pe=[null,void 0,"http://www.opengis.net/kml/2.2","http://earth.google.com/kml/2.2","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.0"],Oe=["http://www.google.com/kml/ext/2.2"],Ne={kml:Pe,gx:Oe,atom:["http://www.w3.org/2005/Atom"],kmlgx:Pe.concat(Oe)};function Ie(e,t){if(h(e)){var n=e.getAttribute(t);if(null!==n){var i=parseFloat(n);return isNaN(i)?void 0:i}}}function Re(e,t){if(h(e)){var n=e.getAttribute(t);return null!==n?n:void 0}}function Se(e,t,n){if(h(e))for(var i=e.childNodes,r=i.length,o=0;o<r;o++){var a=i[o];if(a.localName===t&&-1!==n.indexOf(a.namespaceURI))return a}}function Le(e,t,n){if(h(e)){for(var i=[],r=e.getElementsByTagNameNS("*",t),o=r.length,a=0;a<o;a++){var s=r[a];s.localName===t&&-1!==n.indexOf(s.namespaceURI)&&i.push(s)}return i}}function Ae(e,t,n){if(!h(e))return[];for(var i=[],r=e.childNodes,o=r.length,a=0;a<o;a++){var s=r[a];s.localName===t&&-1!==n.indexOf(s.namespaceURI)&&i.push(s)}return i}function De(e,t,n){var i=Se(e,t,n);if(h(i)){var r=parseFloat(i.textContent);return isNaN(r)?void 0:r}}function Ue(e,t,n){var i=Se(e,t,n);if(h(i))return i.textContent.trim()}function Ve(e,t,n){var i=Se(e,t,n);if(h(i)){var r=i.textContent.trim();return"1"===r||/^true$/i.test(r)}}function Be(e,t,n){if(h(e)){var i;if(h(n)){var r=n[e];if(h(r))i=new N({url:r});else{var o=new B(t.getUrlComponent());r=n[new B(e).resolve(o)],h(r)&&(i=new N({url:r}))}}return h(i)||(i=t.getDerivedResource({url:e})),i}}var Fe={maximumRed:void 0,red:void 0,maximumGreen:void 0,green:void 0,maximumBlue:void 0,blue:void 0};function He(e,t){if(h(e)&&!/^\s*$/gm.test(e)){"#"===e[0]&&(e=e.substring(1));var n=parseInt(e.substring(0,2),16)/255,i=parseInt(e.substring(2,4),16)/255,r=parseInt(e.substring(4,6),16)/255,o=parseInt(e.substring(6,8),16)/255;return t?(o>0?(Fe.maximumRed=o,Fe.red=void 0):(Fe.maximumRed=void 0,Fe.red=0),r>0?(Fe.maximumGreen=r,Fe.green=void 0):(Fe.maximumGreen=void 0,Fe.green=0),i>0?(Fe.maximumBlue=i,Fe.blue=void 0):(Fe.maximumBlue=void 0,Fe.blue=0),Fe.alpha=n,l.fromRandom(Fe)):new l(o,r,i,n)}}function We(e,t,n){var i=Ue(e,t,n);if(h(i))return He(i,"random"===Ue(e,"colorMode",n))}function ze(){var e=new W;return e.width=pe,e.height=pe,e.scaleByDistance=new k(ge,ve,me,ye),e.pixelOffsetScaleByDistance=new k(ge,ve,me,ye),e}function qe(){var e=new ne;return e.outline=!0,e.outlineColor=l.WHITE,e}function je(){var e=new ee;return e.translucencyByDistance=new k(3e6,1,5e6,0),e.pixelOffset=new i(17,0),e.horizontalOrigin=A.LEFT,e.font="16px sans-serif",e.style=D.FILL_AND_OUTLINE,e}function Ge(e,t,n,i,r){var o=Ue(e,"href",Ne.kml);if(h(o)&&0!==o.length){if(0===o.indexOf("root://icons/palette-")){var a=o.charAt(21),s=u(De(e,"x",Ne.gx),0),l=u(De(e,"y",Ne.gx),0);s=Math.min(s/32,7),o="https://maps.google.com/mapfiles/kml/pal"+a+"/icon"+(8*(l=7-Math.min(l/32,7))+s)+".png"}var c=Be(o,n,i);if(r){var d=Ue(e,"refreshMode",Ne.kml),f=Ue(e,"viewRefreshMode",Ne.kml);"onInterval"===d||"onExpire"===d?T("kml-refreshMode-"+d,"KML - Unsupported Icon refreshMode: "+d):"onStop"!==f&&"onRegion"!==f||T("kml-refreshMode-"+f,"KML - Unsupported Icon viewRefreshMode: "+f);var p=u(Ue(e,"viewBoundScale",Ne.kml),1),g="onStop"===f?"BBOX=[bboxWest],[bboxSouth],[bboxEast],[bboxNorth]":"",v=u(Ue(e,"viewFormat",Ne.kml),g),m=Ue(e,"httpQuery",Ne.kml);h(v)&&c.setQueryParameters(P(gt(v))),h(m)&&c.setQueryParameters(P(gt(m)));var y=t._ellipsoid;return _t(c,t._camera,t._canvas,p,t._lastCameraView.bbox,y),c}return c}}function Ke(e,t,o,a,s){var l=De(t,"scale",Ne.kml),c=De(t,"heading",Ne.kml),d=We(t,"color",Ne.kml),f=Se(t,"Icon",Ne.kml),p=Ge(f,e,a,s,!1);h(f)&&!h(p)&&(p=!1);var g,v,m=De(f,"x",Ne.gx),y=De(f,"y",Ne.gx),w=De(f,"w",Ne.gx),_=De(f,"h",Ne.gx),C=Se(t,"hotSpot",Ne.kml),k=Ie(C,"x"),b=Ie(C,"y"),T=Re(C,"xunits"),M=Re(C,"yunits"),E=o.billboard;h(E)||(E=ze(),o.billboard=E),E.image=p,E.scale=l,E.color=d,(h(m)||h(y)||h(w)||h(_))&&(E.imageSubRegion=new n(m,y,w,_)),h(c)&&0!==c&&(E.rotation=x.toRadians(-c),E.alignedAxis=r.UNIT_Z),l=u(l,1),h(k)&&("pixels"===T?g=-k*l:"insetPixels"===T?g=(k-pe)*l:"fraction"===T&&(g=-k*pe*l),g+=.5*pe*l),h(b)&&("pixels"===M?v=b*l:"insetPixels"===M?v=(-b+pe)*l:"fraction"===M&&(v=b*pe*l),v-=.5*pe*l),(h(g)||h(v))&&(E.pixelOffset=new i(g,v))}function Ze(e,t,n,i,r){for(var o=0,a=t.childNodes.length;o<a;o++){var s=t.childNodes.item(o);if("IconStyle"===s.localName)Ke(e,s,n,i,r);else if("LabelStyle"===s.localName){var c=n.label;h(c)||(c=je(),n.label=c),c.scale=u(De(s,"scale",Ne.kml),c.scale),c.fillColor=u(We(s,"color",Ne.kml),c.fillColor),c.text=n.name}else if("LineStyle"===s.localName){var d=n.polyline;h(d)||(d=new ie,n.polyline=d),d.width=De(s,"width",Ne.kml),d.material=We(s,"color",Ne.kml),h(We(s,"outerColor",Ne.gx))&&T("kml-gx:outerColor","KML - gx:outerColor is not supported in a LineStyle"),h(De(s,"outerWidth",Ne.gx))&&T("kml-gx:outerWidth","KML - gx:outerWidth is not supported in a LineStyle"),h(De(s,"physicalWidth",Ne.gx))&&T("kml-gx:physicalWidth","KML - gx:physicalWidth is not supported in a LineStyle"),h(Ve(s,"labelVisibility",Ne.gx))&&T("kml-gx:labelVisibility","KML - gx:labelVisibility is not supported in a LineStyle")}else if("PolyStyle"===s.localName){var f=n.polygon;h(f)||(f=qe(),n.polygon=f),f.material=u(We(s,"color",Ne.kml),f.material),f.fill=u(Ve(s,"fill",Ne.kml),f.fill),f.outline=u(Ve(s,"outline",Ne.kml),f.outline)}else if("BalloonStyle"===s.localName){var p=u(He(Ue(s,"bgColor",Ne.kml)),l.WHITE),g=u(He(Ue(s,"textColor",Ne.kml)),l.BLACK),v=Ue(s,"text",Ne.kml);n.addProperty("balloonStyle"),n.balloonStyle={bgColor:p,textColor:g,text:v}}else if("ListStyle"===s.localName){var m=Ue(s,"listItemType",Ne.kml);"radioFolder"!==m&&"checkOffOnly"!==m||T("kml-listStyle-"+m,"KML - Unsupported ListStyle with listItemType: "+m)}}}function Xe(e,t,n){return t.fetchXML().then(function(i){return $e(e,i,n,t,!0)})}function $e(e,t,n,i,r,o){var a,s,l,c,u=Le(t,"Style",Ne.kml);if(h(u)){var d=u.length;for(a=0;a<d;a++)s=Re(c=u[a],"id"),h(s)&&(s="#"+s,r&&h(i)&&(s=i.getUrlComponent()+s),h(n.getById(s))||(l=new G({id:s}),n.add(l),Ze(e,c,l,i,o)))}var f=Le(t,"StyleMap",Ne.kml);if(h(f)){var p=f.length;for(a=0;a<p;a++){var g=f[a];if(s=Re(g,"id"),h(s))for(var v=Ae(g,"Pair",Ne.kml),m=0;m<v.length;m++){var y=v[m],w=Ue(y,"key",Ne.kml);if("normal"===w){if(s="#"+s,r&&h(i)&&(s=i.getUrlComponent()+s),!h(n.getById(s))){l=n.getOrCreateEntity(s);var _=Ue(y,"styleUrl",Ne.kml);if(h(_)){"#"!==_[0]&&(_="#"+_),r&&h(i)&&(_=i.getUrlComponent()+_);var C=n.getById(_);h(C)&&l.merge(C)}else Ze(e,c=Se(y,"Style",Ne.kml),l,i,o)}}else T("kml-styleMap-"+w,"KML - Unsupported StyleMap key: "+w)}}}var x=[],k=t.getElementsByTagName("styleUrl"),b=k.length;for(a=0;a<b;a++){var M=k[a].textContent;if("#"!==M[0]){var E=M.split("#");if(2===E.length){var P=E[0],O=i.getDerivedResource({url:P});x.push(Xe(e,O,n))}}}return x}function Ye(e,t,n){var i=new ae(e,t.id,["position"]),r=new le(t.position);t.polyline=h(n.polyline)?n.polyline.clone():new ie,t.polyline.positions=new re([i,r])}function Je(e,t){return!h(e)&&!h(t)||"clampToGround"===e?L.CLAMP_TO_GROUND:"relativeToGround"===e?L.RELATIVE_TO_GROUND:"absolute"===e?L.NONE:"clampToSeaFloor"===t?(T("kml-gx:altitudeMode-clampToSeaFloor","KML - <gx:altitudeMode>:clampToSeaFloor is currently not supported, using <kml:altitudeMode>:clampToGround."),L.CLAMP_TO_GROUND):"relativeToSeaFloor"===t?(T("kml-gx:altitudeMode-relativeToSeaFloor","KML - <gx:altitudeMode>:relativeToSeaFloor is currently not supported, using <kml:altitudeMode>:relativeToGround."),L.RELATIVE_TO_GROUND):(h(e)?T("kml-altitudeMode-unknown","KML - Unknown <kml:altitudeMode>:"+e+", using <kml:altitudeMode>:CLAMP_TO_GROUND."):T("kml-gx:altitudeMode-unknown","KML - Unknown <gx:altitudeMode>:"+t+", using <kml:altitudeMode>:CLAMP_TO_GROUND."),L.CLAMP_TO_GROUND)}function Qe(e,t,n){return"relativeToSeaFloor"===n||"absolute"===t||"relativeToGround"===t?e:((h(t)&&"clampToGround"!==t||h(n)&&"clampToSeaFloor"!==n)&&T("kml-altitudeMode-unknown","KML - Unknown altitudeMode: "+u(t,n)),new le(e))}function et(e,t,n,r){var o=t.label;h(o)||(o=h(n.label)?n.label.clone():je(),t.label=o),o.text=t.name;var a=t.billboard;h(a)||(a=h(n.billboard)?n.billboard.clone():ze(),t.billboard=a),h(a.image)?a.image.getValue()||(a.image=void 0):a.image=e._pinBuilder.fromColor(l.YELLOW,64);var s=1;h(a.scale)&&(0!==(s=a.scale.getValue())?o.pixelOffset=new i(16*s+1,0):(o.pixelOffset=void 0,o.horizontalOrigin=void 0)),h(r)&&e._clampToGround&&(a.heightReference=r,o.heightReference=r)}function tt(e,t){var n=e.path;h(n)||((n=new te).leadTime=0,e.path=n);var i=t.polyline;h(i)&&(n.material=i.material,n.width=i.width)}function nt(t,n,i,r,o){var a=Se(i,"coordinates",Ne.kml),s=Ue(i,"altitudeMode",Ne.kml),c=Ue(i,"altitudeMode",Ne.gx),d=Ve(i,"extrude",Ne.kml),f=Ve(i,"tessellate",Ne.kml),p=Te(s,c),g=De(i,"drawOrder",Ne.gx),v=t._ellipsoid,m=Ee(a,v),y=o.polyline;if(p&&d){var w=new ue;r.wall=w,w.positions=m;var C=o.polygon;h(C)&&(w.fill=C.fill,w.material=C.material),w.outline=!0,h(y)?(w.outlineColor=h(y.material)?y.material.color:l.WHITE,w.outlineWidth=y.width):h(C)&&(w.outlineColor=h(C.material)?C.material.color:l.WHITE)}else if(t._clampToGround&&!p&&f){var x=new ie;x.clampToGround=!0,r.polyline=x,x.positions=m,h(y)?(x.material=h(y.material)?y.material.color.getValue(_.MINIMUM_VALUE):l.WHITE,x.width=u(y.width,1)):(x.material=l.WHITE,x.width=1),x.zIndex=g}else h(g)&&T("kml-gx:drawOrder","KML - gx:drawOrder is not supported in LineStrings when clampToGround is false"),y=h(y)?y.clone():new ie,r.polyline=y,y.positions=function(e,t,n,i){if(h(e)){if("relativeToSeaFloor"===n||"absolute"===t||"relativeToGround"===t)return e;(h(t)&&"clampToGround"!==t||h(n)&&"clampToSeaFloor"!==n)&&T("kml-altitudeMode-unknown","KML - Unknown altitudeMode: "+u(t,n));for(var r=e.length,o=0;o<r;o++){var a=e[o];i.scaleToGeodeticSurface(a,a)}return e}}(m,s,c,v),f&&!p||(y.arcType=e.NONE);return!0}function it(e,t,n,i,r,o,a,s,l){var c=e[0],u=e[e.length-1],h=new se;h.addSamples(e,t),n.intervals.addInterval(new R({start:c,stop:u,isStartIncluded:l,isStopIncluded:l,data:Qe(h,a,s)})),i.addInterval(new R({start:c,stop:u,isStartIncluded:l,isStopIncluded:l})),r.intervals.addInterval(new R({start:c,stop:u,isStartIncluded:l,isStopIncluded:l,data:o}))}var rt={Point:function(e,t,n,i,r){var o=Ue(n,"coordinates",Ne.kml),a=Ue(n,"altitudeMode",Ne.kml),s=Ue(n,"altitudeMode",Ne.gx),l=Ve(n,"extrude",Ne.kml),c=Me(o,e._ellipsoid);return i.position=c,et(e,i,r,Je(a,s)),l&&Te(a,s)&&Ye(t,i,r),!0},LineString:nt,LinearRing:nt,Polygon:function(e,t,n,i,r){var o=Se(n,"outerBoundaryIs",Ne.kml),a=Se(o,"LinearRing",Ne.kml),s=Se(a,"coordinates",Ne.kml),c=e._ellipsoid,u=Ee(s,c),d=Ve(n,"extrude",Ne.kml),f=Te(Ue(n,"altitudeMode",Ne.kml),Ue(n,"altitudeMode",Ne.gx)),p=h(r.polygon)?r.polygon.clone():qe(),g=r.polyline;if(h(g)&&(p.outlineColor=h(g.material)?g.material.color:l.WHITE,p.outlineWidth=g.width),i.polygon=p,f?(p.perPositionHeight=!0,p.extrudedHeight=d?0:void 0):e._clampToGround||(p.height=0),h(u)){for(var v=new E(u),m=Ae(n,"innerBoundaryIs",Ne.kml),y=0;y<m.length;y++){a=Ae(m[y],"LinearRing",Ne.kml);for(var w=0;w<a.length;w++)u=Ee(s=Se(a[w],"coordinates",Ne.kml),c),h(u)&&v.holes.push(new E(u))}p.hierarchy=v}return!0},Track:function(e,t,n,i,r){var o=Ue(n,"altitudeMode",Ne.kml),a=Ue(n,"altitudeMode",Ne.gx),s=Ae(n,"coord",Ne.gx),l=Ae(n,"angles",Ne.gx),c=Ae(n,"when",Ne.kml),u=Ve(n,"extrude",Ne.kml),h=Te(o,a),d=e._ellipsoid;l.length>0&&T("kml-gx:angles","KML - gx:angles are not supported in gx:Tracks");for(var f=Math.min(s.length,c.length),p=[],g=[],v=0;v<f;v++){var m=Me(s[v].textContent,d);p.push(m),g.push(C.fromIso8601(c[v].textContent))}var y=new se;return y.addSamples(g,p),i.position=y,et(e,i,r,Je(o,a)),tt(i,r),i.availability=new S,c.length>0&&i.availability.addInterval(new R({start:g[0],stop:g[g.length-1]})),h&&u&&Ye(t,i,r),!0},MultiTrack:function(e,t,n,i,r){for(var o,a,s,l=Ve(n,"interpolate",Ne.gx),c=Ae(n,"Track",Ne.gx),u=!1,d=new ce,f=new S,p=new z,g=e._ellipsoid,v=0,m=c.length;v<m;v++){var y=c[v],w=Ae(y,"when",Ne.kml),_=Ae(y,"coord",Ne.gx),x=Ue(y,"altitudeMode",Ne.kml),k=Ue(y,"altitudeMode",Ne.gx),b=Te(x,k),T=Ve(y,"extrude",Ne.kml),M=Math.min(_.length,w.length),E=[];o=[];for(var P=0;P<M;P++){var O=Me(_[P].textContent,g);E.push(O),o.push(C.fromIso8601(w[P].textContent))}l&&(h(a)&&it([a,o[0]],[s,E[0]],p,f,d,!1,"absolute",void 0,!1),a=o[M-1],s=E[E.length-1]),it(o,E,p,f,d,b&&T,x,k,!0),u=u||b&&T}return i.availability=f,i.position=p,et(e,i,r),tt(i,r),u&&(Ye(t,i,r),i.polyline.show=d),!0},MultiGeometry:function(e,t,n,i,r,o){for(var a=n.childNodes,s=!1,l=0,c=a.length;l<c;l++){var u=a.item(l),d=rt[u.localName];if(h(d)){var f=be(u,t,o);f.parent=i,f.name=i.name,f.availability=i.availability,f.description=i.description,f.kml=i.kml,d(e,t,u,f,r)&&(s=!0)}}return s},Model:function(e,t,n,i,r){return T("kml-unsupportedGeometry","KML - Unsupported geometry: "+n.localName),!1}};var ot=document.createElement("div");function at(e,t,n,i,r,o,a,s,c){var d=be(n,i,c),f=d.kml,p=function(e,t,n,i,r){for(var o,a=new G,s=-1,l=t.childNodes,c=l.length,u=0;u<c;u++){var d=l[u];"Style"!==d.localName&&"StyleMap"!==d.localName||(s=u)}if(-1!==s){var f=l[s];if("Style"===f.localName)Ze(e,f,a,i,r);else for(var p=Ae(f,"Pair",Ne.kml),g=0;g<p.length;g++){var v=p[g],m=Ue(v,"key",Ne.kml);if("normal"===m){var y=Ue(v,"styleUrl",Ne.kml);if(h(y))o=n.getById(y),h(o)||(o=n.getById("#"+y)),h(o)&&a.merge(o);else Ze(e,Se(v,"Style",Ne.kml),a,i,r)}else T("kml-styleMap-"+m,"KML - Unsupported StyleMap key: "+m)}}var w=Ue(t,"styleUrl",Ne.kml);if(h(w)){var _=w;if("#"!==w[0]&&-1!==w.indexOf("#")){var C=w.split("#"),x=C[0];_=i.getDerivedResource({url:x}).getUrlComponent()+"#"+C[1]}o=n.getById(_),h(o)||(o=n.getById("#"+_)),h(o)&&a.merge(o)}return a}(e,n,r,o,a),g=Ue(n,"name",Ne.kml);d.name=g,d.parent=t;var v=function(e){var t=Se(e,"TimeSpan",Ne.kmlgx);if(h(t)){var n,i=Se(t,"begin",Ne.kmlgx),r=h(i)?C.fromIso8601(i.textContent):void 0,o=Se(t,"end",Ne.kmlgx),a=h(o)?C.fromIso8601(o.textContent):void 0;if(h(r)&&h(a)){if(C.lessThan(a,r)){var s=r;r=a,a=s}(n=new S).addInterval(new R({start:r,stop:a}))}else h(r)?(n=new S).addInterval(new R({start:r,stop:_.MAXIMUM_VALUE})):h(a)&&(n=new S).addInterval(new R({start:_.MINIMUM_VALUE,stop:a}));return n}}(n);h(v)||(v=function(e){var t=Se(e,"TimeStamp",Ne.kmlgx),n=Ue(t,"when",Ne.kmlgx);if(h(t)&&h(n)&&0!==n.length){var i=C.fromIso8601(n),r=new S;return r.addInterval(new R({start:i,stop:_.MAXIMUM_VALUE})),r}}(n)),d.availability=v,Tt(d);var m=Ve(n,"visibility",Ne.kml);d.show=function e(t){return!t||t.show&&e(t.parent)}(t)&&u(m,!0);var y=Se(n,"author",Ne.atom),w=f.author;w.name=Ue(y,"name",Ne.atom),w.uri=Ue(y,"uri",Ne.atom),w.email=Ue(y,"email",Ne.atom);var x=Se(n,"link",Ne.atom),k=f.link;k.href=Re(x,"href"),k.hreflang=Re(x,"hreflang"),k.rel=Re(x,"rel"),k.type=Re(x,"type"),k.title=Re(x,"title"),k.length=Re(x,"length"),f.address=Ue(n,"address",Ne.kml),f.phoneNumber=Ue(n,"phoneNumber",Ne.kml),f.snippet=Ue(n,"Snippet",Ne.kml),function(e,t){var n=Se(e,"ExtendedData",Ne.kml);if(h(n)){h(Se(n,"SchemaData",Ne.kml))&&T("kml-schemaData","KML - SchemaData is unsupported"),h(Re(n,"xmlns:prefix"))&&T("kml-extendedData","KML - ExtendedData with xmlns:prefix is unsupported");var i={},r=Ae(n,"Data",Ne.kml);if(h(r))for(var o=r.length,a=0;a<o;a++){var s=r[a],l=Re(s,"name");h(l)&&(i[l]={displayName:Ue(s,"displayName",Ne.kml),value:Ue(s,"value",Ne.kml)})}t.kml.extendedData=i}}(n,d),function(e,t,n,i,r){var o,a,s,c,d=t.kml,f=d.extendedData,p=Ue(e,"description",Ne.kml),g=u(t.balloonStyle,n.balloonStyle),v=l.WHITE,m=l.BLACK,y=p;if(h(g)&&(v=u(g.bgColor,l.WHITE),m=u(g.textColor,l.BLACK),y=u(g.text,p)),h(y)){if(y=(y=(y=(y=(y=(y=y.replace("$[name]",u(t.name,""))).replace("$[description]",u(p,""))).replace("$[address]",u(d.address,""))).replace("$[Snippet]",u(d.snippet,""))).replace("$[id]",t.id)).replace("$[geDirections]",""),h(f)){var w=y.match(/\$\[.+?\]/g);if(null!==w)for(o=0;o<w.length;o++){var _=w[o],C=_.substr(2,_.length-3),x=/\/displayName$/.test(C);c=f[C=C.replace(/\/displayName$/,"")],h(c)&&(c=x?c.displayName:c.value),h(c)&&(y=y.replace(_,u(c,"")))}}}else if(h(f)&&(s=Object.keys(f)).length>0){for(y='<table class="cesium-infoBox-defaultTable cesium-infoBox-defaultTable-lighter"><tbody>',o=0;o<s.length;o++)c=f[a=s[o]],y+="<tr><th>"+u(c.displayName,a)+"</th><td>"+u(c.value,"")+"</td></tr>";y+="</tbody></table>"}if(h(y)){y=fe.link(y),ot.innerHTML=y;var k=ot.querySelectorAll("a");for(o=0;o<k.length;o++)k[o].setAttribute("target","_blank");h(i)&&i.keys.length>1&&(xe(ot,"a","href",i),xe(ot,"img","src",i)),ke(ot,"a","href",r),ke(ot,"img","src",r);var b='<div class="cesium-infoBox-description-lighter" style="';b+="overflow:auto;",b+="word-wrap:break-word;",b+="background-color:"+v.toCssColorString()+";",b+="color:"+m.toCssColorString()+";",b+='">',b+=ot.innerHTML+"</div>",ot.innerHTML="",t.description=b}}(n,d,p,a,o);var b=e._ellipsoid;return dt(n,d,b),ht(n,d,b),h(Se(n,"Region",Ne.kml))&&T("kml-region","KML - Placemark Regions are unsupported"),{entity:d,styleEntity:p}}var st={Document:lt,Folder:function(e,t,n,i,r,o,a,s,l){var c=at(e,t,n,i,r,o,a,0,l);lt(e,c.entity,n,i,r,o,a,s,l)},Placemark:function(e,t,n,i,r,o,a,s,l){for(var c=at(e,t,n,i,r,o,a,0,l),u=c.entity,d=c.styleEntity,f=!1,p=n.childNodes,g=0,v=p.length;g<v&&!f;g++){var m=p.item(g),y=rt[m.localName];h(y)&&(y(e,i,m,u,d,u.id),f=!0)}f||(u.merge(d),et(e,u,d))},NetworkLink:function(e,t,n,i,r,o,a,s,l){var d=at(e,t,n,i,r,o,a,0,l).entity,f=Se(n,"Link",Ne.kml);h(f)||(f=Se(n,"Url",Ne.kml));if(h(f)){var p,g,v=Ue(f,"href",Ne.kml);if(h(v)){var m=v;if(v=Be(v,o,a),/^data:/.test(v.getUrlComponent()))/\.kmz/i.test(o.getUrlComponent())||(m=o.getDerivedResource({url:m}));else{m=v.clone(),p=Ue(f,"viewRefreshMode",Ne.kml),g=u(Ue(f,"viewBoundScale",Ne.kml),1);var y="onStop"===p?"BBOX=[bboxWest],[bboxSouth],[bboxEast],[bboxNorth]":"",w=u(Ue(f,"viewFormat",Ne.kml),y),_=Ue(f,"httpQuery",Ne.kml);h(w)&&v.setQueryParameters(P(gt(w))),h(_)&&v.setQueryParameters(P(gt(_)));var x=e._ellipsoid;_t(v,e._camera,e._canvas,g,e._lastCameraView.bbox,x)}var k={sourceUri:m,uriResolver:a,context:d.id},b=new Z,M=kt(e,b,v,k).then(function(t){var n=e._entityCollection,i=b.values;n.suspendEvents();for(var r=0;r<i.length;r++){var o=i[r];h(o.parent)||(o.parent=d,Tt(o)),n.add(o)}n.resumeEvents();var a=Ue(f,"refreshMode",Ne.kml),s=u(De(f,"refreshInterval",Ne.kml),0);if("onInterval"===a&&s>0||"onExpire"===a||"onStop"===p){var l=Se(t,"NetworkLinkControl",Ne.kml),m=h(l),y=C.now(),w={id:c(),href:v,cookie:{},lastUpdated:y,updating:!1,entity:d,viewBoundScale:g,needsUpdate:!1,cameraUpdateTime:y},_=0;if(m&&(w.cookie=P(u(Ue(l,"cookie",Ne.kml),"")),_=u(De(l,"minRefreshPeriod",Ne.kml),0)),"onInterval"===a)m&&(s=Math.max(_,s)),w.refreshMode=pt.INTERVAL,w.time=s;else if("onExpire"===a){var x;if(m&&(x=Ue(l,"expires",Ne.kml)),h(x))try{var k=C.fromIso8601(x),M=C.secondsDifference(k,y);M>0&&M<_&&C.addSeconds(y,_,k),w.refreshMode=pt.EXPIRE,w.time=k}catch(e){T("kml-refreshMode-onInterval-onExpire","KML - NetworkLinkControl expires is not a valid date")}else T("kml-refreshMode-onExpire","KML - refreshMode of onExpire requires the NetworkLinkControl to have an expires element")}else e._camera?(w.refreshMode=pt.STOP,w.time=u(De(f,"viewRefreshTime",Ne.kml),0)):T("kml-refrehMode-onStop-noCamera","A NetworkLink with viewRefreshMode=onStop requires a camera be passed in when creating the KmlDataSource");h(w.refreshMode)&&e._networkLinks.set(w.id,w)}else"onRegion"===p&&T("kml-refrehMode-onRegion","KML - Unsupported viewRefreshMode: onRegion")}).otherwise(function(t){T("An error occured during loading "+v.url),e._error.raiseEvent(e,t)});s.push(M)}}},GroundOverlay:function(e,t,n,i,r,o,a,s,l){var c,u=at(e,t,n,i,r,o,a,0,l).entity,d=!1,f=e._ellipsoid,p=Ee(Se(n,"LatLonQuad",Ne.gx),f),g=De(n,"drawOrder",Ne.kml);if(h(p))(c=qe()).hierarchy=new E(p),c.zIndex=g,u.polygon=c,d=!0;else{(c=new oe).zIndex=g,u.rectangle=c;var v=Se(n,"LatLonBox",Ne.kml);if(h(v)){var m=De(v,"west",Ne.kml),y=De(v,"south",Ne.kml),w=De(v,"east",Ne.kml),_=De(v,"north",Ne.kml);h(m)&&(m=x.negativePiToPi(x.toRadians(m))),h(y)&&(y=x.clampToLatitudeRange(x.toRadians(y))),h(w)&&(w=x.negativePiToPi(x.toRadians(w))),h(_)&&(_=x.clampToLatitudeRange(x.toRadians(_))),c.coordinates=new O(m,y,w,_);var C=De(v,"rotation",Ne.kml);if(h(C)){var k=x.toRadians(C);c.rotation=k,c.stRotation=k}}}var b=Se(n,"Icon",Ne.kml),M=Ge(b,e,o,a,!0);if(h(M)){d&&T("kml-gx:LatLonQuad","KML - gx:LatLonQuad Icon does not support texture projection.");var P=De(b,"x",Ne.gx),N=De(b,"y",Ne.gx),I=De(b,"w",Ne.gx),R=De(b,"h",Ne.gx);(h(P)||h(N)||h(I)||h(R))&&T("kml-groundOverlay-xywh","KML - gx:x, gx:y, gx:w, gx:h aren't supported for GroundOverlays"),c.material=M,c.material.color=We(n,"color",Ne.kml),c.material.transparent=!0}else c.material=We(n,"color",Ne.kml);var S=Ue(n,"altitudeMode",Ne.kml);h(S)?"absolute"===S?(c.height=De(n,"altitude",Ne.kml),c.zIndex=void 0):"clampToGround"!==S&&T("kml-altitudeMode-unknown","KML - Unknown altitudeMode: "+S):"relativeToSeaFloor"===(S=Ue(n,"altitudeMode",Ne.gx))?(T("kml-altitudeMode-relativeToSeaFloor","KML - altitudeMode relativeToSeaFloor is currently not supported, treating as absolute."),c.height=De(n,"altitude",Ne.kml),c.zIndex=void 0):"clampToSeaFloor"===S?T("kml-altitudeMode-clampToSeaFloor","KML - altitudeMode clampToSeaFloor is currently not supported, treating as clampToGround."):h(S)&&T("kml-altitudeMode-unknown","KML - Unknown altitudeMode: "+S)},PhotoOverlay:ft,ScreenOverlay:ft,Tour:function(e,t,n,i,r,o,a,s,l){var c=Ue(n,"name",Ne.kml),u=Re(n,"id"),d=new Y(c,u),f=Se(n,"Playlist",Ne.gx);if(f)for(var p=e._ellipsoid,g=f.childNodes,v=0;v<g.length;v++){var m=g[v];if(m.localName){var y=ct[m.localName];y?y(d,m,p):console.log("Unknown KML Tour playlist entry type "+m.localName)}}h(e.kmlTours)||(e.kmlTours=[]);e.kmlTours.push(d)}};function lt(e,t,n,i,r,o,a,s,l){for(var c=Object.keys(st),u=c.length,h=0;h<u;h++)for(var d=c[h],f=st[d],p=n.childNodes,g=p.length,v=0;v<g;v++){var m=p[v];m.localName!==d||-1===Ne.kml.indexOf(m.namespaceURI)&&-1===Ne.gx.indexOf(m.namespaceURI)||f(e,t,m,i,r,o,a,s,l)}}var ct={FlyTo:function(e,t,n){var i=De(t,"duration",Ne.gx),r=Ue(t,"flyToMode",Ne.gx),o={kml:{}};dt(t,o,n),ht(t,o,n);var a=o.kml.lookAt||o.kml.camera,s=new J(i,r,a);e.addPlaylistEntry(s)},Wait:function(e,t){var n=De(t,"duration",Ne.gx);e.addPlaylistEntry(new Q(n))},SoundCue:ut,AnimatedUpdate:ut,TourControl:ut};function ut(e,t){T("KML Tour unsupported node "+t.localName)}function ht(e,t,n){var i=Se(e,"Camera",Ne.kml);if(h(i)){var o=u(De(i,"longitude",Ne.kml),0),a=u(De(i,"latitude",Ne.kml),0),s=u(De(i,"altitude",Ne.kml),0),l=u(De(i,"heading",Ne.kml),0),c=u(De(i,"tilt",Ne.kml),0),d=u(De(i,"roll",Ne.kml),0),f=r.fromDegrees(o,a,s,n),p=w.fromDegrees(l,c-90,d);t.kml.camera=new X(f,p)}}function dt(e,t,n){var i=Se(e,"LookAt",Ne.kml);if(h(i)){var o=u(De(i,"longitude",Ne.kml),0),a=u(De(i,"latitude",Ne.kml),0),s=u(De(i,"altitude",Ne.kml),0),l=De(i,"heading",Ne.kml),c=De(i,"tilt",Ne.kml),d=u(De(i,"range",Ne.kml),0);c=x.toRadians(u(c,0)),l=x.toRadians(u(l,0));var f=new y(l,c-x.PI_OVER_TWO,d),p=r.fromDegrees(o,a,s,n);t.kml.lookAt=new $(p,f)}}function ft(e,t,n,i,r,o,a,s,l){e._unsupportedNode.raiseEvent(e,t,n,i,r,o,a),T("kml-unsupportedFeature-"+n.nodeName,"KML - Unsupported feature: "+n.nodeName)}var pt={INTERVAL:0,EXPIRE:1,STOP:2};function gt(e){if(!h(e)||0===e.length)return"";var t=e[0];return"&"!==t&&"?"!==t||(e=e.substring(1)),e}var vt=new O,mt=new o,yt=new i,wt=new r;function _t(e,t,n,i,o,a){function s(e){return e<-x.PI_OVER_TWO?-x.PI_OVER_TWO:e>x.PI_OVER_TWO?x.PI_OVER_TWO:e}function l(e){return e>x.PI?e-x.TWO_PI:e<-x.PI?e+x.TWO_PI:e}var c=b(e.queryParameters);if(c=c.replace(/%5B/g,"[").replace(/%5D/g,"]"),h(t)&&t._mode!==U.MORPHING){var d,f;if(o=u(o,vt),h(n)&&(yt.x=.5*n.clientWidth,yt.y=.5*n.clientHeight,d=t.pickEllipsoid(yt,a,wt)),h(d)?f=a.cartesianToCartographic(d,mt):(f=O.center(o,mt),d=a.cartographicToCartesian(f)),h(i)&&!x.equalsEpsilon(i,1,x.EPSILON9)){var p=o.width*i*.5,g=o.height*i*.5;o=new O(l(f.longitude-p),s(f.latitude-g),l(f.longitude+p),s(f.latitude+g))}c=(c=(c=(c=c.replace("[bboxWest]",x.toDegrees(o.west).toString())).replace("[bboxSouth]",x.toDegrees(o.south).toString())).replace("[bboxEast]",x.toDegrees(o.east).toString())).replace("[bboxNorth]",x.toDegrees(o.north).toString());var v=x.toDegrees(f.longitude).toString(),m=x.toDegrees(f.latitude).toString();c=(c=(c=(c=(c=(c=(c=(c=c.replace("[lookatLon]",v)).replace("[lookatLat]",m)).replace("[lookatTilt]",x.toDegrees(t.pitch).toString())).replace("[lookatHeading]",x.toDegrees(t.heading).toString())).replace("[lookatRange]",r.distance(t.positionWC,d))).replace("[lookatTerrainLon]",v)).replace("[lookatTerrainLat]",m)).replace("[lookatTerrainAlt]",f.height.toString()),a.cartesianToCartographic(t.positionWC,mt),c=(c=(c=c.replace("[cameraLon]",x.toDegrees(mt.longitude).toString())).replace("[cameraLat]",x.toDegrees(mt.latitude).toString())).replace("[cameraAlt]",x.toDegrees(mt.height).toString());var y=t.frustum,w=y.aspectRatio,_="",C="";if(h(w)){var k=x.toDegrees(y.fov);w>1?(_=k,C=k/w):(C=k,_=k*w)}c=(c=c.replace("[horizFov]",_.toString())).replace("[vertFov]",C.toString())}else c=(c=(c=(c=(c=(c=(c=(c=(c=(c=(c=(c=(c=(c=(c=(c=(c=c.replace("[bboxWest]","-180")).replace("[bboxSouth]","-90")).replace("[bboxEast]","180")).replace("[bboxNorth]","90")).replace("[lookatLon]","")).replace("[lookatLat]","")).replace("[lookatRange]","")).replace("[lookatTilt]","")).replace("[lookatHeading]","")).replace("[lookatTerrainLon]","")).replace("[lookatTerrainLat]","")).replace("[lookatTerrainAlt]","")).replace("[cameraLon]","")).replace("[cameraLat]","")).replace("[cameraAlt]","")).replace("[horizFov]","")).replace("[vertFov]","");c=(c=(c=(c=(c=(c=h(n)?(c=c.replace("[horizPixels]",n.clientWidth)).replace("[vertPixels]",n.clientHeight):(c=c.replace("[horizPixels]","")).replace("[vertPixels]","")).replace("[terrainEnabled]","1")).replace("[clientVersion]","1")).replace("[kmlVersion]","2.2")).replace("[clientName]","Cesium")).replace("[language]","English"),e.setQueryParameters(P(c))}function Ct(e,t,n,i,r,o){t.removeAll();var a=[],s=n.documentElement,l=Ue("Document"===s.localName?s:Se(s,"Document",Ne.kml),"name",Ne.kml);h(l)||(l=m(i.getUrlComponent())),h(e._name)||(e._name=l);var c=new Z(e);return F.all($e(e,n,c,i,!1,r)).then(function(){var s=n.documentElement;if("kml"===s.localName)for(var l=s.childNodes,u=0;u<l.length;u++){var d=l[u];if(h(st[d.localName])){s=d;break}}return t.suspendEvents(),function(e,t,n,i,r,o,a,s,l){var c=st[t.localName];h(c)?c(e,n,t,i,r,o,a,s,l):ft(e,n,t,i,r,o,a)}(e,s,void 0,t,c,i,r,a,o),t.resumeEvents(),F.all(a).then(function(){return n.documentElement})})}function xt(e,t,n,i){var r=F.defer();return H.createReader(new H.BlobReader(n),function(n){n.getEntries(function(o){for(var a,s,l=[],c={},u=0;u<o.length;u++){var d=o[u];if(!d.directory){var f=F.defer();l.push(f.promise),/\.kml$/i.test(d.filename)?h(a)&&/\//i.test(d.filename)?Ce(d,c,f):(h(a)&&Ce(a,c,s),a=d,s=f):Ce(d,c,f)}}h(a)&&function(e,t,n){e.getData(new H.TextWriter,function(e){e=_e(e=we(e)),t.kml=de.parseFromString(e,"application/xml"),n.resolve()})}(a,c,s),F.all(l).then(function(){if(n.close(),h(c.kml))return c.keys=Object.keys(c),Ct(e,t,c.kml,i,c);r.reject(new I("KMZ file does not contain a KML document."))}).then(r.resolve).otherwise(r.reject)})},function(e){r.reject(e)}),r.promise}function kt(e,t,n,i){var r=(i=u(i,u.EMPTY_OBJECT)).sourceUri,o=i.uriResolver,a=i.context,s=n;return"string"==typeof n||n instanceof N?(s=(n=N.createIfNeeded(n)).fetchBlob(),r=u(r,n.clone())):r=u(r,N.DEFAULT.clone()),r=N.createIfNeeded(r),F(s).then(function(n){return n instanceof Blob?(i=n,s=i.slice(0,Math.min(4,i.size)),l=F.defer(),c=new FileReader,c.addEventListener("load",function(){l.resolve(1347093252===new DataView(c.result).getUint32(0,!1))}),c.addEventListener("error",function(){l.reject(c.error)}),c.readAsArrayBuffer(s),l.promise).then(function(i){return i?xt(e,t,n,r):function(e){var t=F.defer(),n=new FileReader;return n.addEventListener("load",function(){t.resolve(n.result)}),n.addEventListener("error",function(){t.reject(n.error)}),n.readAsText(e),t.promise}(n).then(function(n){var i,s;n=_e(n=we(n));try{i=de.parseFromString(n,"application/xml")}catch(e){s=e.toString()}if(h(s)||i.body||"parsererror"===i.documentElement.tagName){var l=h(s)?s:i.documentElement.firstChild.nodeValue;throw l||(l=i.body.innerText),new I(l)}return Ct(e,t,i,r,o,a)})}):Ct(e,t,n,r,o,a);var i,s,l,c}).otherwise(function(t){return e._error.raiseEvent(e,t),console.log(t),F.reject(t)})}function bt(e){var n=(e=u(e,{})).camera,i=e.canvas;this._changed=new g,this._error=new g,this._loading=new g,this._refresh=new g,this._unsupportedNode=new g,this._clock=void 0,this._entityCollection=new Z(this),this._name=void 0,this._isLoading=!1,this._pinBuilder=new M,this._networkLinks=new t,this._entityCluster=new K,this._canvas=i,this._camera=n,this._lastCameraView={position:h(n)?r.clone(n.positionWC):void 0,direction:h(n)?r.clone(n.directionWC):void 0,up:h(n)?r.clone(n.upWC):void 0,bbox:h(n)?n.computeViewRectangle():O.clone(O.MAX_VALUE)},this._ellipsoid=u(e.ellipsoid,p.WGS84)}function Tt(e){var t=e.parent;if(h(t)){var n=t.availability;if(h(n)){var i=e.availability;h(i)?i.intersect(n):e.availability=n}}}bt.load=function(e,t){return new bt(t=u(t,u.EMPTY_OBJECT)).load(e,t)},d(bt.prototype,{name:{get:function(){return this._name},set:function(e){this._name!==e&&(this._name=e,this._changed.raiseEvent(this))}},clock:{get:function(){return this._clock}},entities:{get:function(){return this._entityCollection}},isLoading:{get:function(){return this._isLoading}},changedEvent:{get:function(){return this._changed}},errorEvent:{get:function(){return this._error}},loadingEvent:{get:function(){return this._loading}},refreshEvent:{get:function(){return this._refresh}},unsupportedNodeEvent:{get:function(){return this._unsupportedNode}},show:{get:function(){return this._entityCollection.show},set:function(e){this._entityCollection.show=e}},clustering:{get:function(){return this._entityCluster},set:function(e){this._entityCluster=e}}}),bt.prototype.load=function(e,t){t=u(t,{}),q.setLoading(this,!0);var n=this._name;this._name=void 0,this._clampToGround=u(t.clampToGround,!1);var i=this;return kt(this,this._entityCollection,e,t).then(function(){var e,t,r=i._entityCollection.computeAvailability(),o=r.start,l=r.stop,c=C.equals(o,_.MINIMUM_VALUE),u=C.equals(l,_.MAXIMUM_VALUE);c&&u||(c&&((t=new Date).setHours(0,0,0,0),o=C.fromDate(t)),u&&((t=new Date).setHours(24,0,0,0),l=C.fromDate(t)),(e=new j).startTime=o,e.stopTime=l,e.currentTime=C.clone(o),e.clockRange=a.LOOP_STOP,e.clockStep=s.SYSTEM_CLOCK_MULTIPLIER,e.multiplier=Math.round(Math.min(Math.max(C.secondsDifference(l,o)/60,1),31556900)));var h=!1;return e!==i._clock&&(i._clock=e,h=!0),n!==i._name&&(h=!0),h&&i._changed.raiseEvent(i),q.setLoading(i,!1),i}).otherwise(function(e){return q.setLoading(i,!1),i._error.raiseEvent(i,e),console.log(e),F.reject(e)})};var Mt=new t;function Et(){this.author={name:void 0,uri:void 0,email:void 0},this.link={href:void 0,hreflang:void 0,rel:void 0,type:void 0,title:void 0,length:void 0},this.address=void 0,this.phoneNumber=void 0,this.snippet=void 0,this.extendedData=void 0}return bt.prototype.update=function(e){var n=this._networkLinks;if(0===n.length)return!0;var i=C.now(),o=this;Mt.removeAll();var a=!1,s=this._lastCameraView,l=this._camera;!h(l)||l.positionWC.equalsEpsilon(s.position,x.EPSILON7)&&l.directionWC.equalsEpsilon(s.direction,x.EPSILON7)&&l.upWC.equalsEpsilon(s.up,x.EPSILON7)||(s.position=r.clone(l.positionWC),s.direction=r.clone(l.directionWC),s.up=r.clone(l.upWC),s.bbox=l.computeViewRectangle(),a=!0);var c=new t,d=!1;return n.values.forEach(function(e){var t=e.entity;if(!Mt.contains(t.id)){if(!e.updating){var n=!1;if(e.refreshMode===pt.INTERVAL?C.secondsDifference(i,e.lastUpdated)>e.time&&(n=!0):e.refreshMode===pt.EXPIRE?C.greaterThan(i,e.time)&&(n=!0):e.refreshMode===pt.STOP&&(a&&(e.needsUpdate=!0,e.cameraUpdateTime=i),e.needsUpdate&&C.secondsDifference(i,e.cameraUpdateTime)>=e.time&&(n=!0)),n){!function e(t){for(var n=t._children,i=n.length,r=0;r<i;++r){var o=n[r];Mt.set(o.id,o),e(o)}}(t),e.updating=!0;var r=new Z,l=e.href.clone();l.setQueryParameters(e.cookie);var f=u(o._ellipsoid,p.WGS84);_t(l,o._camera,o._canvas,e.viewBoundScale,s.bbox,f),kt(o,r,l,{context:t.id}).then(function(e,t,n,i,r){return function(o){if(i.contains(t.id)){var a=!1,s=Se(o,"NetworkLinkControl",Ne.kml),l=0;if(h(s)){if(h(Se(s,"Update",Ne.kml)))return T("kml-networkLinkControl-update","KML - NetworkLinkControl updates aren't supported."),t.updating=!1,void i.remove(t.id);t.cookie=P(u(Ue(s,"cookie",Ne.kml),"")),l=u(De(s,"minRefreshPeriod",Ne.kml),0)}var c=C.now(),d=t.refreshMode;if(d===pt.INTERVAL)h(s)&&(t.time=Math.max(l,t.time));else if(d===pt.EXPIRE){var f;if(h(s)&&(f=Ue(s,"expires",Ne.kml)),h(f))try{var p=C.fromIso8601(f),g=C.secondsDifference(p,c);g>0&&g<l&&C.addSeconds(c,l,p),t.time=p}catch(e){T("kml-networkLinkControl-expires","KML - NetworkLinkControl expires is not a valid date"),a=!0}else T("kml-refreshMode-onExpire","KML - refreshMode of onExpire requires the NetworkLinkControl to have an expires element"),a=!0}var v=t.entity,m=e._entityCollection,y=n.values;m.suspendEvents();var w,x=m.values.slice();for(w=0;w<x.length;++w){var k=x[w];k.parent===v&&(k.parent=void 0,S(k))}for(m.resumeEvents(),m.suspendEvents(),w=0;w<y.length;w++){var b=y[w];h(b.parent)||(b.parent=v,Tt(b)),m.add(b)}m.resumeEvents(),a?i.remove(t.id):t.lastUpdated=c;var M=m.computeAvailability(),E=M.start,O=M.stop,N=C.equals(E,_.MINIMUM_VALUE),I=C.equals(O,_.MAXIMUM_VALUE);if(!N||!I){var R=e._clock;R.startTime===E&&R.stopTime===O||(R.startTime=E,R.stopTime=O,e._changed.raiseEvent(e))}t.updating=!1,t.needsUpdate=!1,e._refresh.raiseEvent(e,r.getUrlComponent(!0))}function S(e){m.remove(e);for(var t=e._children,n=t.length,i=0;i<n;++i)S(t[i])}}}(o,e,r,c,l)).otherwise(function(t){var n="NetworkLink "+e.href+" refresh failed: "+t;console.log(n),o._error.raiseEvent(o,n)}),d=!0}}c.set(e.id,e)}}),d&&(this._networkLinks=c,this._changed.raiseEvent(this)),!0},bt}.apply(t,i))||(e.exports=r)}}]);
//# sourceMappingURL=2.TerriaJS-specs.js.map