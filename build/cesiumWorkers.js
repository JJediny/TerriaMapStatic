!function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var r={};return t.m=e,t.c=r,t.p="build/",t(0)}([function(e,t,r){"use strict";var n="/Workers/",i=r(187);self.onmessage=function(e){var t=e.data,r=i("./"+t.workerModule.substring(t.workerModule.lastIndexOf(n)+n.length)+".js");self.onmessage=r}},function(e,t,r){var n;n=function(){"use strict";function e(e){return void 0!==e&&null!==e}return e}.call(t,r,t,e),!(void 0!==n&&(e.exports=n))},function(e,t,r){var n,i;n=[r(1)],i=function(e){"use strict";function t(e){this.name="DeveloperError",this.message=e;var t;try{throw new Error}catch(e){t=e.stack}this.stack=t}return e(Object.create)&&(t.prototype=Object.create(Error.prototype),t.prototype.constructor=t),t.prototype.toString=function(){var t=this.name+": "+this.message;return e(this.stack)&&(t+="\n"+this.stack.toString()),t},t.throwInstantiationError=function(){throw new t("This function defines an interface and should not be called directly.")},t}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(8)],i=function(e){"use strict";function t(e,t){return void 0!==e?e:t}return t.EMPTY_OBJECT=e({}),t}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(3),r(1),r(2),r(8),r(5)],i=function(e,t,r,n,i){"use strict";function o(t,r,n){this.x=e(t,0),this.y=e(r,0),this.z=e(n,0)}o.fromSpherical=function(r,n){t(n)||(n=new o);var i=r.clock,a=r.cone,s=e(r.magnitude,1),u=s*Math.sin(a);return n.x=u*Math.cos(i),n.y=u*Math.sin(i),n.z=s*Math.cos(a),n},o.fromElements=function(e,r,n,i){return t(i)?(i.x=e,i.y=r,i.z=n,i):new o(e,r,n)},o.clone=function(e,r){if(t(e))return t(r)?(r.x=e.x,r.y=e.y,r.z=e.z,r):new o(e.x,e.y,e.z)},o.fromCartesian4=o.clone,o.packedLength=3,o.pack=function(t,r,n){return n=e(n,0),r[n++]=t.x,r[n++]=t.y,r[n]=t.z,r},o.unpack=function(r,n,i){return n=e(n,0),t(i)||(i=new o),i.x=r[n++],i.y=r[n++],i.z=r[n],i},o.packArray=function(e,r){var n=e.length;t(r)?r.length=3*n:r=new Array(3*n);for(var i=0;i<n;++i)o.pack(e[i],r,3*i);return r},o.unpackArray=function(e,r){var n=e.length;t(r)?r.length=n/3:r=new Array(n/3);for(var i=0;i<n;i+=3){var a=i/3;r[a]=o.unpack(e,i,r[a])}return r},o.fromArray=o.unpack,o.maximumComponent=function(e){return Math.max(e.x,e.y,e.z)},o.minimumComponent=function(e){return Math.min(e.x,e.y,e.z)},o.minimumByComponent=function(e,t,r){return r.x=Math.min(e.x,t.x),r.y=Math.min(e.y,t.y),r.z=Math.min(e.z,t.z),r},o.maximumByComponent=function(e,t,r){return r.x=Math.max(e.x,t.x),r.y=Math.max(e.y,t.y),r.z=Math.max(e.z,t.z),r},o.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y+e.z*e.z},o.magnitude=function(e){return Math.sqrt(o.magnitudeSquared(e))};var a=new o;o.distance=function(e,t){return o.subtract(e,t,a),o.magnitude(a)},o.distanceSquared=function(e,t){return o.subtract(e,t,a),o.magnitudeSquared(a)},o.normalize=function(e,t){var r=o.magnitude(e);return t.x=e.x/r,t.y=e.y/r,t.z=e.z/r,t},o.dot=function(e,t){return e.x*t.x+e.y*t.y+e.z*t.z},o.multiplyComponents=function(e,t,r){return r.x=e.x*t.x,r.y=e.y*t.y,r.z=e.z*t.z,r},o.add=function(e,t,r){return r.x=e.x+t.x,r.y=e.y+t.y,r.z=e.z+t.z,r},o.subtract=function(e,t,r){return r.x=e.x-t.x,r.y=e.y-t.y,r.z=e.z-t.z,r},o.multiplyByScalar=function(e,t,r){return r.x=e.x*t,r.y=e.y*t,r.z=e.z*t,r},o.divideByScalar=function(e,t,r){return r.x=e.x/t,r.y=e.y/t,r.z=e.z/t,r},o.negate=function(e,t){return t.x=-e.x,t.y=-e.y,t.z=-e.z,t},o.abs=function(e,t){return t.x=Math.abs(e.x),t.y=Math.abs(e.y),t.z=Math.abs(e.z),t};var s=new o;o.lerp=function(e,t,r,n){return o.multiplyByScalar(t,r,s),n=o.multiplyByScalar(e,1-r,n),o.add(s,n,n)};var u=new o,c=new o;o.angleBetween=function(e,t){o.normalize(e,u),o.normalize(t,c);var r=o.dot(u,c),n=o.magnitude(o.cross(u,c,u));return Math.atan2(n,r)};var l=new o;o.mostOrthogonalAxis=function(e,t){var r=o.normalize(e,l);return o.abs(r,r),t=r.x<=r.y?r.x<=r.z?o.clone(o.UNIT_X,t):o.clone(o.UNIT_Z,t):r.y<=r.z?o.clone(o.UNIT_Y,t):o.clone(o.UNIT_Z,t)},o.equals=function(e,r){return e===r||t(e)&&t(r)&&e.x===r.x&&e.y===r.y&&e.z===r.z},o.equalsArray=function(e,t,r){return e.x===t[r]&&e.y===t[r+1]&&e.z===t[r+2]},o.equalsEpsilon=function(e,r,n,o){return e===r||t(e)&&t(r)&&i.equalsEpsilon(e.x,r.x,n,o)&&i.equalsEpsilon(e.y,r.y,n,o)&&i.equalsEpsilon(e.z,r.z,n,o)},o.cross=function(e,t,r){var n=e.x,i=e.y,o=e.z,a=t.x,s=t.y,u=t.z,c=i*u-o*s,l=o*a-n*u,p=n*s-i*a;return r.x=c,r.y=l,r.z=p,r},o.fromDegrees=function(e,t,r,n,a){return e=i.toRadians(e),t=i.toRadians(t),o.fromRadians(e,t,r,n,a)};var p=new o,h=new o,m=new o(40680631590769,40680631590769,40408299984661.445);return o.fromRadians=function(r,n,i,a,s){i=e(i,0);var u=t(a)?a.radiiSquared:m,c=Math.cos(n);p.x=c*Math.cos(r),p.y=c*Math.sin(r),p.z=Math.sin(n),p=o.normalize(p,p),o.multiplyComponents(u,p,h);var l=Math.sqrt(o.dot(p,h));return h=o.divideByScalar(h,l,h),p=o.multiplyByScalar(p,i,p),t(s)||(s=new o),o.add(h,p,s)},o.fromDegreesArray=function(e,r,n){var i=e.length;t(n)?n.length=i/2:n=new Array(i/2);for(var a=0;a<i;a+=2){var s=e[a],u=e[a+1],c=a/2;n[c]=o.fromDegrees(s,u,0,r,n[c])}return n},o.fromRadiansArray=function(e,r,n){var i=e.length;t(n)?n.length=i/2:n=new Array(i/2);for(var a=0;a<i;a+=2){var s=e[a],u=e[a+1],c=a/2;n[c]=o.fromRadians(s,u,0,r,n[c])}return n},o.fromDegreesArrayHeights=function(e,r,n){var i=e.length;t(n)?n.length=i/3:n=new Array(i/3);for(var a=0;a<i;a+=3){var s=e[a],u=e[a+1],c=e[a+2],l=a/3;n[l]=o.fromDegrees(s,u,c,r,n[l])}return n},o.fromRadiansArrayHeights=function(e,r,n){var i=e.length;t(n)?n.length=i/3:n=new Array(i/3);for(var a=0;a<i;a+=3){var s=e[a],u=e[a+1],c=e[a+2],l=a/3;n[l]=o.fromRadians(s,u,c,r,n[l])}return n},o.ZERO=n(new o(0,0,0)),o.UNIT_X=n(new o(1,0,0)),o.UNIT_Y=n(new o(0,1,0)),o.UNIT_Z=n(new o(0,0,1)),o.prototype.clone=function(e){return o.clone(this,e)},o.prototype.equals=function(e){return o.equals(this,e)},o.prototype.equalsEpsilon=function(e,t,r){return o.equalsEpsilon(this,e,t,r)},o.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},o}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(139),r(3),r(1),r(2)],i=function(e,t,r,n){"use strict";var i={};i.EPSILON1=.1,i.EPSILON2=.01,i.EPSILON3=.001,i.EPSILON4=1e-4,i.EPSILON5=1e-5,i.EPSILON6=1e-6,i.EPSILON7=1e-7,i.EPSILON8=1e-8,i.EPSILON9=1e-9,i.EPSILON10=1e-10,i.EPSILON11=1e-11,i.EPSILON12=1e-12,i.EPSILON13=1e-13,i.EPSILON14=1e-14,i.EPSILON15=1e-15,i.EPSILON16=1e-16,i.EPSILON17=1e-17,i.EPSILON18=1e-18,i.EPSILON19=1e-19,i.EPSILON20=1e-20,i.GRAVITATIONALPARAMETER=3986004418e5,i.SOLAR_RADIUS=6955e5,i.LUNAR_RADIUS=1737400,i.SIXTY_FOUR_KILOBYTES=65536,i.sign=function(e){return e>0?1:e<0?-1:0},i.signNotZero=function(e){return e<0?-1:1},i.toSNorm=function(e,r){return r=t(r,255),Math.round((.5*i.clamp(e,-1,1)+.5)*r)},i.fromSNorm=function(e,r){return r=t(r,255),i.clamp(e,0,r)/r*2-1},i.sinh=function(e){var t=Math.pow(Math.E,e),r=Math.pow(Math.E,-1*e);return.5*(t-r)},i.cosh=function(e){var t=Math.pow(Math.E,e),r=Math.pow(Math.E,-1*e);return.5*(t+r)},i.lerp=function(e,t,r){return(1-r)*e+r*t},i.PI=Math.PI,i.ONE_OVER_PI=1/Math.PI,i.PI_OVER_TWO=.5*Math.PI,i.PI_OVER_THREE=Math.PI/3,i.PI_OVER_FOUR=Math.PI/4,i.PI_OVER_SIX=Math.PI/6,i.THREE_PI_OVER_TWO=3*Math.PI*.5,i.TWO_PI=2*Math.PI,i.ONE_OVER_TWO_PI=1/(2*Math.PI),i.RADIANS_PER_DEGREE=Math.PI/180,i.DEGREES_PER_RADIAN=180/Math.PI,i.RADIANS_PER_ARCSECOND=i.RADIANS_PER_DEGREE/3600,i.toRadians=function(e){return e*i.RADIANS_PER_DEGREE},i.toDegrees=function(e){return e*i.DEGREES_PER_RADIAN},i.convertLongitudeRange=function(e){var t=i.TWO_PI,r=e-Math.floor(e/t)*t;return r<-Math.PI?r+t:r>=Math.PI?r-t:r},i.negativePiToPi=function(e){return i.zeroToTwoPi(e+i.PI)-i.PI},i.zeroToTwoPi=function(e){var t=i.mod(e,i.TWO_PI);return Math.abs(t)<i.EPSILON14&&Math.abs(e)>i.EPSILON14?i.TWO_PI:t},i.mod=function(e,t){return(e%t+t)%t},i.equalsEpsilon=function(e,r,n,i){i=t(i,n);var o=Math.abs(e-r);return o<=i||o<=n*Math.max(Math.abs(e),Math.abs(r))};var o=[1];i.factorial=function(e){var t=o.length;if(e>=t)for(var r=o[t-1],n=t;n<=e;n++)o.push(r*n);return o[e]},i.incrementWrap=function(e,r,n){return n=t(n,0),++e,e>r&&(e=n),e},i.isPowerOfTwo=function(e){return 0!==e&&0===(e&e-1)},i.nextPowerOfTwo=function(e){return--e,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e,e},i.clamp=function(e,t,r){return e<t?t:e>r?r:e};var a=new e;return i.setRandomNumberSeed=function(t){a=new e(t)},i.nextRandomNumber=function(){return a.random()},i.acosClamped=function(e){return Math.acos(i.clamp(e,-1,1))},i.asinClamped=function(e){return Math.asin(i.clamp(e,-1,1))},i.chordLength=function(e,t){return 2*t*Math.sin(.5*e)},i.logBase=function(e,t){return Math.log(e)/Math.log(t)},i.fog=function(e,t){var r=e*t;return 1-Math.exp(-(r*r))},i}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(4),r(16),r(3),r(1),r(17),r(2),r(8),r(5),r(108)],i=function(e,t,r,n,i,o,a,s,u){"use strict";function c(t,n,i,o){n=r(n,0),i=r(i,0),o=r(o,0),t._radii=new e(n,i,o),t._radiiSquared=new e(n*n,i*i,o*o),t._radiiToTheFourth=new e(n*n*n*n,i*i*i*i,o*o*o*o),t._oneOverRadii=new e(0===n?0:1/n,0===i?0:1/i,0===o?0:1/o),t._oneOverRadiiSquared=new e(0===n?0:1/(n*n),0===i?0:1/(i*i),0===o?0:1/(o*o)),t._minimumRadius=Math.min(n,i,o),t._maximumRadius=Math.max(n,i,o),t._centerToleranceSquared=s.EPSILON1}function l(e,t,r){this._radii=void 0,this._radiiSquared=void 0,this._radiiToTheFourth=void 0,this._oneOverRadii=void 0,this._oneOverRadiiSquared=void 0,this._minimumRadius=void 0,this._maximumRadius=void 0,this._centerToleranceSquared=void 0,c(this,e,t,r)}i(l.prototype,{radii:{get:function(){return this._radii}},radiiSquared:{get:function(){return this._radiiSquared}},radiiToTheFourth:{get:function(){return this._radiiToTheFourth}},oneOverRadii:{get:function(){return this._oneOverRadii}},oneOverRadiiSquared:{get:function(){return this._oneOverRadiiSquared}},minimumRadius:{get:function(){return this._minimumRadius}},maximumRadius:{get:function(){return this._maximumRadius}}}),l.clone=function(t,r){if(n(t)){var i=t._radii;return n(r)?(e.clone(i,r._radii),e.clone(t._radiiSquared,r._radiiSquared),e.clone(t._radiiToTheFourth,r._radiiToTheFourth),e.clone(t._oneOverRadii,r._oneOverRadii),e.clone(t._oneOverRadiiSquared,r._oneOverRadiiSquared),r._minimumRadius=t._minimumRadius,r._maximumRadius=t._maximumRadius,r._centerToleranceSquared=t._centerToleranceSquared,r):new l(i.x,i.y,i.z)}},l.fromCartesian3=function(e,t){return n(t)||(t=new l),n(e)?(c(t,e.x,e.y,e.z),t):t},l.WGS84=a(new l(6378137,6378137,6356752.314245179)),l.UNIT_SPHERE=a(new l(1,1,1)),l.MOON=a(new l(s.LUNAR_RADIUS,s.LUNAR_RADIUS,s.LUNAR_RADIUS)),l.prototype.clone=function(e){return l.clone(this,e)},l.packedLength=e.packedLength,l.pack=function(t,n,i){return i=r(i,0),e.pack(t._radii,n,i),n},l.unpack=function(t,n,i){n=r(n,0);var o=e.unpack(t,n);return l.fromCartesian3(o,i)},l.prototype.geocentricSurfaceNormal=e.normalize,l.prototype.geodeticSurfaceNormalCartographic=function(t,r){var i=t.longitude,o=t.latitude,a=Math.cos(o),s=a*Math.cos(i),u=a*Math.sin(i),c=Math.sin(o);return n(r)||(r=new e),r.x=s,r.y=u,r.z=c,e.normalize(r,r)},l.prototype.geodeticSurfaceNormal=function(t,r){return n(r)||(r=new e),r=e.multiplyComponents(t,this._oneOverRadiiSquared,r),e.normalize(r,r)};var p=new e,h=new e;l.prototype.cartographicToCartesian=function(t,r){var i=p,o=h;this.geodeticSurfaceNormalCartographic(t,i),e.multiplyComponents(this._radiiSquared,i,o);var a=Math.sqrt(e.dot(i,o));return e.divideByScalar(o,a,o),e.multiplyByScalar(i,t.height,i),n(r)||(r=new e),e.add(o,i,r)},l.prototype.cartographicArrayToCartesianArray=function(e,t){var r=e.length;n(t)?t.length=r:t=new Array(r);for(var i=0;i<r;i++)t[i]=this.cartographicToCartesian(e[i],t[i]);return t};var m=new e,d=new e,f=new e;return l.prototype.cartesianToCartographic=function(r,i){var o=this.scaleToGeodeticSurface(r,d);if(n(o)){var a=this.geodeticSurfaceNormal(o,m),u=e.subtract(r,o,f),c=Math.atan2(a.y,a.x),l=Math.asin(a.z),p=s.sign(e.dot(u,r))*e.magnitude(u);return n(i)?(i.longitude=c,i.latitude=l,i.height=p,i):new t(c,l,p)}},l.prototype.cartesianArrayToCartographicArray=function(e,t){var r=e.length;n(t)?t.length=r:t=new Array(r);for(var i=0;i<r;++i)t[i]=this.cartesianToCartographic(e[i],t[i]);return t},l.prototype.scaleToGeodeticSurface=function(e,t){return u(e,this._oneOverRadii,this._oneOverRadiiSquared,this._centerToleranceSquared,t)},l.prototype.scaleToGeocentricSurface=function(t,r){n(r)||(r=new e);var i=t.x,o=t.y,a=t.z,s=this._oneOverRadiiSquared,u=1/Math.sqrt(i*i*s.x+o*o*s.y+a*a*s.z);return e.multiplyByScalar(t,u,r)},l.prototype.transformPositionToScaledSpace=function(t,r){return n(r)||(r=new e),e.multiplyComponents(t,this._oneOverRadii,r)},l.prototype.transformPositionFromScaledSpace=function(t,r){return n(r)||(r=new e),e.multiplyComponents(t,this._radii,r)},l.prototype.equals=function(t){return this===t||n(t)&&e.equals(this._radii,t._radii)},l.prototype.toString=function(){return this._radii.toString()},l}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(4),r(16),r(3),r(1),r(2),r(6),r(30),r(34),r(97),r(18),r(20),r(35),r(19)],i=function(e,t,r,n,i,o,a,s,u,c,l,p,h){"use strict";function m(t,n){this.center=e.clone(r(t,e.ZERO)),this.radius=r(n,0)}var d=new e,f=new e,y=new e,v=new e,g=new e,_=new e,E=new e,A=new e,x=new e,T=new e,w=new e,S=new e;m.fromPoints=function(t,r){if(n(r)||(r=new m),!n(t)||0===t.length)return r.center=e.clone(e.ZERO,r.center),r.radius=0,r;for(var i=e.clone(t[0],E),o=e.clone(i,d),a=e.clone(i,f),s=e.clone(i,y),u=e.clone(i,v),c=e.clone(i,g),l=e.clone(i,_),p=t.length,h=1;h<p;h++){e.clone(t[h],i);var R=i.x,I=i.y,N=i.z;R<o.x&&e.clone(i,o),R>u.x&&e.clone(i,u),I<a.y&&e.clone(i,a),I>c.y&&e.clone(i,c),N<s.z&&e.clone(i,s),N>l.z&&e.clone(i,l)}var O=e.magnitudeSquared(e.subtract(u,o,A)),b=e.magnitudeSquared(e.subtract(c,a,A)),M=e.magnitudeSquared(e.subtract(l,s,A)),P=o,C=u,L=O;b>L&&(L=b,P=a,C=c),M>L&&(L=M,P=s,C=l);var F=x;F.x=.5*(P.x+C.x),F.y=.5*(P.y+C.y),F.z=.5*(P.z+C.z);var D=e.magnitudeSquared(e.subtract(C,F,A)),U=Math.sqrt(D),B=T;B.x=o.x,B.y=a.y,B.z=s.z;var z=w;z.x=u.x,z.y=c.y,z.z=l.z;var G=e.multiplyByScalar(e.add(B,z,A),.5,S),k=0;for(h=0;h<p;h++){e.clone(t[h],i);var H=e.magnitude(e.subtract(i,G,A));H>k&&(k=H);var V=e.magnitudeSquared(e.subtract(i,F,A));if(V>D){var q=Math.sqrt(V);U=.5*(U+q),D=U*U;var W=q-U;F.x=(U*F.x+W*i.x)/q,F.y=(U*F.y+W*i.y)/q,F.z=(U*F.z+W*i.z)/q}}return U<k?(e.clone(F,r.center),r.radius=U):(e.clone(G,r.center),r.radius=k),r};var R=new a,I=new e,N=new e,O=new t,b=new t;m.fromRectangle2D=function(e,t,r){return m.fromRectangleWithHeights2D(e,t,0,0,r)},m.fromRectangleWithHeights2D=function(t,i,o,a,s){if(n(s)||(s=new m),!n(t))return s.center=e.clone(e.ZERO,s.center),s.radius=0,s;i=r(i,R),h.southwest(t,O),O.height=o,h.northeast(t,b),b.height=a;var u=i.project(O,I),c=i.project(b,N),l=c.x-u.x,p=c.y-u.y,d=c.z-u.z;s.radius=.5*Math.sqrt(l*l+p*p+d*d);var f=s.center;return f.x=u.x+.5*l,f.y=u.y+.5*p,f.z=u.z+.5*d,s};var M=[];m.fromRectangle3D=function(e,t,i,a){t=r(t,o.WGS84),i=r(i,0);var s;return n(e)&&(s=h.subsample(e,t,i,M)),m.fromPoints(s,a)},m.fromVertices=function(t,i,o,a){if(n(a)||(a=new m),!n(t)||0===t.length)return a.center=e.clone(e.ZERO,a.center),a.radius=0,a;i=r(i,e.ZERO),o=r(o,3);var s=E;s.x=t[0]+i.x,s.y=t[1]+i.y,s.z=t[2]+i.z;for(var u=e.clone(s,d),c=e.clone(s,f),l=e.clone(s,y),p=e.clone(s,v),h=e.clone(s,g),R=e.clone(s,_),I=t.length,N=0;N<I;N+=o){var O=t[N]+i.x,b=t[N+1]+i.y,M=t[N+2]+i.z;s.x=O,s.y=b,s.z=M,O<u.x&&e.clone(s,u),O>p.x&&e.clone(s,p),b<c.y&&e.clone(s,c),b>h.y&&e.clone(s,h),M<l.z&&e.clone(s,l),M>R.z&&e.clone(s,R)}var P=e.magnitudeSquared(e.subtract(p,u,A)),C=e.magnitudeSquared(e.subtract(h,c,A)),L=e.magnitudeSquared(e.subtract(R,l,A)),F=u,D=p,U=P;C>U&&(U=C,F=c,D=h),L>U&&(U=L,F=l,D=R);var B=x;B.x=.5*(F.x+D.x),B.y=.5*(F.y+D.y),B.z=.5*(F.z+D.z);var z=e.magnitudeSquared(e.subtract(D,B,A)),G=Math.sqrt(z),k=T;k.x=u.x,k.y=c.y,k.z=l.z;var H=w;H.x=p.x,H.y=h.y,H.z=R.z;var V=e.multiplyByScalar(e.add(k,H,A),.5,S),q=0;for(N=0;N<I;N+=o){s.x=t[N]+i.x,s.y=t[N+1]+i.y,s.z=t[N+2]+i.z;var W=e.magnitude(e.subtract(s,V,A));W>q&&(q=W);var Y=e.magnitudeSquared(e.subtract(s,B,A));if(Y>z){var j=Math.sqrt(Y);G=.5*(G+j),z=G*G;var X=j-G;B.x=(G*B.x+X*s.x)/j,B.y=(G*B.y+X*s.y)/j,B.z=(G*B.z+X*s.z)/j}}return G<q?(e.clone(B,a.center),a.radius=G):(e.clone(V,a.center),a.radius=q),a},m.fromEncodedCartesianVertices=function(t,r,i){if(n(i)||(i=new m),!n(t)||!n(r)||t.length!==r.length||0===t.length)return i.center=e.clone(e.ZERO,i.center),i.radius=0,i;var o=E;o.x=t[0]+r[0],o.y=t[1]+r[1],o.z=t[2]+r[2];for(var a=e.clone(o,d),s=e.clone(o,f),u=e.clone(o,y),c=e.clone(o,v),l=e.clone(o,g),p=e.clone(o,_),h=t.length,R=0;R<h;R+=3){var I=t[R]+r[R],N=t[R+1]+r[R+1],O=t[R+2]+r[R+2];o.x=I,o.y=N,o.z=O,I<a.x&&e.clone(o,a),I>c.x&&e.clone(o,c),N<s.y&&e.clone(o,s),N>l.y&&e.clone(o,l),O<u.z&&e.clone(o,u),O>p.z&&e.clone(o,p)}var b=e.magnitudeSquared(e.subtract(c,a,A)),M=e.magnitudeSquared(e.subtract(l,s,A)),P=e.magnitudeSquared(e.subtract(p,u,A)),C=a,L=c,F=b;M>F&&(F=M,C=s,L=l),P>F&&(F=P,C=u,L=p);var D=x;D.x=.5*(C.x+L.x),D.y=.5*(C.y+L.y),D.z=.5*(C.z+L.z);var U=e.magnitudeSquared(e.subtract(L,D,A)),B=Math.sqrt(U),z=T;z.x=a.x,z.y=s.y,z.z=u.z;var G=w;G.x=c.x,G.y=l.y,G.z=p.z;var k=e.multiplyByScalar(e.add(z,G,A),.5,S),H=0;for(R=0;R<h;R+=3){o.x=t[R]+r[R],o.y=t[R+1]+r[R+1],o.z=t[R+2]+r[R+2];var V=e.magnitude(e.subtract(o,k,A));V>H&&(H=V);var q=e.magnitudeSquared(e.subtract(o,D,A));if(q>U){var W=Math.sqrt(q);B=.5*(B+W),U=B*B;var Y=W-B;D.x=(B*D.x+Y*o.x)/W,D.y=(B*D.y+Y*o.y)/W,D.z=(B*D.z+Y*o.z)/W}}return B<H?(e.clone(D,i.center),i.radius=B):(e.clone(k,i.center),i.radius=H),i},m.fromCornerPoints=function(t,r,i){n(i)||(i=new m);var o=i.center;return e.add(t,r,o),e.multiplyByScalar(o,.5,o),i.radius=e.distance(o,r),i},m.fromEllipsoid=function(t,r){return n(r)||(r=new m),e.clone(e.ZERO,r.center),r.radius=t.maximumRadius,r};var P=new e;m.fromBoundingSpheres=function(t,r){if(n(r)||(r=new m),!n(t)||0===t.length)return r.center=e.clone(e.ZERO,r.center),r.radius=0,r;var i=t.length;if(1===i)return m.clone(t[0],r);if(2===i)return m.union(t[0],t[1],r);for(var o=[],a=0;a<i;a++)o.push(t[a].center);r=m.fromPoints(o,r);var s=r.center,u=r.radius;for(a=0;a<i;a++){var c=t[a];u=Math.max(u,e.distance(s,c.center,P)+c.radius)}return r.radius=u,r};var C=new e,L=new e,F=new e;m.fromOrientedBoundingBox=function(t,r){n(r)||(r=new m);var i=t.halfAxes,o=c.getColumn(i,0,C),a=c.getColumn(i,1,L),s=c.getColumn(i,2,F),u=e.magnitude(o),l=e.magnitude(a),p=e.magnitude(s);return r.center=e.clone(t.center,r.center),r.radius=Math.max(u,l,p),r},m.clone=function(t,r){if(n(t))return n(r)?(r.center=e.clone(t.center,r.center),r.radius=t.radius,r):new m(t.center,t.radius)},m.packedLength=4,m.pack=function(e,t,n){n=r(n,0);var i=e.center;return t[n++]=i.x,t[n++]=i.y,t[n++]=i.z,t[n]=e.radius,t},m.unpack=function(e,t,i){t=r(t,0),n(i)||(i=new m);var o=i.center;return o.x=e[t++],o.y=e[t++],o.z=e[t++],i.radius=e[t],i};var D=new e,U=new e;m.union=function(t,r,i){n(i)||(i=new m);var o=t.center,a=t.radius,s=r.center,u=r.radius,c=e.subtract(s,o,D),l=e.magnitude(c);if(a>=l+u)return t.clone(i),i;if(u>=l+a)return r.clone(i),i;var p=.5*(a+l+u),h=e.multiplyByScalar(c,(-a+p)/l,U);return e.add(h,o,h),e.clone(h,i.center),i.radius=p,i};var B=new e;m.expand=function(t,r,n){n=m.clone(t,n);var i=e.magnitude(e.subtract(r,n.center,B));return i>n.radius&&(n.radius=i),n},m.intersectPlane=function(t,r){var n=t.center,i=t.radius,o=r.normal,a=e.dot(o,n)+r.distance;return a<-i?s.OUTSIDE:a<i?s.INTERSECTING:s.INSIDE},m.transform=function(e,t,r){return n(r)||(r=new m),r.center=l.multiplyByPoint(t,e.center,r.center),r.radius=l.getMaximumScale(t)*e.radius,r};var z=new e;m.distanceSquaredTo=function(t,r){var n=e.subtract(t.center,r,z);return e.magnitudeSquared(n)-t.radius*t.radius},m.transformWithoutScale=function(e,t,r){return n(r)||(r=new m),r.center=l.multiplyByPoint(t,e.center,r.center),r.radius=e.radius,r};var G=new e;m.computePlaneDistances=function(t,r,i,o){n(o)||(o=new u);var a=e.subtract(t.center,r,G),s=e.dot(i,a);return o.start=s-t.radius,o.stop=s+t.radius,o};for(var k=new e,H=new e,V=new e,q=new e,W=new e,Y=new t,j=new Array(8),X=0;X<8;++X)j[X]=new e;var Z=new a;return m.projectTo2D=function(t,n,i){n=r(n,Z);var o=n.ellipsoid,a=t.center,s=t.radius,u=o.geodeticSurfaceNormal(a,k),c=e.cross(e.UNIT_Z,u,H);e.normalize(c,c);var l=e.cross(u,c,V);e.normalize(l,l),e.multiplyByScalar(u,s,u),e.multiplyByScalar(l,s,l),e.multiplyByScalar(c,s,c);var p=e.negate(l,W),h=e.negate(c,q),d=j,f=d[0];e.add(u,l,f),e.add(f,c,f),f=d[1],e.add(u,l,f),e.add(f,h,f),f=d[2],e.add(u,p,f),e.add(f,h,f),f=d[3],e.add(u,p,f),e.add(f,c,f),e.negate(u,u),f=d[4],e.add(u,l,f),e.add(f,c,f),f=d[5],e.add(u,l,f),e.add(f,h,f),f=d[6],e.add(u,p,f),e.add(f,h,f),f=d[7],e.add(u,p,f),e.add(f,c,f);for(var y=d.length,v=0;v<y;++v){var g=d[v];e.add(a,g,g);var _=o.cartesianToCartographic(g,Y);n.project(_,g)}i=m.fromPoints(d,i),a=i.center;var E=a.x,A=a.y,x=a.z;return a.x=x,a.y=E,a.z=A,i},m.isOccluded=function(e,t){return!t.isBoundingSphereVisible(e)},m.equals=function(t,r){return t===r||n(t)&&n(r)&&e.equals(t.center,r.center)&&t.radius===r.radius},m.prototype.intersectPlane=function(e){return m.intersectPlane(this,e)},m.prototype.distanceSquaredTo=function(e){return m.distanceSquaredTo(this,e)},m.prototype.computePlaneDistances=function(e,t,r){return m.computePlaneDistances(this,e,t,r)},m.prototype.isOccluded=function(e){return m.isOccluded(this,e)},m.prototype.equals=function(e){return m.equals(this,e)},m.prototype.clone=function(e){return m.clone(this,e)},m}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(1)],i=function(e){"use strict";var t=Object.freeze;return e(t)||(t=function(e){return e}),t}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(40),r(3),r(1),r(2),r(39),r(8)],i=function(e,t,r,n,i,o){"use strict";if(!i.supportsTypedArrays())return{};var a={BYTE:e.BYTE,UNSIGNED_BYTE:e.UNSIGNED_BYTE,SHORT:e.SHORT,UNSIGNED_SHORT:e.UNSIGNED_SHORT,INT:e.INT,UNSIGNED_INT:e.UNSIGNED_INT,FLOAT:e.FLOAT,DOUBLE:e.DOUBLE};return a.getSizeInBytes=function(e){switch(e){case a.BYTE:return Int8Array.BYTES_PER_ELEMENT;case a.UNSIGNED_BYTE:return Uint8Array.BYTES_PER_ELEMENT;case a.SHORT:return Int16Array.BYTES_PER_ELEMENT;case a.UNSIGNED_SHORT:return Uint16Array.BYTES_PER_ELEMENT;case a.INT:return Int32Array.BYTES_PER_ELEMENT;case a.UNSIGNED_INT:return Uint32Array.BYTES_PER_ELEMENT;case a.FLOAT:return Float32Array.BYTES_PER_ELEMENT;case a.DOUBLE:return Float64Array.BYTES_PER_ELEMENT;default:throw new n("componentDatatype is not a valid value.")}},a.fromTypedArray=function(e){return e instanceof Int8Array?a.BYTE:e instanceof Uint8Array?a.UNSIGNED_BYTE:e instanceof Int16Array?a.SHORT:e instanceof Uint16Array?a.UNSIGNED_SHORT:e instanceof Int32Array?a.INT:e instanceof Uint32Array?a.UNSIGNED_INT:e instanceof Float32Array?a.FLOAT:e instanceof Float64Array?a.DOUBLE:void 0},a.validate=function(e){return r(e)&&(e===a.BYTE||e===a.UNSIGNED_BYTE||e===a.SHORT||e===a.UNSIGNED_SHORT||e===a.INT||e===a.UNSIGNED_INT||e===a.FLOAT||e===a.DOUBLE)},a.createTypedArray=function(e,t){switch(e){case a.BYTE:return new Int8Array(t);case a.UNSIGNED_BYTE:return new Uint8Array(t);case a.SHORT:return new Int16Array(t);case a.UNSIGNED_SHORT:return new Uint16Array(t);case a.INT:return new Int32Array(t);case a.UNSIGNED_INT:return new Uint32Array(t);case a.FLOAT:return new Float32Array(t);case a.DOUBLE:return new Float64Array(t);default:throw new n("componentDatatype is not a valid value.")}},a.createArrayBufferView=function(e,r,i,o){switch(i=t(i,0),o=t(o,(r.byteLength-i)/a.getSizeInBytes(e)),e){case a.BYTE:return new Int8Array(r,i,o);case a.UNSIGNED_BYTE:return new Uint8Array(r,i,o);case a.SHORT:return new Int16Array(r,i,o);case a.UNSIGNED_SHORT:return new Uint16Array(r,i,o);case a.INT:return new Int32Array(r,i,o);case a.UNSIGNED_INT:return new Uint32Array(r,i,o);case a.FLOAT:return new Float32Array(r,i,o);case a.DOUBLE:return new Float64Array(r,i,o);default:throw new n("componentDatatype is not a valid value.")}},a.fromName=function(e){switch(e){case"BYTE":return a.BYTE;case"UNSIGNED_BYTE":return a.UNSIGNED_BYTE;case"SHORT":return a.SHORT;case"UNSIGNED_SHORT":return a.UNSIGNED_SHORT;case"INT":return a.INT;case"UNSIGNED_INT":return a.UNSIGNED_INT;case"FLOAT":return a.FLOAT;case"DOUBLE":return a.DOUBLE;default:throw new n("name is not a valid value.")}},o(a)}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(3),r(1),r(2),r(45),r(12)],i=function(e,t,r,n,i){"use strict";function o(t){t=e(t,e.EMPTY_OBJECT),this.attributes=t.attributes,this.indices=t.indices,this.primitiveType=e(t.primitiveType,i.TRIANGLES),this.boundingSphere=t.boundingSphere,this.geometryType=e(t.geometryType,n.NONE),this.boundingSphereCV=void 0}return o.computeNumberOfVertices=function(e){var n=-1;for(var i in e.attributes)if(e.attributes.hasOwnProperty(i)&&t(e.attributes[i])&&t(e.attributes[i].values)){var o=e.attributes[i],a=o.values.length/o.componentsPerAttribute;if(n!==a&&n!==-1)throw new r("All attribute lists must have the same number of attributes.");n=a}return n},o}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(3),r(1),r(2)],i=function(e,t,r){"use strict";function n(t){t=e(t,e.EMPTY_OBJECT),this.componentDatatype=t.componentDatatype,this.componentsPerAttribute=t.componentsPerAttribute,this.normalize=e(t.normalize,!1),this.values=t.values}return n}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(40),r(8)],i=function(e,t){"use strict";var r={POINTS:e.POINTS,LINES:e.LINES,LINE_LOOP:e.LINE_LOOP,LINE_STRIP:e.LINE_STRIP,TRIANGLES:e.TRIANGLES,TRIANGLE_STRIP:e.TRIANGLE_STRIP,TRIANGLE_FAN:e.TRIANGLE_FAN,validate:function(e){return e===r.POINTS||e===r.LINES||e===r.LINE_LOOP||e===r.LINE_STRIP||e===r.TRIANGLES||e===r.TRIANGLE_STRIP||e===r.TRIANGLE_FAN}};return t(r)}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(3),r(1),r(2),r(8),r(5)],i=function(e,t,r,n,i){"use strict";function o(t,r){this.x=e(t,0),this.y=e(r,0)}o.fromElements=function(e,r,n){return t(n)?(n.x=e,n.y=r,n):new o(e,r)},o.clone=function(e,r){if(t(e))return t(r)?(r.x=e.x,r.y=e.y,r):new o(e.x,e.y)},o.fromCartesian3=o.clone,o.fromCartesian4=o.clone,o.packedLength=2,o.pack=function(t,r,n){return n=e(n,0),r[n++]=t.x,r[n]=t.y,r},o.unpack=function(r,n,i){return n=e(n,0),t(i)||(i=new o),i.x=r[n++],i.y=r[n],i},o.packArray=function(e,r){var n=e.length;t(r)?r.length=2*n:r=new Array(2*n);for(var i=0;i<n;++i)o.pack(e[i],r,2*i);return r},o.unpackArray=function(e,r){var n=e.length;t(r)?r.length=n/2:r=new Array(n/2);for(var i=0;i<n;i+=2){var a=i/2;r[a]=o.unpack(e,i,r[a])}return r},o.fromArray=o.unpack,o.maximumComponent=function(e){return Math.max(e.x,e.y)},o.minimumComponent=function(e){return Math.min(e.x,e.y)},o.minimumByComponent=function(e,t,r){return r.x=Math.min(e.x,t.x),r.y=Math.min(e.y,t.y),r},o.maximumByComponent=function(e,t,r){return r.x=Math.max(e.x,t.x),r.y=Math.max(e.y,t.y),r},o.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y},o.magnitude=function(e){return Math.sqrt(o.magnitudeSquared(e))};var a=new o;o.distance=function(e,t){return o.subtract(e,t,a),o.magnitude(a)},o.distanceSquared=function(e,t){return o.subtract(e,t,a),o.magnitudeSquared(a)},o.normalize=function(e,t){var r=o.magnitude(e);return t.x=e.x/r,t.y=e.y/r,t},o.dot=function(e,t){return e.x*t.x+e.y*t.y},o.multiplyComponents=function(e,t,r){return r.x=e.x*t.x,r.y=e.y*t.y,r},o.add=function(e,t,r){return r.x=e.x+t.x,r.y=e.y+t.y,r},o.subtract=function(e,t,r){return r.x=e.x-t.x,r.y=e.y-t.y,r},o.multiplyByScalar=function(e,t,r){return r.x=e.x*t,r.y=e.y*t,r},o.divideByScalar=function(e,t,r){return r.x=e.x/t,r.y=e.y/t,r},o.negate=function(e,t){return t.x=-e.x,t.y=-e.y,t},o.abs=function(e,t){return t.x=Math.abs(e.x),t.y=Math.abs(e.y),t};var s=new o;o.lerp=function(e,t,r,n){return o.multiplyByScalar(t,r,s),n=o.multiplyByScalar(e,1-r,n),o.add(s,n,n)};var u=new o,c=new o;o.angleBetween=function(e,t){return o.normalize(e,u),o.normalize(t,c),i.acosClamped(o.dot(u,c))};var l=new o;return o.mostOrthogonalAxis=function(e,t){var r=o.normalize(e,l);return o.abs(r,r),t=r.x<=r.y?o.clone(o.UNIT_X,t):o.clone(o.UNIT_Y,t)},o.equals=function(e,r){return e===r||t(e)&&t(r)&&e.x===r.x&&e.y===r.y},o.equalsArray=function(e,t,r){return e.x===t[r]&&e.y===t[r+1]},o.equalsEpsilon=function(e,r,n,o){return e===r||t(e)&&t(r)&&i.equalsEpsilon(e.x,r.x,n,o)&&i.equalsEpsilon(e.y,r.y,n,o)},o.ZERO=n(new o(0,0)),o.UNIT_X=n(new o(1,0)),o.UNIT_Y=n(new o(0,1)),o.prototype.clone=function(e){return o.clone(this,e)},o.prototype.equals=function(e){return o.equals(this,e)},o.prototype.equalsEpsilon=function(e,t,r){return o.equalsEpsilon(this,e,t,r)},o.prototype.toString=function(){return"("+this.x+", "+this.y+")"},o}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(3)],i=function(e){"use strict";function t(t){t=e(t,e.EMPTY_OBJECT),this.position=t.position,this.normal=t.normal,this.st=t.st,this.binormal=t.binormal,this.tangent=t.tangent,this.color=t.color}return t}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(40),r(1),r(2),r(8),r(5)],i=function(e,t,r,n,i){"use strict";var o={UNSIGNED_BYTE:e.UNSIGNED_BYTE,UNSIGNED_SHORT:e.UNSIGNED_SHORT,UNSIGNED_INT:e.UNSIGNED_INT};return o.getSizeInBytes=function(e){switch(e){case o.UNSIGNED_BYTE:return Uint8Array.BYTES_PER_ELEMENT;case o.UNSIGNED_SHORT:return Uint16Array.BYTES_PER_ELEMENT;case o.UNSIGNED_INT:return Uint32Array.BYTES_PER_ELEMENT}},o.validate=function(e){return t(e)&&(e===o.UNSIGNED_BYTE||e===o.UNSIGNED_SHORT||e===o.UNSIGNED_INT)},o.createTypedArray=function(e,t){return e>=i.SIXTY_FOUR_KILOBYTES?new Uint32Array(t):new Uint16Array(t)},o.createTypedArrayFromArrayBuffer=function(e,t,r,n){return e>=i.SIXTY_FOUR_KILOBYTES?new Uint32Array(t,r,n):new Uint16Array(t,r,n)},n(o)}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(4),r(3),r(1),r(2),r(8),r(5),r(108)],i=function(e,t,r,n,i,o,a){"use strict";function s(e,r,n){this.longitude=t(e,0),this.latitude=t(r,0),this.height=t(n,0)}s.fromRadians=function(e,n,i,o){return i=t(i,0),r(o)?(o.longitude=e,o.latitude=n,o.height=i,o):new s(e,n,i)},s.fromDegrees=function(e,t,r,n){return e=o.toRadians(e),t=o.toRadians(t),s.fromRadians(e,t,r,n)};var u=new e,c=new e,l=new e,p=new e(1/6378137,1/6378137,1/6356752.314245179),h=new e(1/40680631590769,1/40680631590769,1/40408299984661.445),m=o.EPSILON1;return s.fromCartesian=function(t,n,i){var d=r(n)?n.oneOverRadii:p,f=r(n)?n.oneOverRadiiSquared:h,y=r(n)?n._centerToleranceSquared:m,v=a(t,d,f,y,c);if(r(v)){var g=e.multiplyComponents(t,f,u);g=e.normalize(g,g);var _=e.subtract(t,v,l),E=Math.atan2(g.y,g.x),A=Math.asin(g.z),x=o.sign(e.dot(_,t))*e.magnitude(_);return r(i)?(i.longitude=E,i.latitude=A,i.height=x,i):new s(E,A,x)}},s.clone=function(e,t){if(r(e))return r(t)?(t.longitude=e.longitude,t.latitude=e.latitude,t.height=e.height,t):new s(e.longitude,e.latitude,e.height)},s.equals=function(e,t){return e===t||r(e)&&r(t)&&e.longitude===t.longitude&&e.latitude===t.latitude&&e.height===t.height},s.equalsEpsilon=function(e,t,n){return e===t||r(e)&&r(t)&&Math.abs(e.longitude-t.longitude)<=n&&Math.abs(e.latitude-t.latitude)<=n&&Math.abs(e.height-t.height)<=n},s.ZERO=i(new s(0,0,0)),s.prototype.clone=function(e){return s.clone(this,e)},s.prototype.equals=function(e){return s.equals(this,e)},s.prototype.equalsEpsilon=function(e,t){return s.equalsEpsilon(this,e,t)},s.prototype.toString=function(){return"("+this.longitude+", "+this.latitude+", "+this.height+")"},s}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(1)],i=function(e){"use strict";var t=function(){try{return"x"in Object.defineProperty({},"x",{})}catch(e){return!1}}(),r=Object.defineProperties;return t&&e(r)||(r=function(e){return e}),r}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(4),r(3),r(1),r(17),r(2),r(8),r(5)],i=function(e,t,r,n,i,o,a){"use strict";function s(e,r,n,i,o,a,s,u,c){this[0]=t(e,0),this[1]=t(i,0),this[2]=t(s,0),this[3]=t(r,0),
this[4]=t(o,0),this[5]=t(u,0),this[6]=t(n,0),this[7]=t(a,0),this[8]=t(c,0)}function u(e){for(var t=0,r=0;r<9;++r){var n=e[r];t+=n*n}return Math.sqrt(t)}function c(e){for(var t=0,r=0;r<3;++r){var n=e[s.getElementIndex(d[r],m[r])];t+=2*n*n}return Math.sqrt(t)}function l(e,t){for(var r=a.EPSILON15,n=0,i=1,o=0;o<3;++o){var u=Math.abs(e[s.getElementIndex(d[o],m[o])]);u>n&&(i=o,n=u)}var c=1,l=0,p=m[i],h=d[i];if(Math.abs(e[s.getElementIndex(h,p)])>r){var f,y=e[s.getElementIndex(h,h)],v=e[s.getElementIndex(p,p)],g=e[s.getElementIndex(h,p)],_=(y-v)/2/g;f=_<0?-1/(-_+Math.sqrt(1+_*_)):1/(_+Math.sqrt(1+_*_)),c=1/Math.sqrt(1+f*f),l=f*c}return t=s.clone(s.IDENTITY,t),t[s.getElementIndex(p,p)]=t[s.getElementIndex(h,h)]=c,t[s.getElementIndex(h,p)]=l,t[s.getElementIndex(p,h)]=-l,t}s.packedLength=9,s.pack=function(e,r,n){return n=t(n,0),r[n++]=e[0],r[n++]=e[1],r[n++]=e[2],r[n++]=e[3],r[n++]=e[4],r[n++]=e[5],r[n++]=e[6],r[n++]=e[7],r[n++]=e[8],r},s.unpack=function(e,n,i){return n=t(n,0),r(i)||(i=new s),i[0]=e[n++],i[1]=e[n++],i[2]=e[n++],i[3]=e[n++],i[4]=e[n++],i[5]=e[n++],i[6]=e[n++],i[7]=e[n++],i[8]=e[n++],i},s.clone=function(e,t){if(r(e))return r(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t):new s(e[0],e[3],e[6],e[1],e[4],e[7],e[2],e[5],e[8])},s.fromArray=function(e,n,i){return n=t(n,0),r(i)||(i=new s),i[0]=e[n],i[1]=e[n+1],i[2]=e[n+2],i[3]=e[n+3],i[4]=e[n+4],i[5]=e[n+5],i[6]=e[n+6],i[7]=e[n+7],i[8]=e[n+8],i},s.fromColumnMajorArray=function(e,t){return s.clone(e,t)},s.fromRowMajorArray=function(e,t){return r(t)?(t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],t):new s(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])},s.fromQuaternion=function(e,t){var n=e.x*e.x,i=e.x*e.y,o=e.x*e.z,a=e.x*e.w,u=e.y*e.y,c=e.y*e.z,l=e.y*e.w,p=e.z*e.z,h=e.z*e.w,m=e.w*e.w,d=n-u-p+m,f=2*(i-h),y=2*(o+l),v=2*(i+h),g=-n+u-p+m,_=2*(c-a),E=2*(o-l),A=2*(c+a),x=-n-u+p+m;return r(t)?(t[0]=d,t[1]=v,t[2]=E,t[3]=f,t[4]=g,t[5]=A,t[6]=y,t[7]=_,t[8]=x,t):new s(d,f,y,v,g,_,E,A,x)},s.fromScale=function(e,t){return r(t)?(t[0]=e.x,t[1]=0,t[2]=0,t[3]=0,t[4]=e.y,t[5]=0,t[6]=0,t[7]=0,t[8]=e.z,t):new s(e.x,0,0,0,e.y,0,0,0,e.z)},s.fromUniformScale=function(e,t){return r(t)?(t[0]=e,t[1]=0,t[2]=0,t[3]=0,t[4]=e,t[5]=0,t[6]=0,t[7]=0,t[8]=e,t):new s(e,0,0,0,e,0,0,0,e)},s.fromCrossProduct=function(e,t){return r(t)?(t[0]=0,t[1]=e.z,t[2]=-e.y,t[3]=-e.z,t[4]=0,t[5]=e.x,t[6]=e.y,t[7]=-e.x,t[8]=0,t):new s(0,-e.z,e.y,e.z,0,-e.x,-e.y,e.x,0)},s.fromRotationX=function(e,t){var n=Math.cos(e),i=Math.sin(e);return r(t)?(t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=n,t[5]=i,t[6]=0,t[7]=-i,t[8]=n,t):new s(1,0,0,0,n,-i,0,i,n)},s.fromRotationY=function(e,t){var n=Math.cos(e),i=Math.sin(e);return r(t)?(t[0]=n,t[1]=0,t[2]=-i,t[3]=0,t[4]=1,t[5]=0,t[6]=i,t[7]=0,t[8]=n,t):new s(n,0,i,0,1,0,-i,0,n)},s.fromRotationZ=function(e,t){var n=Math.cos(e),i=Math.sin(e);return r(t)?(t[0]=n,t[1]=i,t[2]=0,t[3]=-i,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t):new s(n,-i,0,i,n,0,0,0,1)},s.toArray=function(e,t){return r(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t):[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]]},s.getElementIndex=function(e,t){return 3*e+t},s.getColumn=function(e,t,r){var n=3*t,i=e[n],o=e[n+1],a=e[n+2];return r.x=i,r.y=o,r.z=a,r},s.setColumn=function(e,t,r,n){n=s.clone(e,n);var i=3*t;return n[i]=r.x,n[i+1]=r.y,n[i+2]=r.z,n},s.getRow=function(e,t,r){var n=e[t],i=e[t+3],o=e[t+6];return r.x=n,r.y=i,r.z=o,r},s.setRow=function(e,t,r,n){return n=s.clone(e,n),n[t]=r.x,n[t+3]=r.y,n[t+6]=r.z,n};var p=new e;s.getScale=function(t,r){return r.x=e.magnitude(e.fromElements(t[0],t[1],t[2],p)),r.y=e.magnitude(e.fromElements(t[3],t[4],t[5],p)),r.z=e.magnitude(e.fromElements(t[6],t[7],t[8],p)),r};var h=new e;s.getMaximumScale=function(t){return s.getScale(t,h),e.maximumComponent(h)},s.multiply=function(e,t,r){var n=e[0]*t[0]+e[3]*t[1]+e[6]*t[2],i=e[1]*t[0]+e[4]*t[1]+e[7]*t[2],o=e[2]*t[0]+e[5]*t[1]+e[8]*t[2],a=e[0]*t[3]+e[3]*t[4]+e[6]*t[5],s=e[1]*t[3]+e[4]*t[4]+e[7]*t[5],u=e[2]*t[3]+e[5]*t[4]+e[8]*t[5],c=e[0]*t[6]+e[3]*t[7]+e[6]*t[8],l=e[1]*t[6]+e[4]*t[7]+e[7]*t[8],p=e[2]*t[6]+e[5]*t[7]+e[8]*t[8];return r[0]=n,r[1]=i,r[2]=o,r[3]=a,r[4]=s,r[5]=u,r[6]=c,r[7]=l,r[8]=p,r},s.add=function(e,t,r){return r[0]=e[0]+t[0],r[1]=e[1]+t[1],r[2]=e[2]+t[2],r[3]=e[3]+t[3],r[4]=e[4]+t[4],r[5]=e[5]+t[5],r[6]=e[6]+t[6],r[7]=e[7]+t[7],r[8]=e[8]+t[8],r},s.subtract=function(e,t,r){return r[0]=e[0]-t[0],r[1]=e[1]-t[1],r[2]=e[2]-t[2],r[3]=e[3]-t[3],r[4]=e[4]-t[4],r[5]=e[5]-t[5],r[6]=e[6]-t[6],r[7]=e[7]-t[7],r[8]=e[8]-t[8],r},s.multiplyByVector=function(e,t,r){var n=t.x,i=t.y,o=t.z,a=e[0]*n+e[3]*i+e[6]*o,s=e[1]*n+e[4]*i+e[7]*o,u=e[2]*n+e[5]*i+e[8]*o;return r.x=a,r.y=s,r.z=u,r},s.multiplyByScalar=function(e,t,r){return r[0]=e[0]*t,r[1]=e[1]*t,r[2]=e[2]*t,r[3]=e[3]*t,r[4]=e[4]*t,r[5]=e[5]*t,r[6]=e[6]*t,r[7]=e[7]*t,r[8]=e[8]*t,r},s.multiplyByScale=function(e,t,r){return r[0]=e[0]*t.x,r[1]=e[1]*t.x,r[2]=e[2]*t.x,r[3]=e[3]*t.y,r[4]=e[4]*t.y,r[5]=e[5]*t.y,r[6]=e[6]*t.z,r[7]=e[7]*t.z,r[8]=e[8]*t.z,r},s.negate=function(e,t){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t[4]=-e[4],t[5]=-e[5],t[6]=-e[6],t[7]=-e[7],t[8]=-e[8],t},s.transpose=function(e,t){var r=e[0],n=e[3],i=e[6],o=e[1],a=e[4],s=e[7],u=e[2],c=e[5],l=e[8];return t[0]=r,t[1]=n,t[2]=i,t[3]=o,t[4]=a,t[5]=s,t[6]=u,t[7]=c,t[8]=l,t};var m=[1,0,0],d=[2,2,1],f=new s,y=new s;return s.computeEigenDecomposition=function(e,t){var n=a.EPSILON20,i=10,o=0,p=0;r(t)||(t={});for(var h=t.unitary=s.clone(s.IDENTITY,t.unitary),m=t.diagonal=s.clone(e,t.diagonal),d=n*u(m);p<i&&c(m)>d;)l(m,f),s.transpose(f,y),s.multiply(m,f,m),s.multiply(y,m,m),s.multiply(h,f,h),++o>2&&(++p,o=0);return t},s.abs=function(e,t){return t[0]=Math.abs(e[0]),t[1]=Math.abs(e[1]),t[2]=Math.abs(e[2]),t[3]=Math.abs(e[3]),t[4]=Math.abs(e[4]),t[5]=Math.abs(e[5]),t[6]=Math.abs(e[6]),t[7]=Math.abs(e[7]),t[8]=Math.abs(e[8]),t},s.determinant=function(e){var t=e[0],r=e[3],n=e[6],i=e[1],o=e[4],a=e[7],s=e[2],u=e[5],c=e[8];return t*(o*c-u*a)+i*(u*n-r*c)+s*(r*a-o*n)},s.inverse=function(e,t){var r=e[0],n=e[1],o=e[2],u=e[3],c=e[4],l=e[5],p=e[6],h=e[7],m=e[8],d=s.determinant(e);if(Math.abs(d)<=a.EPSILON15)throw new i("matrix is not invertible");t[0]=c*m-h*l,t[1]=h*o-n*m,t[2]=n*l-c*o,t[3]=p*l-u*m,t[4]=r*m-p*o,t[5]=u*o-r*l,t[6]=u*h-p*c,t[7]=p*n-r*h,t[8]=r*c-u*n;var f=1/d;return s.multiplyByScalar(t,f,t)},s.equals=function(e,t){return e===t||r(e)&&r(t)&&e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]},s.equalsEpsilon=function(e,t,n){return e===t||r(e)&&r(t)&&Math.abs(e[0]-t[0])<=n&&Math.abs(e[1]-t[1])<=n&&Math.abs(e[2]-t[2])<=n&&Math.abs(e[3]-t[3])<=n&&Math.abs(e[4]-t[4])<=n&&Math.abs(e[5]-t[5])<=n&&Math.abs(e[6]-t[6])<=n&&Math.abs(e[7]-t[7])<=n&&Math.abs(e[8]-t[8])<=n},s.IDENTITY=o(new s(1,0,0,0,1,0,0,0,1)),s.ZERO=o(new s(0,0,0,0,0,0,0,0,0)),s.COLUMN0ROW0=0,s.COLUMN0ROW1=1,s.COLUMN0ROW2=2,s.COLUMN1ROW0=3,s.COLUMN1ROW1=4,s.COLUMN1ROW2=5,s.COLUMN2ROW0=6,s.COLUMN2ROW1=7,s.COLUMN2ROW2=8,n(s.prototype,{length:{get:function(){return s.packedLength}}}),s.prototype.clone=function(e){return s.clone(this,e)},s.prototype.equals=function(e){return s.equals(this,e)},s.equalsArray=function(e,t,r){return e[0]===t[r]&&e[1]===t[r+1]&&e[2]===t[r+2]&&e[3]===t[r+3]&&e[4]===t[r+4]&&e[5]===t[r+5]&&e[6]===t[r+6]&&e[7]===t[r+7]&&e[8]===t[r+8]},s.prototype.equalsEpsilon=function(e,t){return s.equalsEpsilon(this,e,t)},s.prototype.toString=function(){return"("+this[0]+", "+this[3]+", "+this[6]+")\n("+this[1]+", "+this[4]+", "+this[7]+")\n("+this[2]+", "+this[5]+", "+this[8]+")"},s}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(16),r(3),r(1),r(17),r(2),r(6),r(8),r(5)],i=function(e,t,r,n,i,o,a,s){"use strict";function u(e,r,n,i){this.west=t(e,0),this.south=t(r,0),this.east=t(n,0),this.north=t(i,0)}n(u.prototype,{width:{get:function(){return u.computeWidth(this)}},height:{get:function(){return u.computeHeight(this)}}}),u.packedLength=4,u.pack=function(e,r,n){return n=t(n,0),r[n++]=e.west,r[n++]=e.south,r[n++]=e.east,r[n]=e.north,r},u.unpack=function(e,n,i){return n=t(n,0),r(i)||(i=new u),i.west=e[n++],i.south=e[n++],i.east=e[n++],i.north=e[n],i},u.computeWidth=function(e){var t=e.east,r=e.west;return t<r&&(t+=s.TWO_PI),t-r},u.computeHeight=function(e){return e.north-e.south},u.fromDegrees=function(e,n,i,o,a){return e=s.toRadians(t(e,0)),n=s.toRadians(t(n,0)),i=s.toRadians(t(i,0)),o=s.toRadians(t(o,0)),r(a)?(a.west=e,a.south=n,a.east=i,a.north=o,a):new u(e,n,i,o)},u.fromCartographicArray=function(e,t){for(var n=Number.MAX_VALUE,i=-Number.MAX_VALUE,o=Number.MAX_VALUE,a=-Number.MAX_VALUE,c=Number.MAX_VALUE,l=-Number.MAX_VALUE,p=0,h=e.length;p<h;p++){var m=e[p];n=Math.min(n,m.longitude),i=Math.max(i,m.longitude),c=Math.min(c,m.latitude),l=Math.max(l,m.latitude);var d=m.longitude>=0?m.longitude:m.longitude+s.TWO_PI;o=Math.min(o,d),a=Math.max(a,d)}return i-n>a-o&&(n=o,i=a,i>s.PI&&(i-=s.TWO_PI),n>s.PI&&(n-=s.TWO_PI)),r(t)?(t.west=n,t.south=c,t.east=i,t.north=l,t):new u(n,c,i,l)},u.fromCartesianArray=function(e,t,n){for(var i=Number.MAX_VALUE,o=-Number.MAX_VALUE,a=Number.MAX_VALUE,c=-Number.MAX_VALUE,l=Number.MAX_VALUE,p=-Number.MAX_VALUE,h=0,m=e.length;h<m;h++){var d=t.cartesianToCartographic(e[h]);i=Math.min(i,d.longitude),o=Math.max(o,d.longitude),l=Math.min(l,d.latitude),p=Math.max(p,d.latitude);var f=d.longitude>=0?d.longitude:d.longitude+s.TWO_PI;a=Math.min(a,f),c=Math.max(c,f)}return o-i>c-a&&(i=a,o=c,o>s.PI&&(o-=s.TWO_PI),i>s.PI&&(i-=s.TWO_PI)),r(n)?(n.west=i,n.south=l,n.east=o,n.north=p,n):new u(i,l,o,p)},u.clone=function(e,t){if(r(e))return r(t)?(t.west=e.west,t.south=e.south,t.east=e.east,t.north=e.north,t):new u(e.west,e.south,e.east,e.north)},u.prototype.clone=function(e){return u.clone(this,e)},u.prototype.equals=function(e){return u.equals(this,e)},u.equals=function(e,t){return e===t||r(e)&&r(t)&&e.west===t.west&&e.south===t.south&&e.east===t.east&&e.north===t.north},u.prototype.equalsEpsilon=function(e,t){return r(e)&&Math.abs(this.west-e.west)<=t&&Math.abs(this.south-e.south)<=t&&Math.abs(this.east-e.east)<=t&&Math.abs(this.north-e.north)<=t},u.validate=function(e){},u.southwest=function(t,n){return r(n)?(n.longitude=t.west,n.latitude=t.south,n.height=0,n):new e(t.west,t.south)},u.northwest=function(t,n){return r(n)?(n.longitude=t.west,n.latitude=t.north,n.height=0,n):new e(t.west,t.north)},u.northeast=function(t,n){return r(n)?(n.longitude=t.east,n.latitude=t.north,n.height=0,n):new e(t.east,t.north)},u.southeast=function(t,n){return r(n)?(n.longitude=t.east,n.latitude=t.south,n.height=0,n):new e(t.east,t.south)},u.center=function(t,n){var i=t.east,o=t.west;i<o&&(i+=s.TWO_PI);var a=s.negativePiToPi(.5*(o+i)),u=.5*(t.south+t.north);return r(n)?(n.longitude=a,n.latitude=u,n.height=0,n):new e(a,u)},u.intersection=function(e,t,n){var i=e.east,o=e.west,a=t.east,c=t.west;i<o&&a>0?i+=s.TWO_PI:a<c&&i>0&&(a+=s.TWO_PI),i<o&&c<0?c+=s.TWO_PI:a<c&&o<0&&(o+=s.TWO_PI);var l=s.negativePiToPi(Math.max(o,c)),p=s.negativePiToPi(Math.min(i,a));if(!((e.west<e.east||t.west<t.east)&&p<=l)){var h=Math.max(e.south,t.south),m=Math.min(e.north,t.north);if(!(h>=m))return r(n)?(n.west=l,n.south=h,n.east=p,n.north=m,n):new u(l,h,p,m)}},u.union=function(e,t,n){return r(n)||(n=new u),n.west=Math.min(e.west,t.west),n.south=Math.min(e.south,t.south),n.east=Math.max(e.east,t.east),n.north=Math.max(e.north,t.north),n},u.expand=function(e,t,n){return r(n)||(n=new u),n.west=Math.min(e.west,t.longitude),n.south=Math.min(e.south,t.latitude),n.east=Math.max(e.east,t.longitude),n.north=Math.max(e.north,t.latitude),n},u.contains=function(e,t){var r=t.longitude,n=t.latitude,i=e.west,o=e.east;return o<i&&(o+=s.TWO_PI,r<0&&(r+=s.TWO_PI)),(r>i||s.equalsEpsilon(r,i,s.EPSILON14))&&(r<o||s.equalsEpsilon(r,o,s.EPSILON14))&&n>=e.south&&n<=e.north};var c=new e;return u.subsample=function(e,n,i,a){n=t(n,o.WGS84),i=t(i,0),r(a)||(a=[]);var l=0,p=e.north,h=e.south,m=e.east,d=e.west,f=c;f.height=i,f.longitude=d,f.latitude=p,a[l]=n.cartographicToCartesian(f,a[l]),l++,f.longitude=m,a[l]=n.cartographicToCartesian(f,a[l]),l++,f.latitude=h,a[l]=n.cartographicToCartesian(f,a[l]),l++,f.longitude=d,a[l]=n.cartographicToCartesian(f,a[l]),l++,p<0?f.latitude=p:h>0?f.latitude=h:f.latitude=0;for(var y=1;y<8;++y)f.longitude=-Math.PI+y*s.PI_OVER_TWO,u.contains(e,f)&&(a[l]=n.cartographicToCartesian(f,a[l]),l++);return 0===f.latitude&&(f.longitude=d,a[l]=n.cartographicToCartesian(f,a[l]),l++,f.longitude=m,a[l]=n.cartographicToCartesian(f,a[l]),l++),a.length=l,a},u.MAX_VALUE=a(new u(-Math.PI,-s.PI_OVER_TWO,Math.PI,s.PI_OVER_TWO)),u}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(4),r(32),r(3),r(1),r(17),r(2),r(8),r(5),r(18),r(52)],i=function(e,t,r,n,i,o,a,s,u,c){"use strict";function l(e,t,n,i,o,a,s,u,c,l,p,h,m,d,f,y){this[0]=r(e,0),this[1]=r(o,0),this[2]=r(c,0),this[3]=r(m,0),this[4]=r(t,0),this[5]=r(a,0),this[6]=r(l,0),this[7]=r(d,0),this[8]=r(n,0),this[9]=r(s,0),this[10]=r(p,0),this[11]=r(f,0),this[12]=r(i,0),this[13]=r(u,0),this[14]=r(h,0),this[15]=r(y,0)}l.packedLength=16,l.pack=function(e,t,n){return n=r(n,0),t[n++]=e[0],t[n++]=e[1],t[n++]=e[2],t[n++]=e[3],t[n++]=e[4],t[n++]=e[5],t[n++]=e[6],t[n++]=e[7],t[n++]=e[8],t[n++]=e[9],t[n++]=e[10],t[n++]=e[11],t[n++]=e[12],t[n++]=e[13],t[n++]=e[14],t[n]=e[15],t},l.unpack=function(e,t,i){return t=r(t,0),n(i)||(i=new l),i[0]=e[t++],i[1]=e[t++],i[2]=e[t++],i[3]=e[t++],i[4]=e[t++],i[5]=e[t++],i[6]=e[t++],i[7]=e[t++],i[8]=e[t++],i[9]=e[t++],i[10]=e[t++],i[11]=e[t++],i[12]=e[t++],i[13]=e[t++],i[14]=e[t++],i[15]=e[t],i},l.clone=function(e,t){if(n(e))return n(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t):new l(e[0],e[4],e[8],e[12],e[1],e[5],e[9],e[13],e[2],e[6],e[10],e[14],e[3],e[7],e[11],e[15])},l.fromArray=l.unpack,l.fromColumnMajorArray=function(e,t){return l.clone(e,t)},l.fromRowMajorArray=function(e,t){return n(t)?(t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15],t):new l(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])},l.fromRotationTranslation=function(t,i,o){return i=r(i,e.ZERO),n(o)?(o[0]=t[0],o[1]=t[1],o[2]=t[2],o[3]=0,o[4]=t[3],o[5]=t[4],o[6]=t[5],o[7]=0,o[8]=t[6],o[9]=t[7],o[10]=t[8],o[11]=0,o[12]=i.x,o[13]=i.y,o[14]=i.z,o[15]=1,o):new l(t[0],t[3],t[6],i.x,t[1],t[4],t[7],i.y,t[2],t[5],t[8],i.z,0,0,0,1)},l.fromTranslationQuaternionRotationScale=function(e,t,r,i){n(i)||(i=new l);var o=r.x,a=r.y,s=r.z,u=t.x*t.x,c=t.x*t.y,p=t.x*t.z,h=t.x*t.w,m=t.y*t.y,d=t.y*t.z,f=t.y*t.w,y=t.z*t.z,v=t.z*t.w,g=t.w*t.w,_=u-m-y+g,E=2*(c-v),A=2*(p+f),x=2*(c+v),T=-u+m-y+g,w=2*(d-h),S=2*(p-f),R=2*(d+h),I=-u-m+y+g;return i[0]=_*o,i[1]=x*o,i[2]=S*o,i[3]=0,i[4]=E*a,i[5]=T*a,i[6]=R*a,i[7]=0,i[8]=A*s,i[9]=w*s,i[10]=I*s,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,i},l.fromTranslationRotationScale=function(e,t){return l.fromTranslationQuaternionRotationScale(e.translation,e.rotation,e.scale,t)},l.fromTranslation=function(e,t){return l.fromRotationTranslation(u.IDENTITY,e,t)},l.fromScale=function(e,t){return n(t)?(t[0]=e.x,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e.y,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e.z,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t):new l(e.x,0,0,0,0,e.y,0,0,0,0,e.z,0,0,0,0,1)},l.fromUniformScale=function(e,t){return n(t)?(t[0]=e,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t):new l(e,0,0,0,0,e,0,0,0,0,e,0,0,0,0,1)};var p=new e,h=new e,m=new e;l.fromCamera=function(t,r){var i=t.position,o=t.direction,a=t.up;e.normalize(o,p),e.normalize(e.cross(p,a,h),h),e.normalize(e.cross(h,p,m),m);var s=h.x,u=h.y,c=h.z,d=p.x,f=p.y,y=p.z,v=m.x,g=m.y,_=m.z,E=i.x,A=i.y,x=i.z,T=s*-E+u*-A+c*-x,w=v*-E+g*-A+_*-x,S=d*E+f*A+y*x;return n(r)?(r[0]=s,r[1]=v,r[2]=-d,r[3]=0,r[4]=u,r[5]=g,r[6]=-f,r[7]=0,r[8]=c,r[9]=_,r[10]=-y,r[11]=0,r[12]=T,r[13]=w,r[14]=S,r[15]=1,r):new l(s,u,c,T,v,g,_,w,-d,-f,-y,S,0,0,0,1)},l.computePerspectiveFieldOfView=function(e,t,r,n,i){var o=Math.tan(.5*e),a=1/o,s=a/t,u=(n+r)/(r-n),c=2*n*r/(r-n);return i[0]=s,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=a,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=u,i[11]=-1,i[12]=0,i[13]=0,i[14]=c,i[15]=0,i},l.computeOrthographicOffCenter=function(e,t,r,n,i,o,a){var s=1/(t-e),u=1/(n-r),c=1/(o-i),l=-(t+e)*s,p=-(n+r)*u,h=-(o+i)*c;return s*=2,u*=2,c*=-2,a[0]=s,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=u,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=c,a[11]=0,a[12]=l,a[13]=p,a[14]=h,a[15]=1,a},l.computePerspectiveOffCenter=function(e,t,r,n,i,o,a){var s=2*i/(t-e),u=2*i/(n-r),c=(t+e)/(t-e),l=(n+r)/(n-r),p=-(o+i)/(o-i),h=-1,m=-2*o*i/(o-i);return a[0]=s,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=u,a[6]=0,a[7]=0,a[8]=c,a[9]=l,a[10]=p,a[11]=h,a[12]=0,a[13]=0,a[14]=m,a[15]=0,a},l.computeInfinitePerspectiveOffCenter=function(e,t,r,n,i,o){var a=2*i/(t-e),s=2*i/(n-r),u=(t+e)/(t-e),c=(n+r)/(n-r),l=-1,p=-1,h=-2*i;return o[0]=a,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=s,o[6]=0,o[7]=0,o[8]=u,o[9]=c,o[10]=l,o[11]=p,o[12]=0,o[13]=0,o[14]=h,o[15]=0,o},l.computeViewportTransformation=function(e,t,n,i){e=r(e,r.EMPTY_OBJECT);var o=r(e.x,0),a=r(e.y,0),s=r(e.width,0),u=r(e.height,0);t=r(t,0),n=r(n,1);var c=.5*s,l=.5*u,p=.5*(n-t),h=c,m=l,d=p,f=o+c,y=a+l,v=t+p,g=1;return i[0]=h,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=m,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=d,i[11]=0,i[12]=f,i[13]=y,i[14]=v,i[15]=g,i},l.computeView=function(t,r,n,i,o){return o[0]=i.x,o[1]=n.x,o[2]=-r.x,o[3]=0,o[4]=i.y,o[5]=n.y,o[6]=-r.y,o[7]=0,o[8]=i.z,o[9]=n.z,o[10]=-r.z,o[11]=0,o[12]=-e.dot(i,t),o[13]=-e.dot(n,t),o[14]=e.dot(r,t),o[15]=1,o},l.toArray=function(e,t){return n(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t):[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]]},l.getElementIndex=function(e,t){return 4*e+t},l.getColumn=function(e,t,r){var n=4*t,i=e[n],o=e[n+1],a=e[n+2],s=e[n+3];return r.x=i,r.y=o,r.z=a,r.w=s,r},l.setColumn=function(e,t,r,n){n=l.clone(e,n);var i=4*t;return n[i]=r.x,n[i+1]=r.y,n[i+2]=r.z,n[i+3]=r.w,n},l.setTranslation=function(e,t,r){return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5],r[6]=e[6],r[7]=e[7],r[8]=e[8],r[9]=e[9],r[10]=e[10],r[11]=e[11],r[12]=t.x,r[13]=t.y,r[14]=t.z,r[15]=e[15],r},l.getRow=function(e,t,r){var n=e[t],i=e[t+4],o=e[t+8],a=e[t+12];return r.x=n,r.y=i,r.z=o,r.w=a,r},l.setRow=function(e,t,r,n){return n=l.clone(e,n),n[t]=r.x,n[t+4]=r.y,n[t+8]=r.z,n[t+12]=r.w,n};var d=new e;l.getScale=function(t,r){return r.x=e.magnitude(e.fromElements(t[0],t[1],t[2],d)),r.y=e.magnitude(e.fromElements(t[4],t[5],t[6],d)),r.z=e.magnitude(e.fromElements(t[8],t[9],t[10],d)),r};var f=new e;l.getMaximumScale=function(t){return l.getScale(t,f),e.maximumComponent(f)},l.multiply=function(e,t,r){var n=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],p=e[8],h=e[9],m=e[10],d=e[11],f=e[12],y=e[13],v=e[14],g=e[15],_=t[0],E=t[1],A=t[2],x=t[3],T=t[4],w=t[5],S=t[6],R=t[7],I=t[8],N=t[9],O=t[10],b=t[11],M=t[12],P=t[13],C=t[14],L=t[15],F=n*_+s*E+p*A+f*x,D=i*_+u*E+h*A+y*x,U=o*_+c*E+m*A+v*x,B=a*_+l*E+d*A+g*x,z=n*T+s*w+p*S+f*R,G=i*T+u*w+h*S+y*R,k=o*T+c*w+m*S+v*R,H=a*T+l*w+d*S+g*R,V=n*I+s*N+p*O+f*b,q=i*I+u*N+h*O+y*b,W=o*I+c*N+m*O+v*b,Y=a*I+l*N+d*O+g*b,j=n*M+s*P+p*C+f*L,X=i*M+u*P+h*C+y*L,Z=o*M+c*P+m*C+v*L,K=a*M+l*P+d*C+g*L;return r[0]=F,r[1]=D,r[2]=U,r[3]=B,r[4]=z,r[5]=G,r[6]=k,r[7]=H,r[8]=V,r[9]=q,r[10]=W,r[11]=Y,r[12]=j,r[13]=X,r[14]=Z,r[15]=K,r},l.add=function(e,t,r){return r[0]=e[0]+t[0],r[1]=e[1]+t[1],r[2]=e[2]+t[2],r[3]=e[3]+t[3],r[4]=e[4]+t[4],r[5]=e[5]+t[5],r[6]=e[6]+t[6],r[7]=e[7]+t[7],r[8]=e[8]+t[8],r[9]=e[9]+t[9],r[10]=e[10]+t[10],r[11]=e[11]+t[11],r[12]=e[12]+t[12],r[13]=e[13]+t[13],r[14]=e[14]+t[14],r[15]=e[15]+t[15],r},l.subtract=function(e,t,r){return r[0]=e[0]-t[0],r[1]=e[1]-t[1],r[2]=e[2]-t[2],r[3]=e[3]-t[3],r[4]=e[4]-t[4],r[5]=e[5]-t[5],r[6]=e[6]-t[6],r[7]=e[7]-t[7],r[8]=e[8]-t[8],r[9]=e[9]-t[9],r[10]=e[10]-t[10],r[11]=e[11]-t[11],r[12]=e[12]-t[12],r[13]=e[13]-t[13],r[14]=e[14]-t[14],r[15]=e[15]-t[15],r},l.multiplyTransformation=function(e,t,r){var n=e[0],i=e[1],o=e[2],a=e[4],s=e[5],u=e[6],c=e[8],l=e[9],p=e[10],h=e[12],m=e[13],d=e[14],f=t[0],y=t[1],v=t[2],g=t[4],_=t[5],E=t[6],A=t[8],x=t[9],T=t[10],w=t[12],S=t[13],R=t[14],I=n*f+a*y+c*v,N=i*f+s*y+l*v,O=o*f+u*y+p*v,b=n*g+a*_+c*E,M=i*g+s*_+l*E,P=o*g+u*_+p*E,C=n*A+a*x+c*T,L=i*A+s*x+l*T,F=o*A+u*x+p*T,D=n*w+a*S+c*R+h,U=i*w+s*S+l*R+m,B=o*w+u*S+p*R+d;return r[0]=I,r[1]=N,r[2]=O,r[3]=0,r[4]=b,r[5]=M,r[6]=P,r[7]=0,r[8]=C,r[9]=L,r[10]=F,r[11]=0,r[12]=D,r[13]=U,r[14]=B,r[15]=1,r},l.multiplyByMatrix3=function(e,t,r){var n=e[0],i=e[1],o=e[2],a=e[4],s=e[5],u=e[6],c=e[8],l=e[9],p=e[10],h=t[0],m=t[1],d=t[2],f=t[3],y=t[4],v=t[5],g=t[6],_=t[7],E=t[8],A=n*h+a*m+c*d,x=i*h+s*m+l*d,T=o*h+u*m+p*d,w=n*f+a*y+c*v,S=i*f+s*y+l*v,R=o*f+u*y+p*v,I=n*g+a*_+c*E,N=i*g+s*_+l*E,O=o*g+u*_+p*E;return r[0]=A,r[1]=x,r[2]=T,r[3]=0,r[4]=w,r[5]=S,r[6]=R,r[7]=0,r[8]=I,r[9]=N,r[10]=O,r[11]=0,r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15],r},l.multiplyByTranslation=function(e,t,r){var n=t.x,i=t.y,o=t.z,a=n*e[0]+i*e[4]+o*e[8]+e[12],s=n*e[1]+i*e[5]+o*e[9]+e[13],u=n*e[2]+i*e[6]+o*e[10]+e[14];return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5],r[6]=e[6],r[7]=e[7],r[8]=e[8],r[9]=e[9],r[10]=e[10],r[11]=e[11],r[12]=a,r[13]=s,r[14]=u,r[15]=e[15],r};var y=new e;l.multiplyByUniformScale=function(e,t,r){return y.x=t,y.y=t,y.z=t,l.multiplyByScale(e,y,r)},l.multiplyByScale=function(e,t,r){var n=t.x,i=t.y,o=t.z;return 1===n&&1===i&&1===o?l.clone(e,r):(r[0]=n*e[0],r[1]=n*e[1],r[2]=n*e[2],r[3]=0,r[4]=i*e[4],r[5]=i*e[5],r[6]=i*e[6],r[7]=0,r[8]=o*e[8],r[9]=o*e[9],r[10]=o*e[10],r[11]=0,r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=1,r)},l.multiplyByVector=function(e,t,r){var n=t.x,i=t.y,o=t.z,a=t.w,s=e[0]*n+e[4]*i+e[8]*o+e[12]*a,u=e[1]*n+e[5]*i+e[9]*o+e[13]*a,c=e[2]*n+e[6]*i+e[10]*o+e[14]*a,l=e[3]*n+e[7]*i+e[11]*o+e[15]*a;return r.x=s,r.y=u,r.z=c,r.w=l,r},l.multiplyByPointAsVector=function(e,t,r){var n=t.x,i=t.y,o=t.z,a=e[0]*n+e[4]*i+e[8]*o,s=e[1]*n+e[5]*i+e[9]*o,u=e[2]*n+e[6]*i+e[10]*o;return r.x=a,r.y=s,r.z=u,r},l.multiplyByPoint=function(e,t,r){var n=t.x,i=t.y,o=t.z,a=e[0]*n+e[4]*i+e[8]*o+e[12],s=e[1]*n+e[5]*i+e[9]*o+e[13],u=e[2]*n+e[6]*i+e[10]*o+e[14];return r.x=a,r.y=s,r.z=u,r},l.multiplyByScalar=function(e,t,r){return r[0]=e[0]*t,r[1]=e[1]*t,r[2]=e[2]*t,r[3]=e[3]*t,r[4]=e[4]*t,r[5]=e[5]*t,r[6]=e[6]*t,r[7]=e[7]*t,r[8]=e[8]*t,r[9]=e[9]*t,r[10]=e[10]*t,r[11]=e[11]*t,r[12]=e[12]*t,r[13]=e[13]*t,r[14]=e[14]*t,r[15]=e[15]*t,r},l.negate=function(e,t){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t[4]=-e[4],t[5]=-e[5],t[6]=-e[6],t[7]=-e[7],t[8]=-e[8],t[9]=-e[9],t[10]=-e[10],t[11]=-e[11],t[12]=-e[12],t[13]=-e[13],t[14]=-e[14],t[15]=-e[15],t},l.transpose=function(e,t){var r=e[1],n=e[2],i=e[3],o=e[6],a=e[7],s=e[11];return t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=r,t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=n,t[9]=o,t[10]=e[10],t[11]=e[14],t[12]=i,t[13]=a,t[14]=s,t[15]=e[15],t},l.abs=function(e,t){return t[0]=Math.abs(e[0]),t[1]=Math.abs(e[1]),t[2]=Math.abs(e[2]),t[3]=Math.abs(e[3]),t[4]=Math.abs(e[4]),t[5]=Math.abs(e[5]),t[6]=Math.abs(e[6]),t[7]=Math.abs(e[7]),t[8]=Math.abs(e[8]),t[9]=Math.abs(e[9]),t[10]=Math.abs(e[10]),t[11]=Math.abs(e[11]),t[12]=Math.abs(e[12]),t[13]=Math.abs(e[13]),t[14]=Math.abs(e[14]),t[15]=Math.abs(e[15]),t},l.equals=function(e,t){return e===t||n(e)&&n(t)&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[3]===t[3]&&e[7]===t[7]&&e[11]===t[11]&&e[15]===t[15]},l.equalsEpsilon=function(e,t,r){return e===t||n(e)&&n(t)&&Math.abs(e[0]-t[0])<=r&&Math.abs(e[1]-t[1])<=r&&Math.abs(e[2]-t[2])<=r&&Math.abs(e[3]-t[3])<=r&&Math.abs(e[4]-t[4])<=r&&Math.abs(e[5]-t[5])<=r&&Math.abs(e[6]-t[6])<=r&&Math.abs(e[7]-t[7])<=r&&Math.abs(e[8]-t[8])<=r&&Math.abs(e[9]-t[9])<=r&&Math.abs(e[10]-t[10])<=r&&Math.abs(e[11]-t[11])<=r&&Math.abs(e[12]-t[12])<=r&&Math.abs(e[13]-t[13])<=r&&Math.abs(e[14]-t[14])<=r&&Math.abs(e[15]-t[15])<=r},l.getTranslation=function(e,t){return t.x=e[12],t.y=e[13],t.z=e[14],t},l.getRotation=function(e,t){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t};var v=new u,g=new u,_=new t,E=new t(0,0,0,1);return l.inverse=function(e,r){if(u.equalsEpsilon(l.getRotation(e,v),g,s.EPSILON7)&&t.equals(l.getRow(e,3,_),E))return r[0]=0,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=0,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=0,r[11]=0,r[12]=-e[12],r[13]=-e[13],r[14]=-e[14],r[15]=1,r;var n=e[0],i=e[4],o=e[8],a=e[12],p=e[1],h=e[5],m=e[9],d=e[13],f=e[2],y=e[6],A=e[10],x=e[14],T=e[3],w=e[7],S=e[11],R=e[15],I=A*R,N=x*S,O=y*R,b=x*w,M=y*S,P=A*w,C=f*R,L=x*T,F=f*S,D=A*T,U=f*w,B=y*T,z=I*h+b*m+M*d-(N*h+O*m+P*d),G=N*p+C*m+D*d-(I*p+L*m+F*d),k=O*p+L*h+U*d-(b*p+C*h+B*d),H=P*p+F*h+B*m-(M*p+D*h+U*m),V=N*i+O*o+P*a-(I*i+b*o+M*a),q=I*n+L*o+F*a-(N*n+C*o+D*a),W=b*n+C*i+B*a-(O*n+L*i+U*a),Y=M*n+D*i+U*o-(P*n+F*i+B*o);I=o*d,N=a*m,O=i*d,b=a*h,M=i*m,P=o*h,C=n*d,L=a*p,F=n*m,D=o*p,U=n*h,B=i*p;var j=I*w+b*S+M*R-(N*w+O*S+P*R),X=N*T+C*S+D*R-(I*T+L*S+F*R),Z=O*T+L*w+U*R-(b*T+C*w+B*R),K=P*T+F*w+B*S-(M*T+D*w+U*S),J=O*A+P*x+N*y-(M*x+I*y+b*A),Q=F*x+I*f+L*A-(C*A+D*x+N*f),$=C*y+B*x+b*f-(U*x+O*f+L*y),ee=U*A+M*f+D*y-(F*y+B*A+P*f),te=n*z+i*G+o*k+a*H;if(Math.abs(te)<s.EPSILON20)throw new c("matrix is not invertible because its determinate is zero.");return te=1/te,r[0]=z*te,r[1]=G*te,r[2]=k*te,r[3]=H*te,r[4]=V*te,r[5]=q*te,r[6]=W*te,r[7]=Y*te,r[8]=j*te,r[9]=X*te,r[10]=Z*te,r[11]=K*te,r[12]=J*te,r[13]=Q*te,r[14]=$*te,r[15]=ee*te,r},l.inverseTransformation=function(e,t){var r=e[0],n=e[1],i=e[2],o=e[4],a=e[5],s=e[6],u=e[8],c=e[9],l=e[10],p=e[12],h=e[13],m=e[14],d=-r*p-n*h-i*m,f=-o*p-a*h-s*m,y=-u*p-c*h-l*m;return t[0]=r,t[1]=o,t[2]=u,t[3]=0,t[4]=n,t[5]=a,t[6]=c,t[7]=0,t[8]=i,t[9]=s,t[10]=l,t[11]=0,t[12]=d,t[13]=f,t[14]=y,t[15]=1,t},l.IDENTITY=a(new l(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)),l.ZERO=a(new l(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)),l.COLUMN0ROW0=0,l.COLUMN0ROW1=1,l.COLUMN0ROW2=2,l.COLUMN0ROW3=3,l.COLUMN1ROW0=4,l.COLUMN1ROW1=5,l.COLUMN1ROW2=6,l.COLUMN1ROW3=7,l.COLUMN2ROW0=8,l.COLUMN2ROW1=9,l.COLUMN2ROW2=10,l.COLUMN2ROW3=11,l.COLUMN3ROW0=12,l.COLUMN3ROW1=13,l.COLUMN3ROW2=14,l.COLUMN3ROW3=15,i(l.prototype,{length:{get:function(){return l.packedLength}}}),l.prototype.clone=function(e){return l.clone(this,e)},l.prototype.equals=function(e){return l.equals(this,e)},l.equalsArray=function(e,t,r){return e[0]===t[r]&&e[1]===t[r+1]&&e[2]===t[r+2]&&e[3]===t[r+3]&&e[4]===t[r+4]&&e[5]===t[r+5]&&e[6]===t[r+6]&&e[7]===t[r+7]&&e[8]===t[r+8]&&e[9]===t[r+9]&&e[10]===t[r+10]&&e[11]===t[r+11]&&e[12]===t[r+12]&&e[13]===t[r+13]&&e[14]===t[r+14]&&e[15]===t[r+15]},l.prototype.equalsEpsilon=function(e,t){return l.equalsEpsilon(this,e,t)},l.prototype.toString=function(){return"("+this[0]+", "+this[4]+", "+this[8]+", "+this[12]+")\n("+this[1]+", "+this[5]+", "+this[9]+", "+this[13]+")\n("+this[2]+", "+this[6]+", "+this[10]+", "+this[14]+")\n("+this[3]+", "+this[7]+", "+this[11]+", "+this[15]+")"},l}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(3),r(1),r(2),r(8)],i=function(e,t,r,n){"use strict";function i(t){t=e(t,e.EMPTY_OBJECT),this.position=e(t.position,!1),this.normal=e(t.normal,!1),this.st=e(t.st,!1),this.binormal=e(t.binormal,!1),this.tangent=e(t.tangent,!1),this.color=e(t.color,!1)}return i.POSITION_ONLY=n(new i({position:!0})),i.POSITION_AND_NORMAL=n(new i({position:!0,normal:!0})),i.POSITION_NORMAL_AND_ST=n(new i({position:!0,normal:!0,st:!0})),i.POSITION_AND_ST=n(new i({position:!0,st:!0})),i.POSITION_AND_COLOR=n(new i({position:!0,color:!0})),i.ALL=n(new i({position:!0,normal:!0,st:!0,binormal:!0,tangent:!0})),i.DEFAULT=i.POSITION_NORMAL_AND_ST,i.packedLength=6,i.pack=function(t,r,n){return n=e(n,0),r[n++]=t.position?1:0,r[n++]=t.normal?1:0,r[n++]=t.st?1:0,r[n++]=t.binormal?1:0,r[n++]=t.tangent?1:0,r[n++]=t.color?1:0,r},i.unpack=function(r,n,o){return n=e(n,0),t(o)||(o=new i),o.position=1===r[n++],o.normal=1===r[n++],o.st=1===r[n++],o.binormal=1===r[n++],o.tangent=1===r[n++],o.color=1===r[n++],o},i.clone=function(e,r){if(t(e))return t(r)||(r=new i),r.position=e.position,r.normal=e.normal,r.st=e.st,r.binormal=e.binormal,r.tangent=e.tangent,r.color=e.color,r},i}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(138),r(13),r(4),r(9),r(3),r(1),r(2),r(6),r(24),r(10),r(11),r(5),r(184),r(12),r(51),r(27)],i=function(e,t,r,n,i,o,a,s,u,c,l,p,h,m,d,f){"use strict";var y=new r,v=new r,g={};g.computeArea2D=function(e){for(var t=e.length,r=0,n=t-1,i=0;i<t;n=i++){var o=e[n],a=e[i];r+=o.x*a.y-a.x*o.y}return.5*r},g.computeWindingOrder2D=function(e){var t=g.computeArea2D(e);return t>0?f.COUNTER_CLOCKWISE:f.CLOCKWISE},g.triangulate=function(r,n){var i=t.packArray(r);return e(i,n,2)};var _=new r,E=new r,A=new r,x=new r,T=new r,w=new r,S=new r;return g.computeSubdivision=function(e,t,a,s){s=i(s,p.RADIANS_PER_DEGREE);var u,h=a.slice(0),d=t.length,f=new Array(3*d),y=0;for(u=0;u<d;u++){var v=t[u];f[y++]=v.x,f[y++]=v.y,f[y++]=v.z}for(var g=[],R={},I=e.maximumRadius,N=p.chordLength(s,I),O=N*N;h.length>0;){var b,M,P=h.pop(),C=h.pop(),L=h.pop(),F=r.fromArray(f,3*L,_),D=r.fromArray(f,3*C,E),U=r.fromArray(f,3*P,A),B=r.multiplyByScalar(r.normalize(F,x),I,x),z=r.multiplyByScalar(r.normalize(D,T),I,T),G=r.multiplyByScalar(r.normalize(U,w),I,w),k=r.magnitudeSquared(r.subtract(B,z,S)),H=r.magnitudeSquared(r.subtract(z,G,S)),V=r.magnitudeSquared(r.subtract(G,B,S)),q=Math.max(k,H,V);q>O?k===q?(b=Math.min(L,C)+" "+Math.max(L,C),u=R[b],o(u)||(M=r.add(F,D,S),r.multiplyByScalar(M,.5,M),f.push(M.x,M.y,M.z),u=f.length/3-1,R[b]=u),h.push(L,u,P),h.push(u,C,P)):H===q?(b=Math.min(C,P)+" "+Math.max(C,P),u=R[b],o(u)||(M=r.add(D,U,S),r.multiplyByScalar(M,.5,M),f.push(M.x,M.y,M.z),u=f.length/3-1,R[b]=u),h.push(C,u,L),h.push(u,P,L)):V===q&&(b=Math.min(P,L)+" "+Math.max(P,L),u=R[b],o(u)||(M=r.add(U,F,S),r.multiplyByScalar(M,.5,M),f.push(M.x,M.y,M.z),u=f.length/3-1,R[b]=u),h.push(P,u,C),h.push(u,L,C)):(g.push(L),g.push(C),g.push(P))}return new c({attributes:{position:new l({componentDatatype:n.DOUBLE,componentsPerAttribute:3,values:f})},indices:g,primitiveType:m.TRIANGLES})},g.scaleToGeodeticHeight=function(e,t,n,a){n=i(n,s.WGS84);var u=y,c=v;if(t=i(t,0),a=i(a,!0),o(e))for(var l=e.length,p=0;p<l;p+=3)r.fromArray(e,p,c),a&&(c=n.scaleToGeodeticSurface(c,c)),0!==t&&(u=n.geodeticSurfaceNormal(c,u),r.multiplyByScalar(u,t,u),r.add(c,u,c)),e[p]=c.x,e[p+1]=c.y,e[p+2]=c.z;return e},g}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(3),r(1),r(177)],i=function(e,t,r){"use strict";function n(n){var i,o=[],a={id:void 0,result:void 0,error:void 0};return function(s){var u=s.data;o.length=0,a.id=u.id,a.error=void 0,a.result=void 0;try{a.result=n(u.parameters,o)}catch(e){e instanceof Error?a.error={name:e.name,message:e.message,stack:e.stack}:a.error=e}t(i)||(i=e(self.webkitPostMessage,self.postMessage)),u.canTransferArrayBuffer||(o.length=0);try{i(a,o)}catch(e){a.result=void 0,a.error="postMessage failed with error: "+r(e)+"\n  with responseMessage: "+JSON.stringify(a),i(a)}}}return n}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(42),r(13),r(4),r(32),r(3),r(1),r(17),r(2),r(6),r(46),r(18),r(20),r(35),r(101),r(37)],i=function(e,t,r,n,i,o,a,s,u,c,l,p,h,m,d){"use strict";function f(e,t){t=i(t,u.WGS84),e=t.scaleToGeodeticSurface(e);var n=d.eastNorthUpToFixedFrame(e,t);this._ellipsoid=t,this._origin=e,this._xAxis=r.fromCartesian4(p.getColumn(n,0,y)),this._yAxis=r.fromCartesian4(p.getColumn(n,1,y));var o=r.fromCartesian4(p.getColumn(n,2,y));this._plane=h.fromPointNormal(e,o)}var y=new n;a(f.prototype,{ellipsoid:{get:function(){return this._ellipsoid}},origin:{get:function(){return this._origin}},plane:{get:function(){
return this._plane}},xAxis:{get:function(){return this._xAxis}},yAxis:{get:function(){return this._yAxis}},zAxis:{get:function(){return this._plane.normal}}});var v=new e;f.fromPoints=function(t,r){var n=e.fromPoints(t,v);return new f(n.center,r)};var g=new m,_=new r;f.prototype.projectPointOntoPlane=function(e,n){var i=g;i.origin=e,r.normalize(e,i.direction);var a=c.rayPlane(i,this._plane,_);if(o(a)||(r.negate(i.direction,i.direction),a=c.rayPlane(i,this._plane,_)),o(a)){var s=r.subtract(a,this._origin,a),u=r.dot(this._xAxis,s),l=r.dot(this._yAxis,s);return o(n)?(n.x=u,n.y=l,n):new t(u,l)}},f.prototype.projectPointsOntoPlane=function(e,t){o(t)||(t=[]);for(var r=0,n=e.length,i=0;i<n;i++){var a=this.projectPointOntoPlane(e[i],t[r]);o(a)&&(t[r]=a,r++)}return t.length=r,t},f.prototype.projectPointToNearestOnPlane=function(e,n){o(n)||(n=new t);var i=g;i.origin=e,r.clone(this._plane.normal,i.direction);var a=c.rayPlane(i,this._plane,_);o(a)||(r.negate(i.direction,i.direction),a=c.rayPlane(i,this._plane,_));var s=r.subtract(a,this._origin,a),u=r.dot(this._xAxis,s),l=r.dot(this._yAxis,s);return n.x=u,n.y=l,n},f.prototype.projectPointsToNearestOnPlane=function(e,t){o(t)||(t=[]);var r=e.length;t.length=r;for(var n=0;n<r;n++)t[n]=this.projectPointToNearestOnPlane(e[n],t[n]);return t};var E=new r;return f.prototype.projectPointsOntoEllipsoid=function(e,t){var n=e.length;o(t)?t.length=n:t=new Array(n);for(var i=this._ellipsoid,a=this._origin,s=this._xAxis,u=this._yAxis,c=E,l=0;l<n;++l){var p=e[l];r.multiplyByScalar(s,p.x,c),o(t[l])||(t[l]=new r);var h=r.add(a,c,t[l]);r.multiplyByScalar(u,p.y,c),r.add(h,c,h),i.scaleToGeocentricSurface(h,h)}return t},f}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(38),r(104),r(7),r(13),r(4),r(32),r(16),r(9),r(3),r(1),r(2),r(152),r(30),r(10),r(11),r(33),r(45),r(15),r(34),r(46),r(5),r(18),r(20),r(35),r(12),r(172)],i=function(e,t,r,n,i,o,a,s,u,c,l,p,h,m,d,f,y,v,g,_,E,A,x,T,w,S){"use strict";function R(e,t,r,n,i){e[t++]=r,e[t++]=n,e[t++]=n,e[t++]=i,e[t++]=i,e[t]=r}function I(e){for(var t=e.length,r=t/3*6,n=v.createTypedArray(t,r),i=0,o=0;o<t;o+=3,i+=6)R(n,i,e[o],e[o+1],e[o+2]);return n}function N(e){var t=e.length;if(t>=3){var r=6*(t-2),n=v.createTypedArray(t,r);R(n,0,e[0],e[1],e[2]);for(var i=6,o=3;o<t;++o,i+=6)R(n,i,e[o-1],e[o],e[o-2]);return n}return new Uint16Array}function O(e){if(e.length>0){for(var t=e.length-1,r=6*(t-1),n=v.createTypedArray(t,r),i=e[0],o=0,a=1;a<t;++a,o+=6)R(n,o,i,e[a],e[a+1]);return n}return new Uint16Array}function b(e){var t={};for(var r in e)if(e.hasOwnProperty(r)&&c(e[r])&&c(e[r].values)){var n=e[r];t[r]=new d({componentDatatype:n.componentDatatype,componentsPerAttribute:n.componentsPerAttribute,normalize:n.normalize,values:[]})}return t}function M(e,t,r){for(var n in t)if(t.hasOwnProperty(n)&&c(t[n])&&c(t[n].values))for(var i=t[n],o=0;o<i.componentsPerAttribute;++o)e[n].values.push(i.values[r*i.componentsPerAttribute+o])}function P(e,t){if(c(t))for(var r=t.values,n=r.length,o=0;o<n;o+=3)i.unpack(r,o,ae),x.multiplyByPoint(e,ae,ae),i.pack(ae,r,o)}function C(e,t){if(c(t))for(var r=t.values,n=r.length,o=0;o<n;o+=3)i.unpack(r,o,ae),A.multiplyByVector(e,ae,ae),ae=i.normalize(ae,ae),i.pack(ae,r,o)}function L(e,t){var r,n=e.length,i={},o=e[0][t].attributes;for(r in o)if(o.hasOwnProperty(r)&&c(o[r])&&c(o[r].values)){for(var a=o[r],u=a.values.length,l=!0,p=1;p<n;++p){var h=e[p][t].attributes[r];if(!c(h)||a.componentDatatype!==h.componentDatatype||a.componentsPerAttribute!==h.componentsPerAttribute||a.normalize!==h.normalize){l=!1;break}u+=h.values.length}l&&(i[r]=new d({componentDatatype:a.componentDatatype,componentsPerAttribute:a.componentsPerAttribute,normalize:a.normalize,values:s.createTypedArray(a.componentDatatype,u)}))}return i}function F(e,t){var n,o,a,s,u,l,p,h=e.length,d=(e[0].modelMatrix,c(e[0][t].indices)),f=e[0][t].primitiveType,y=L(e,t);for(n in y)if(y.hasOwnProperty(n))for(u=y[n].values,s=0,o=0;o<h;++o)for(l=e[o][t].attributes[n].values,p=l.length,a=0;a<p;++a)u[s++]=l[a];var g;if(d){var _=0;for(o=0;o<h;++o)_+=e[o][t].indices.length;var E=m.computeNumberOfVertices(new m({attributes:y,primitiveType:w.POINTS})),A=v.createTypedArray(E,_),x=0,T=0;for(o=0;o<h;++o){var S=e[o][t].indices,R=S.length;for(s=0;s<R;++s)A[x++]=T+S[s];T+=m.computeNumberOfVertices(e[o][t])}g=A}var I,N=new i,O=0;for(o=0;o<h;++o){if(I=e[o][t].boundingSphere,!c(I)){N=void 0;break}i.add(I.center,N,N)}if(c(N))for(i.divideByScalar(N,h,N),o=0;o<h;++o){I=e[o][t].boundingSphere;var b=i.magnitude(i.subtract(I.center,N,ce))+I.radius;b>O&&(O=b)}return new m({attributes:y,indices:g,primitiveType:f,boundingSphere:c(N)?new r(N,O):void 0})}function D(e){if(c(e.indices))return e;for(var t=m.computeNumberOfVertices(e),r=v.createTypedArray(t,t),n=0;n<t;++n)r[n]=n;return e.indices=r,e}function U(e){var t=m.computeNumberOfVertices(e),r=v.createTypedArray(t,3*(t-2));r[0]=1,r[1]=0,r[2]=2;for(var n=3,i=3;i<t;++i)r[n++]=i-1,r[n++]=0,r[n++]=i;return e.indices=r,e.primitiveType=w.TRIANGLES,e}function B(e){var t=m.computeNumberOfVertices(e),r=v.createTypedArray(t,3*(t-2));r[0]=0,r[1]=1,r[2]=2,t>3&&(r[3]=0,r[4]=2,r[5]=3);for(var n=6,i=3;i<t-1;i+=2)r[n++]=i,r[n++]=i-1,r[n++]=i+1,i+2<t&&(r[n++]=i,r[n++]=i+1,r[n++]=i+2);return e.indices=r,e.primitiveType=w.TRIANGLES,e}function z(e){if(c(e.indices))return e;for(var t=m.computeNumberOfVertices(e),r=v.createTypedArray(t,t),n=0;n<t;++n)r[n]=n;return e.indices=r,e}function G(e){var t=m.computeNumberOfVertices(e),r=v.createTypedArray(t,2*(t-1));r[0]=0,r[1]=1;for(var n=2,i=2;i<t;++i)r[n++]=i-1,r[n++]=i;return e.indices=r,e.primitiveType=w.LINES,e}function k(e){var t=m.computeNumberOfVertices(e),r=v.createTypedArray(t,2*t);r[0]=0,r[1]=1;for(var n=2,i=2;i<t;++i)r[n++]=i-1,r[n++]=i;return r[n++]=t-1,r[n]=0,e.indices=r,e.primitiveType=w.LINES,e}function H(e){switch(e.primitiveType){case w.TRIANGLE_FAN:return U(e);case w.TRIANGLE_STRIP:return B(e);case w.TRIANGLES:return D(e);case w.LINE_STRIP:return G(e);case w.LINE_LOOP:return k(e);case w.LINES:return z(e)}return e}function V(e,t){Math.abs(e.y)<E.EPSILON6&&(t?e.y=-E.EPSILON6:e.y=E.EPSILON6)}function q(e,t,r){if(0!==e.y&&0!==t.y&&0!==r.y)return V(e,e.y<0),V(t,t.y<0),void V(r,r.y<0);var n,i=Math.abs(e.y),o=Math.abs(t.y),a=Math.abs(r.y);n=i>o?i>a?E.sign(e.y):E.sign(r.y):o>a?E.sign(t.y):E.sign(r.y);var s=n<0;V(e,s),V(t,s),V(r,s)}function W(e,t,r,n){i.add(e,i.multiplyByScalar(i.subtract(t,e,Ae),e.y/(e.y-t.y),Ae),r),i.clone(r,n),V(r,!0),V(n,!1)}function Y(e,t,r){if(!(e.x>=0||t.x>=0||r.x>=0)){q(e,t,r);var n=e.y<0,i=t.y<0,o=r.y<0,a=0;a+=n?1:0,a+=i?1:0,a+=o?1:0;var s=Re.indices;1===a?(s[1]=3,s[2]=4,s[5]=6,s[7]=6,s[8]=5,n?(W(e,t,xe,we),W(e,r,Te,Se),s[0]=0,s[3]=1,s[4]=2,s[6]=1):i?(W(t,r,xe,we),W(t,e,Te,Se),s[0]=1,s[3]=2,s[4]=0,s[6]=2):o&&(W(r,e,xe,we),W(r,t,Te,Se),s[0]=2,s[3]=0,s[4]=1,s[6]=0)):2===a&&(s[2]=4,s[4]=4,s[5]=3,s[7]=5,s[8]=6,n?i?o||(W(r,e,xe,we),W(r,t,Te,Se),s[0]=0,s[1]=1,s[3]=0,s[6]=2):(W(t,r,xe,we),W(t,e,Te,Se),s[0]=2,s[1]=0,s[3]=2,s[6]=1):(W(e,t,xe,we),W(e,r,Te,Se),s[0]=1,s[1]=2,s[3]=1,s[6]=0));var u=Re.positions;return u[0]=e,u[1]=t,u[2]=r,u.length=3,1!==a&&2!==a||(u[3]=xe,u[4]=Te,u[5]=we,u[6]=Se,u.length=7),Re}}function j(e,t){var n=e.attributes;if(0!==n.position.values.length){for(var i in n)if(n.hasOwnProperty(i)&&c(n[i])&&c(n[i].values)){var o=n[i];o.values=s.createTypedArray(o.componentDatatype,o.values)}var a=m.computeNumberOfVertices(e);return e.indices=v.createTypedArray(a,e.indices),t&&(e.boundingSphere=r.fromVertices(n.position.values)),e}}function X(e){var t=e.attributes,r={};for(var n in t)if(t.hasOwnProperty(n)&&c(t[n])&&c(t[n].values)){var i=t[n];r[n]=new d({componentDatatype:i.componentDatatype,componentsPerAttribute:i.componentsPerAttribute,normalize:i.normalize,values:[]})}return new m({attributes:r,indices:[],primitiveType:e.primitiveType})}function Z(e,t,r){var n=c(e.geometry.boundingSphere);t=j(t,n),r=j(r,n),c(r)&&!c(t)?e.geometry=r:!c(r)&&c(t)?e.geometry=t:(e.westHemisphereGeometry=t,e.eastHemisphereGeometry=r,e.geometry=void 0)}function K(e,r,o,a,s,u,l,p,h,m,d){if(c(u)||c(l)||c(p)||c(h)){var f=i.fromArray(s,3*e,Ie),y=i.fromArray(s,3*r,Ne),v=i.fromArray(s,3*o,Oe),g=t(a,f,y,v,be);if(c(u)){var _=i.fromArray(u,3*e,Ie),E=i.fromArray(u,3*r,Ne),A=i.fromArray(u,3*o,Oe);i.multiplyByScalar(_,g.x,_),i.multiplyByScalar(E,g.y,E),i.multiplyByScalar(A,g.z,A);var x=i.add(_,E,_);i.add(x,A,x),i.normalize(x,x),i.pack(x,m.normal.values,3*d)}if(c(l)){var T=i.fromArray(l,3*e,Ie),w=i.fromArray(l,3*r,Ne),S=i.fromArray(l,3*o,Oe);i.multiplyByScalar(T,g.x,T),i.multiplyByScalar(w,g.y,w),i.multiplyByScalar(S,g.z,S);var R=i.add(T,w,T);i.add(R,S,R),i.normalize(R,R),i.pack(R,m.binormal.values,3*d)}if(c(p)){var I=i.fromArray(p,3*e,Ie),N=i.fromArray(p,3*r,Ne),O=i.fromArray(p,3*o,Oe);i.multiplyByScalar(I,g.x,I),i.multiplyByScalar(N,g.y,N),i.multiplyByScalar(O,g.z,O);var b=i.add(I,N,I);i.add(b,O,b),i.normalize(b,b),i.pack(b,m.tangent.values,3*d)}if(c(h)){var M=n.fromArray(h,2*e,Me),P=n.fromArray(h,2*r,Pe),C=n.fromArray(h,2*o,Ce);n.multiplyByScalar(M,g.x,M),n.multiplyByScalar(P,g.y,P),n.multiplyByScalar(C,g.z,C);var L=n.add(M,P,M);n.add(L,C,L),n.pack(L,m.st.values,2*d)}}}function J(e,t,r,n,i,o){var a=e.position.values.length/3;if(i!==-1){var s=n[i],u=r[s];return u===-1?(r[s]=a,e.position.values.push(o.x,o.y,o.z),t.push(a),a):(t.push(u),u)}return e.position.values.push(o.x,o.y,o.z),t.push(a),a}function Q(e){var t,r,n,o,a,s=e.geometry,u=s.attributes,l=u.position.values,p=c(u.normal)?u.normal.values:void 0,h=c(u.binormal)?u.binormal.values:void 0,m=c(u.tangent)?u.tangent.values:void 0,d=c(u.st)?u.st.values:void 0,f=s.indices,y=X(s),v=X(s),g=[];g.length=l.length/3;var _=[];for(_.length=l.length/3,a=0;a<g.length;++a)g[a]=-1,_[a]=-1;var E=f.length;for(a=0;a<E;a+=3){var A=f[a],x=f[a+1],T=f[a+2],w=i.fromArray(l,3*A),S=i.fromArray(l,3*x),R=i.fromArray(l,3*T),I=Y(w,S,R);if(c(I)&&I.positions.length>3)for(var N=I.positions,O=I.indices,b=O.length,M=0;M<b;++M){var P=O[M],C=N[P];C.y<0?(t=v.attributes,r=v.indices,n=g):(t=y.attributes,r=y.indices,n=_),o=J(t,r,n,f,P<3?a+P:-1,C),K(A,x,T,C,l,p,h,m,d,t,o)}else c(I)&&(w=I.positions[0],S=I.positions[1],R=I.positions[2]),w.y<0?(t=v.attributes,r=v.indices,n=g):(t=y.attributes,r=y.indices,n=_),o=J(t,r,n,f,a,w),K(A,x,T,w,l,p,h,m,d,t,o),o=J(t,r,n,f,a+1,S),K(A,x,T,S,l,p,h,m,d,t,o),o=J(t,r,n,f,a+2,R),K(A,x,T,R,l,p,h,m,d,t,o)}Z(e,v,y)}function $(e){var t,r=e.geometry,n=r.attributes,o=n.position.values,a=r.indices,s=X(r),u=X(r),l=a.length,p=[];p.length=o.length/3;var h=[];for(h.length=o.length/3,t=0;t<p.length;++t)p[t]=-1,h[t]=-1;for(t=0;t<l;t+=2){var m=a[t],d=a[t+1],f=i.fromArray(o,3*m,Ie),y=i.fromArray(o,3*d,Ne);Math.abs(f.y)<E.EPSILON6&&(f.y<0?f.y=-E.EPSILON6:f.y=E.EPSILON6),Math.abs(y.y)<E.EPSILON6&&(y.y<0?y.y=-E.EPSILON6:y.y=E.EPSILON6);var v=s.attributes,g=s.indices,A=h,x=u.attributes,T=u.indices,w=p,S=_.lineSegmentPlane(f,y,Le,Oe);if(c(S)){var R=i.multiplyByScalar(i.UNIT_Y,5*E.EPSILON9,Fe);f.y<0&&(i.negate(R,R),v=u.attributes,g=u.indices,A=p,x=s.attributes,T=s.indices,w=h);var I=i.add(S,R,De);J(v,g,A,a,t,f),J(v,g,A,a,-1,I),i.negate(R,R),i.add(S,R,I),J(x,T,w,a,-1,I),J(x,T,w,a,t+1,y)}else{var N,O,b;f.y<0?(N=u.attributes,O=u.indices,b=p):(N=s.attributes,O=s.indices,b=h),J(N,O,b,a,t,f),J(N,O,b,a,t+1,y)}}Z(e,u,s)}function ee(e){for(var t=e.attributes,r=t.position.values,n=t.prevPosition.values,o=t.nextPosition.values,a=r.length,s=0;s<a;s+=3){var u=i.unpack(r,s,ze);if(!(u.x>0)){var c=i.unpack(n,s,Ge);(u.y<0&&c.y>0||u.y>0&&c.y<0)&&(s-3>0?(n[s]=r[s-3],n[s+1]=r[s-2],n[s+2]=r[s-1]):i.pack(u,n,s));var l=i.unpack(o,s,ke);(u.y<0&&l.y>0||u.y>0&&l.y<0)&&(s+3<a?(o[s]=r[s+3],o[s+1]=r[s+4],o[s+2]=r[s+5]):i.pack(u,o,s))}}}function te(e){var t,r,a,s=e.geometry,u=s.attributes,l=u.position.values,p=u.prevPosition.values,h=u.nextPosition.values,m=u.expandAndWidth.values,d=c(u.st)?u.st.values:void 0,f=c(u.color)?u.color.values:void 0,y=X(s),v=X(s),g=!1,A=l.length/3;for(t=0;t<A;t+=4){var x=t,T=t+2,w=i.fromArray(l,3*x,ze),S=i.fromArray(l,3*T,Ge);if(Math.abs(w.y)<je)for(w.y=je*(S.y<0?-1:1),l[3*t+1]=w.y,l[3*(t+1)+1]=w.y,r=3*x;r<3*x+12;r+=3)p[r]=l[3*t],p[r+1]=l[3*t+1],p[r+2]=l[3*t+2];if(Math.abs(S.y)<je)for(S.y=je*(w.y<0?-1:1),l[3*(t+2)+1]=S.y,l[3*(t+3)+1]=S.y,r=3*x;r<3*x+12;r+=3)h[r]=l[3*(t+2)],h[r+1]=l[3*(t+2)+1],h[r+2]=l[3*(t+2)+2];var R=y.attributes,I=y.indices,N=v.attributes,O=v.indices,b=_.lineSegmentPlane(w,S,Le,He);if(c(b)){g=!0;var M=i.multiplyByScalar(i.UNIT_Y,Ye,Ve);w.y<0&&(i.negate(M,M),R=v.attributes,I=v.indices,N=y.attributes,O=y.indices);var P=i.add(b,M,qe);R.position.values.push(w.x,w.y,w.z,w.x,w.y,w.z),R.position.values.push(P.x,P.y,P.z),R.position.values.push(P.x,P.y,P.z),R.prevPosition.values.push(p[3*x],p[3*x+1],p[3*x+2]),R.prevPosition.values.push(p[3*x+3],p[3*x+4],p[3*x+5]),R.prevPosition.values.push(w.x,w.y,w.z,w.x,w.y,w.z),R.nextPosition.values.push(P.x,P.y,P.z),R.nextPosition.values.push(P.x,P.y,P.z),R.nextPosition.values.push(P.x,P.y,P.z),R.nextPosition.values.push(P.x,P.y,P.z),i.negate(M,M),i.add(b,M,P),N.position.values.push(P.x,P.y,P.z),N.position.values.push(P.x,P.y,P.z),N.position.values.push(S.x,S.y,S.z,S.x,S.y,S.z),N.prevPosition.values.push(P.x,P.y,P.z),N.prevPosition.values.push(P.x,P.y,P.z),N.prevPosition.values.push(P.x,P.y,P.z),N.prevPosition.values.push(P.x,P.y,P.z),N.nextPosition.values.push(S.x,S.y,S.z,S.x,S.y,S.z),N.nextPosition.values.push(h[3*T],h[3*T+1],h[3*T+2]),N.nextPosition.values.push(h[3*T+3],h[3*T+4],h[3*T+5]);var C=n.fromArray(m,2*x,Ue),L=Math.abs(C.y);R.expandAndWidth.values.push(-1,L,1,L),R.expandAndWidth.values.push(-1,-L,1,-L),N.expandAndWidth.values.push(-1,L,1,L),N.expandAndWidth.values.push(-1,-L,1,-L);var F=i.magnitudeSquared(i.subtract(b,w,ke));if(F/=i.magnitudeSquared(i.subtract(S,w,ke)),c(f)){var D=o.fromArray(f,4*x,We),U=o.fromArray(f,4*T,We),B=E.lerp(D.x,U.x,F),z=E.lerp(D.y,U.y,F),G=E.lerp(D.z,U.z,F),k=E.lerp(D.w,U.w,F);for(r=4*x;r<4*x+8;++r)R.color.values.push(f[r]);for(R.color.values.push(B,z,G,k),R.color.values.push(B,z,G,k),N.color.values.push(B,z,G,k),N.color.values.push(B,z,G,k),r=4*T;r<4*T+8;++r)N.color.values.push(f[r])}if(c(d)){var H=n.fromArray(d,2*x,Ue),V=n.fromArray(d,2*(t+3),Be),q=E.lerp(H.x,V.x,F);for(r=2*x;r<2*x+4;++r)R.st.values.push(d[r]);for(R.st.values.push(q,H.y),R.st.values.push(q,V.y),N.st.values.push(q,H.y),N.st.values.push(q,V.y),r=2*T;r<2*T+4;++r)N.st.values.push(d[r])}a=R.position.values.length/3-4,I.push(a,a+2,a+1),I.push(a+1,a+2,a+3),a=N.position.values.length/3-4,O.push(a,a+2,a+1),O.push(a+1,a+2,a+3)}else{var W,Y;for(w.y<0?(W=v.attributes,Y=v.indices):(W=y.attributes,Y=y.indices),W.position.values.push(w.x,w.y,w.z),W.position.values.push(w.x,w.y,w.z),W.position.values.push(S.x,S.y,S.z),W.position.values.push(S.x,S.y,S.z),r=3*t;r<3*t+12;++r)W.prevPosition.values.push(p[r]),W.nextPosition.values.push(h[r]);for(r=2*t;r<2*t+8;++r)W.expandAndWidth.values.push(m[r]),c(d)&&W.st.values.push(d[r]);if(c(f))for(r=4*t;r<4*t+16;++r)W.color.values.push(f[r]);a=W.position.values.length/3-4,Y.push(a,a+2,a+1),Y.push(a+1,a+2,a+3)}}g&&(ee(v),ee(y)),Z(e,v,y)}var re={};re.toWireframe=function(e){var t=e.indices;if(c(t)){switch(e.primitiveType){case w.TRIANGLES:e.indices=I(t);break;case w.TRIANGLE_STRIP:e.indices=N(t);break;case w.TRIANGLE_FAN:e.indices=O(t);break;default:throw new l("geometry.primitiveType must be TRIANGLES, TRIANGLE_STRIP, or TRIANGLE_FAN.")}e.primitiveType=w.LINES}return e},re.createLineSegmentsForVectors=function(e,t,n){t=u(t,"normal"),n=u(n,1e4);for(var i=e.attributes.position.values,o=e.attributes[t].values,a=i.length,l=new Float64Array(2*a),p=0,h=0;h<a;h+=3)l[p++]=i[h],l[p++]=i[h+1],l[p++]=i[h+2],l[p++]=i[h]+o[h]*n,l[p++]=i[h+1]+o[h+1]*n,l[p++]=i[h+2]+o[h+2]*n;var f,y=e.boundingSphere;return c(y)&&(f=new r(y.center,y.radius+n)),new m({attributes:{position:new d({componentDatatype:s.DOUBLE,componentsPerAttribute:3,values:l})},primitiveType:w.LINES,boundingSphere:f})},re.createAttributeLocations=function(e){var t,r=["position","positionHigh","positionLow","position3DHigh","position3DLow","position2DHigh","position2DLow","pickColor","normal","st","binormal","tangent","compressedAttributes"],n=e.attributes,i={},o=0,a=r.length;for(t=0;t<a;++t){var s=r[t];c(n[s])&&(i[s]=o++)}for(var u in n)n.hasOwnProperty(u)&&!c(i[u])&&(i[u]=o++);return i},re.reorderForPreVertexCache=function(e){var t=m.computeNumberOfVertices(e),r=e.indices;if(c(r)){for(var n=new Int32Array(t),i=0;i<t;i++)n[i]=-1;for(var o,a=r,u=a.length,l=v.createTypedArray(t,u),p=0,h=0,d=0;p<u;)o=n[a[p]],o!==-1?l[h]=o:(o=a[p],n[o]=d,l[h]=d,++d),++p,++h;e.indices=l;var f=e.attributes;for(var y in f)if(f.hasOwnProperty(y)&&c(f[y])&&c(f[y].values)){for(var g=f[y],_=g.values,E=0,A=g.componentsPerAttribute,x=s.createTypedArray(g.componentDatatype,d*A);E<t;){var T=n[E];if(T!==-1)for(i=0;i<A;i++)x[A*T+i]=_[A*E+i];++E}g.values=x}}return e},re.reorderForPostVertexCache=function(e,t){var r=e.indices;if(e.primitiveType===w.TRIANGLES&&c(r)){for(var n=r.length,i=0,o=0;o<n;o++)r[o]>i&&(i=r[o]);e.indices=S.tipsify({indices:r,maximumIndex:i,cacheSize:t})}return e},re.fitToUnsignedShortIndices=function(e){var t=[],r=m.computeNumberOfVertices(e);if(c(e.indices)&&r>=E.SIXTY_FOUR_KILOBYTES){var n,i=[],o=[],a=0,s=b(e.attributes),u=e.indices,l=u.length;e.primitiveType===w.TRIANGLES?n=3:e.primitiveType===w.LINES?n=2:e.primitiveType===w.POINTS&&(n=1);for(var p=0;p<l;p+=n){for(var h=0;h<n;++h){var d=u[p+h],f=i[d];c(f)||(f=a++,i[d]=f,M(s,e.attributes,d)),o.push(f)}a+n>=E.SIXTY_FOUR_KILOBYTES&&(t.push(new m({attributes:s,indices:o,primitiveType:e.primitiveType,boundingSphere:e.boundingSphere,boundingSphereCV:e.boundingSphereCV})),i=[],o=[],a=0,s=b(e.attributes))}0!==o.length&&t.push(new m({attributes:s,indices:o,primitiveType:e.primitiveType,boundingSphere:e.boundingSphere,boundingSphereCV:e.boundingSphereCV}))}else t.push(e);return t};var ne=new i,ie=new a;re.projectTo2D=function(e,t,r,n,o){var a=e.attributes[t];o=c(o)?o:new h;for(var u=o.ellipsoid,p=a.values,m=new Float64Array(p.length),f=0,y=0;y<p.length;y+=3){var v=i.fromArray(p,y,ne),g=u.cartesianToCartographic(v,ie);if(!c(g))throw new l("Could not project point ("+v.x+", "+v.y+", "+v.z+") to 2D.");var _=o.project(g,ne);m[f++]=_.x,m[f++]=_.y,m[f++]=_.z}return e.attributes[r]=a,e.attributes[n]=new d({componentDatatype:s.DOUBLE,componentsPerAttribute:3,values:m}),delete e.attributes[t],e};var oe={high:0,low:0};re.encodeAttribute=function(e,t,r,n){for(var i=e.attributes[t],o=i.values,a=o.length,u=new Float32Array(a),c=new Float32Array(a),l=0;l<a;++l)p.encode(o[l],oe),u[l]=oe.high,c[l]=oe.low;var h=i.componentsPerAttribute;return e.attributes[r]=new d({componentDatatype:s.FLOAT,componentsPerAttribute:h,values:u}),e.attributes[n]=new d({componentDatatype:s.FLOAT,componentsPerAttribute:h,values:c}),delete e.attributes[t],e};var ae=new i,se=new x,ue=new A;re.transformToWorldCoordinates=function(e){var t=e.modelMatrix;if(x.equals(t,x.IDENTITY))return e;var n=e.geometry.attributes;P(t,n.position),P(t,n.prevPosition),P(t,n.nextPosition),(c(n.normal)||c(n.binormal)||c(n.tangent))&&(x.inverse(t,se),x.transpose(se,se),x.getRotation(se,ue),C(ue,n.normal),C(ue,n.binormal),C(ue,n.tangent));var i=e.geometry.boundingSphere;return c(i)&&(e.geometry.boundingSphere=r.transform(i,t,i)),e.modelMatrix=x.clone(x.IDENTITY),e};var ce=new i;re.combineInstances=function(e){for(var t=[],r=[],n=e.length,i=0;i<n;++i){var o=e[i];c(o.geometry)?t.push(o):r.push(o)}var a=[];return t.length>0&&a.push(F(t,"geometry")),r.length>0&&(a.push(F(r,"westHemisphereGeometry")),a.push(F(r,"eastHemisphereGeometry"))),a};var le=new i,pe=new i,he=new i,me=new i;re.computeNormal=function(e){for(var t=e.indices,r=e.attributes,n=r.position.values,o=r.position.values.length/3,a=t.length,u=new Array(o),c=new Array(a/3),l=new Array(a),p=0;p<o;p++)u[p]={indexOffset:0,count:0,currentCount:0};var h=0;for(p=0;p<a;p+=3){var m=t[p],f=t[p+1],y=t[p+2],v=3*m,g=3*f,_=3*y;pe.x=n[v],pe.y=n[v+1],pe.z=n[v+2],he.x=n[g],he.y=n[g+1],he.z=n[g+2],me.x=n[_],me.y=n[_+1],me.z=n[_+2],u[m].count++,u[f].count++,u[y].count++,i.subtract(he,pe,he),i.subtract(me,pe,me),c[h]=i.cross(he,me,new i),h++}var E=0;for(p=0;p<o;p++)u[p].indexOffset+=E,E+=u[p].count;h=0;var A;for(p=0;p<a;p+=3){A=u[t[p]];var x=A.indexOffset+A.currentCount;l[x]=h,A.currentCount++,A=u[t[p+1]],x=A.indexOffset+A.currentCount,l[x]=h,A.currentCount++,A=u[t[p+2]],x=A.indexOffset+A.currentCount,l[x]=h,A.currentCount++,h++}var T=new Float32Array(3*o);for(p=0;p<o;p++){var w=3*p;if(A=u[p],A.count>0){for(i.clone(i.ZERO,le),h=0;h<A.count;h++)i.add(le,c[l[A.indexOffset+h]],le);i.normalize(le,le),T[w]=le.x,T[w+1]=le.y,T[w+2]=le.z}else T[w]=0,T[w+1]=0,T[w+2]=1}return e.attributes.normal=new d({componentDatatype:s.FLOAT,componentsPerAttribute:3,values:T}),e};var de=new i,fe=new i,ye=new i;re.computeBinormalAndTangent=function(e){for(var t=(e.attributes,e.indices),r=e.attributes.position.values,n=e.attributes.normal.values,o=e.attributes.st.values,a=e.attributes.position.values.length/3,u=t.length,c=new Array(3*a),l=0;l<c.length;l++)c[l]=0;var p,h,m;for(l=0;l<u;l+=3){var f=t[l],y=t[l+1],v=t[l+2];p=3*f,h=3*y,m=3*v;var g=2*f,_=2*y,E=2*v,A=r[p],x=r[p+1],T=r[p+2],w=o[g],S=o[g+1],R=o[_+1]-S,I=o[E+1]-S,N=1/((o[_]-w)*I-(o[E]-w)*R),O=(I*(r[h]-A)-R*(r[m]-A))*N,b=(I*(r[h+1]-x)-R*(r[m+1]-x))*N,M=(I*(r[h+2]-T)-R*(r[m+2]-T))*N;c[p]+=O,c[p+1]+=b,c[p+2]+=M,c[h]+=O,c[h+1]+=b,c[h+2]+=M,c[m]+=O,c[m+1]+=b,c[m+2]+=M}var P=new Float32Array(3*a),C=new Float32Array(3*a);for(l=0;l<a;l++){p=3*l,h=p+1,m=p+2;var L=i.fromArray(n,p,de),F=i.fromArray(c,p,ye),D=i.dot(L,F);i.multiplyByScalar(L,D,fe),i.normalize(i.subtract(F,fe,F),F),C[p]=F.x,C[h]=F.y,C[m]=F.z,i.normalize(i.cross(L,F,F),F),P[p]=F.x,P[h]=F.y,P[m]=F.z}return e.attributes.tangent=new d({componentDatatype:s.FLOAT,componentsPerAttribute:3,values:C}),e.attributes.binormal=new d({componentDatatype:s.FLOAT,componentsPerAttribute:3,values:P}),e};var ve=new n,ge=new i,_e=new i,Ee=new i;re.compressVertices=function(t){var r=t.attributes.normal,o=t.attributes.st;if(!c(r)&&!c(o))return t;var a,u,l,p,h=t.attributes.tangent,m=t.attributes.binormal;c(r)&&(a=r.values),c(o)&&(u=o.values),c(h)&&(l=h.values),m&&(p=m.values);var f=c(a)?a.length:u.length,y=c(a)?3:2,v=f/y,g=v,_=c(u)&&c(a)?2:1;_+=c(l)||c(p)?1:0,g*=_;for(var E=new Float32Array(g),A=0,x=0;x<v;++x){c(u)&&(n.fromArray(u,2*x,ve),E[A++]=e.compressTextureCoordinates(ve));var T=3*x;c(a)&&c(l)&&c(p)?(i.fromArray(a,T,ge),i.fromArray(l,T,_e),i.fromArray(p,T,Ee),e.octPack(ge,_e,Ee,ve),E[A++]=ve.x,E[A++]=ve.y):(c(a)&&(i.fromArray(a,T,ge),E[A++]=e.octEncodeFloat(ge)),c(l)&&(i.fromArray(l,T,ge),E[A++]=e.octEncodeFloat(ge)),c(p)&&(i.fromArray(p,T,ge),E[A++]=e.octEncodeFloat(ge)))}return t.attributes.compressedAttributes=new d({componentDatatype:s.FLOAT,componentsPerAttribute:_,values:E}),c(a)&&delete t.attributes.normal,c(u)&&delete t.attributes.st,c(l)&&delete t.attributes.tangent,c(p)&&delete t.attributes.binormal,t};var Ae=new i,xe=new i,Te=new i,we=new i,Se=new i,Re={positions:new Array(7),indices:new Array(9)},Ie=new i,Ne=new i,Oe=new i,be=new i,Me=new n,Pe=new n,Ce=new n,Le=T.fromPointNormal(i.ZERO,i.UNIT_Y),Fe=new i,De=new i,Ue=new n,Be=new n,ze=new i,Ge=new i,ke=new i,He=new i,Ve=new i,qe=new i,We=new o,Ye=5*E.EPSILON9,je=E.EPSILON6;return re.splitLongitude=function(e){var t=e.geometry,n=t.boundingSphere;if(c(n)){var i=n.center.x-n.radius;if(i>0||r.intersectPlane(n,T.ORIGIN_ZX_PLANE)!==g.INTERSECTING)return e}if(t.geometryType!==y.NONE)switch(t.geometryType){case y.POLYLINES:te(e);break;case y.TRIANGLES:Q(e);break;case y.LINES:$(e)}else H(t),t.primitiveType===w.TRIANGLES?Q(e):t.primitiveType===w.LINES&&$(e);return e},re}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(4),r(3),r(1),r(2),r(39),r(8),r(5),r(18)],i=function(e,t,r,n,i,o,a,s){"use strict";function u(e,r,n,i){this.x=t(e,0),this.y=t(r,0),this.z=t(n,0),this.w=t(i,0)}var c=new e;u.fromAxisAngle=function(t,n,i){var o=n/2,a=Math.sin(o);c=e.normalize(t,c);var s=c.x*a,l=c.y*a,p=c.z*a,h=Math.cos(o);return r(i)?(i.x=s,i.y=l,i.z=p,i.w=h,i):new u(s,l,p,h)};var l=[1,2,0],p=new Array(3);u.fromRotationMatrix=function(e,t){var n,i,o,a,c,h=e[s.COLUMN0ROW0],m=e[s.COLUMN1ROW1],d=e[s.COLUMN2ROW2],f=h+m+d;if(f>0)n=Math.sqrt(f+1),c=.5*n,n=.5/n,i=(e[s.COLUMN1ROW2]-e[s.COLUMN2ROW1])*n,o=(e[s.COLUMN2ROW0]-e[s.COLUMN0ROW2])*n,a=(e[s.COLUMN0ROW1]-e[s.COLUMN1ROW0])*n;else{var y=l,v=0;m>h&&(v=1),d>h&&d>m&&(v=2);var g=y[v],_=y[g];n=Math.sqrt(e[s.getElementIndex(v,v)]-e[s.getElementIndex(g,g)]-e[s.getElementIndex(_,_)]+1);var E=p;E[v]=.5*n,n=.5/n,c=(e[s.getElementIndex(_,g)]-e[s.getElementIndex(g,_)])*n,E[g]=(e[s.getElementIndex(g,v)]+e[s.getElementIndex(v,g)])*n,E[_]=(e[s.getElementIndex(_,v)]+e[s.getElementIndex(v,_)])*n,i=-E[0],o=-E[1],a=-E[2]}return r(t)?(t.x=i,t.y=o,t.z=a,t.w=c,t):new u(i,o,a,c)};var h=new u;u.fromHeadingPitchRoll=function(t,r,n,i){var o=u.fromAxisAngle(e.UNIT_X,n,h),a=u.fromAxisAngle(e.UNIT_Y,-r,i);i=u.multiply(a,o,a);var s=u.fromAxisAngle(e.UNIT_Z,-t,h);return u.multiply(s,i,i)};var m=new e,d=new e,f=new u,y=new u,v=new u;u.packedLength=4,u.pack=function(e,r,n){return n=t(n,0),r[n++]=e.x,r[n++]=e.y,r[n++]=e.z,r[n]=e.w,r},u.unpack=function(e,n,i){return n=t(n,0),r(i)||(i=new u),i.x=e[n],i.y=e[n+1],i.z=e[n+2],i.w=e[n+3],i},u.packedInterpolationLength=3,u.convertPackedArrayForInterpolation=function(e,t,r,n){u.unpack(e,4*r,v),u.conjugate(v,v);for(var i=0,o=r-t+1;i<o;i++){var a=3*i;u.unpack(e,4*(t+i),f),u.multiply(f,v,f),f.w<0&&u.negate(f,f),u.computeAxis(f,m);var s=u.computeAngle(f);n[a]=m.x*s,n[a+1]=m.y*s,n[a+2]=m.z*s}},u.unpackInterpolationResult=function(t,n,i,o,a){r(a)||(a=new u),e.fromArray(t,0,d);var s=e.magnitude(d);return u.unpack(n,4*o,y),0===s?u.clone(u.IDENTITY,f):u.fromAxisAngle(d,s,f),u.multiply(f,y,a)},u.clone=function(e,t){if(r(e))return r(t)?(t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t):new u(e.x,e.y,e.z,e.w)},u.conjugate=function(e,t){return t.x=-e.x,t.y=-e.y,t.z=-e.z,t.w=e.w,t},u.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y+e.z*e.z+e.w*e.w},u.magnitude=function(e){return Math.sqrt(u.magnitudeSquared(e))},u.normalize=function(e,t){var r=1/u.magnitude(e),n=e.x*r,i=e.y*r,o=e.z*r,a=e.w*r;return t.x=n,t.y=i,t.z=o,t.w=a,t},u.inverse=function(e,t){var r=u.magnitudeSquared(e);return t=u.conjugate(e,t),u.multiplyByScalar(t,1/r,t)},u.add=function(e,t,r){return r.x=e.x+t.x,r.y=e.y+t.y,r.z=e.z+t.z,r.w=e.w+t.w,r},u.subtract=function(e,t,r){return r.x=e.x-t.x,r.y=e.y-t.y,r.z=e.z-t.z,r.w=e.w-t.w,r},u.negate=function(e,t){return t.x=-e.x,t.y=-e.y,t.z=-e.z,t.w=-e.w,t},u.dot=function(e,t){return e.x*t.x+e.y*t.y+e.z*t.z+e.w*t.w},u.multiply=function(e,t,r){var n=e.x,i=e.y,o=e.z,a=e.w,s=t.x,u=t.y,c=t.z,l=t.w,p=a*s+n*l+i*c-o*u,h=a*u-n*c+i*l+o*s,m=a*c+n*u-i*s+o*l,d=a*l-n*s-i*u-o*c;return r.x=p,r.y=h,r.z=m,r.w=d,r},u.multiplyByScalar=function(e,t,r){return r.x=e.x*t,r.y=e.y*t,r.z=e.z*t,r.w=e.w*t,r},u.divideByScalar=function(e,t,r){return r.x=e.x/t,r.y=e.y/t,r.z=e.z/t,r.w=e.w/t,r},u.computeAxis=function(e,t){var r=e.w;if(Math.abs(r-1)<a.EPSILON6)return t.x=t.y=t.z=0,t;var n=1/Math.sqrt(1-r*r);return t.x=e.x*n,t.y=e.y*n,t.z=e.z*n,t},u.computeAngle=function(e){return Math.abs(e.w-1)<a.EPSILON6?0:2*Math.acos(e.w)};var g=new u;u.lerp=function(e,t,r,n){return g=u.multiplyByScalar(t,r,g),n=u.multiplyByScalar(e,1-r,n),u.add(g,n,n)};var _=new u,E=new u,A=new u;u.slerp=function(e,t,r,n){var i=u.dot(e,t),o=t;if(i<0&&(i=-i,o=_=u.negate(t,_)),1-i<a.EPSILON6)return u.lerp(e,o,r,n);var s=Math.acos(i);return E=u.multiplyByScalar(e,Math.sin((1-r)*s),E),A=u.multiplyByScalar(o,Math.sin(r*s),A),n=u.add(E,A,n),u.multiplyByScalar(n,1/Math.sin(s),n)},u.log=function(t,r){var n=a.acosClamped(t.w),i=0;return 0!==n&&(i=n/Math.sin(n)),e.multiplyByScalar(t,i,r)},u.exp=function(t,r){var n=e.magnitude(t),i=0;return 0!==n&&(i=Math.sin(n)/n),r.x=t.x*i,r.y=t.y*i,r.z=t.z*i,r.w=Math.cos(n),r};var x=new e,T=new e,w=new u,S=new u;u.computeInnerQuadrangle=function(t,r,n,i){var o=u.conjugate(r,w);u.multiply(o,n,S);var a=u.log(S,x);u.multiply(o,t,S);var s=u.log(S,T);return e.add(a,s,a),e.multiplyByScalar(a,.25,a),e.negate(a,a),u.exp(a,w),u.multiply(r,w,i)},u.squad=function(e,t,r,n,i,o){var a=u.slerp(e,t,i,w),s=u.slerp(r,n,i,S);return u.slerp(a,s,2*i*(1-i),o)};for(var R=new u,I=1.9011074535173003,N=i.supportsTypedArrays()?new Float32Array(8):[],O=i.supportsTypedArrays()?new Float32Array(8):[],b=i.supportsTypedArrays()?new Float32Array(8):[],M=i.supportsTypedArrays()?new Float32Array(8):[],P=0;P<7;++P){var C=P+1,L=2*C+1;N[P]=1/(C*L),O[P]=C/L}return N[7]=I/136,O[7]=8*I/17,u.fastSlerp=function(e,t,r,n){var i,o=u.dot(e,t);o>=0?i=1:(i=-1,o=-o);for(var a=o-1,s=1-r,c=r*r,l=s*s,p=7;p>=0;--p)b[p]=(N[p]*c-O[p])*a,M[p]=(N[p]*l-O[p])*a;var h=i*r*(1+b[0]*(1+b[1]*(1+b[2]*(1+b[3]*(1+b[4]*(1+b[5]*(1+b[6]*(1+b[7])))))))),m=s*(1+M[0]*(1+M[1]*(1+M[2]*(1+M[3]*(1+M[4]*(1+M[5]*(1+M[6]*(1+M[7])))))))),d=u.multiplyByScalar(e,m,R);return u.multiplyByScalar(t,h,n),u.add(d,n,n)},u.fastSquad=function(e,t,r,n,i,o){var a=u.fastSlerp(e,t,i,w),s=u.fastSlerp(r,n,i,S);return u.fastSlerp(a,s,2*i*(1-i),o)},u.equals=function(e,t){return e===t||r(e)&&r(t)&&e.x===t.x&&e.y===t.y&&e.z===t.z&&e.w===t.w},u.equalsEpsilon=function(e,t,n){return e===t||r(e)&&r(t)&&Math.abs(e.x-t.x)<=n&&Math.abs(e.y-t.y)<=n&&Math.abs(e.z-t.z)<=n&&Math.abs(e.w-t.w)<=n},u.ZERO=o(new u(0,0,0,0)),u.IDENTITY=o(new u(0,0,0,1)),u.prototype.clone=function(e){return u.clone(this,e)},u.prototype.equals=function(e){return u.equals(this,e)},u.prototype.equalsEpsilon=function(e,t){return u.equalsEpsilon(this,e,t)},u.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+", "+this.w+")"},u}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(40),r(8)],i=function(e,t){"use strict";var r={CLOCKWISE:e.CW,COUNTER_CLOCKWISE:e.CCW,validate:function(e){return e===r.CLOCKWISE||e===r.COUNTER_CLOCKWISE}};return t(r)}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(3),r(1),r(2),r(5)],i=function(e,t,r,n){"use strict";function i(r,n,i){if(t(r)){i=e(i,!1);var a=r.length;if(a<2)return r;var s,u,c;for(s=1;s<a&&(u=r[s-1],c=r[s],!n(u,c,o));++s);if(s===a)return i&&n(r[0],r[r.length-1],o)?r.slice(1):r;for(var l=r.slice(0,s);s<a;++s)c=r[s],n(u,c,o)||(l.push(c),u=c);return i&&l.length>1&&n(l[0],l[l.length-1],o)&&l.shift(),l}}var o=n.EPSILON10;return i}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(8)],i=function(e){"use strict";var t={ROUNDED:0,MITERED:1,BEVELED:2};return e(t)}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(4),r(16),r(3),r(1),r(17),r(2),r(6)],i=function(e,t,r,n,i,o,a){"use strict";function s(e){this._ellipsoid=r(e,a.WGS84),this._semimajorAxis=this._ellipsoid.maximumRadius,this._oneOverSemimajorAxis=1/this._semimajorAxis}return i(s.prototype,{ellipsoid:{get:function(){return this._ellipsoid}}}),s.prototype.project=function(t,r){var i=this._semimajorAxis,o=t.longitude*i,a=t.latitude*i,s=t.height;return n(r)?(r.x=o,r.y=a,r.z=s,r):new e(o,a,s)},s.prototype.unproject=function(e,r){var i=this._oneOverSemimajorAxis,o=e.x*i,a=e.y*i,s=e.z;return n(r)?(r.longitude=o,r.latitude=a,r.height=s,r):new t(o,a,s)},s}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n;/**
  @license
  when.js - https-colon-slashslash github.com/cujojs/when

  MIT License (c) copyright B Cavalier & J Hann

 * A lightweight CommonJS Promises/A and when() implementation
 * when is part of the cujo.js family of libraries (http-colon-slashslash cujojs.com/)
 *
 * Licensed under the MIT License at:
 * http-colon-slashslash www.opensource.org/licenses/mit-license.php
 *
 * @version 1.7.1
 */
!function(i){"use strict";n=function(){function e(e,r,n,i){return t(e).then(r,n,i)}function t(e){var t,r;return e instanceof n?t=e:s(e)?(r=a(),e.then(function(e){r.resolve(e)},function(e){r.reject(e)},function(e){r.progress(e)}),t=r.promise):t=i(e),t}function r(t){return e(t,o)}function n(e){this.then=e}function i(e){var r=new n(function(r){try{return t(r?r(e):e)}catch(e){return o(e)}});return r}function o(e){var r=new n(function(r,n){try{return n?t(n(e)):o(e)}catch(e){return o(e)}});return r}function a(){function e(e,t,r){return h(e,t,r)}function r(e){return d(e)}function i(e){return d(o(e))}function s(e){return m(e)}var u,c,l,p,h,m,d;return c=new n(e),u={then:e,resolve:r,reject:i,progress:s,promise:c,resolver:{resolve:r,reject:i,progress:s}},l=[],p=[],h=function(e,t,r){var n,i;return n=a(),i="function"==typeof r?function(e){try{n.progress(r(e))}catch(e){n.progress(e)}}:function(e){n.progress(e)},l.push(function(r){r.then(e,t).then(n.resolve,n.reject,i)}),p.push(i),n.promise},m=function(e){return f(p,e),e},d=function(e){return e=t(e),h=e.then,d=t,m=v,f(l,e),p=l=A,e},u}function s(e){return e&&"function"==typeof e.then}function u(t,r,n,i,o){return y(2,arguments),e(t,function(t){function s(e){f(e)}function u(e){d(e)}var c,l,p,h,m,d,f,y,g,_;if(g=t.length>>>0,c=Math.max(0,Math.min(r,g)),p=[],l=g-c+1,h=[],m=a(),c)for(y=m.progress,f=function(e){h.push(e),--l||(d=f=v,m.reject(h))},d=function(e){p.push(e),--c||(d=f=v,m.resolve(p))},_=0;_<g;++_)_ in t&&e(t[_],u,s,y);else m.resolve(p);return m.then(n,i,o)})}function c(e,t,r,n){function i(e){return t?t(e[0]):e[0]}return u(e,1,i,r,n)}function l(e,t,r,n){return y(1,arguments),h(e,g).then(t,r,n)}function p(){return h(arguments,g)}function h(t,r){return e(t,function(t){var n,i,o,s,u,c;if(o=i=t.length>>>0,n=[],c=a(),o)for(s=function(t,i){e(t,r).then(function(e){n[i]=e,--o||c.resolve(n)},c.reject)},u=0;u<i;u++)u in t?s(t[u],u):--o;else c.resolve(n);return c.promise})}function m(t,r){var n=E.call(arguments,1);return e(t,function(t){var i;return i=t.length,n[0]=function(t,n,o){return e(t,function(t){return e(n,function(e){return r(t,e,o,i)})})},_.apply(t,n)})}function d(t,r,n){var i=arguments.length>2;return e(t,function(e){return e=i?n:e,r.resolve(e),e},function(e){return r.reject(e),o(e)},r.progress)}function f(e,t){for(var r,n=0;r=e[n++];)r(t)}function y(e,t){for(var r,n=t.length;n>e;)if(r=t[--n],null!=r&&"function"!=typeof r)throw new Error("arg "+n+" must be a function")}function v(){}function g(e){return e}var _,E,A;return e.defer=a,e.resolve=t,e.reject=r,e.join=p,e.all=l,e.map=h,e.reduce=m,e.any=c,e.some=u,e.chain=d,e.isPromise=s,n.prototype={always:function(e,t){return this.then(e,e,t)},otherwise:function(e){return this.then(A,e)},yield:function(e){return this.then(function(){return e})},spread:function(e){return this.then(function(t){return l(t,function(t){return e.apply(A,t)})})}},E=[].slice,_=[].reduce||function(e){var t,r,n,i,o;if(o=0,t=Object(this),i=t.length>>>0,r=arguments,r.length<=1)for(;;){if(o in t){n=t[o++];break}if(++o>=i)throw new TypeError}else n=r[1];for(;o<i;++o)o in t&&(n=e(n,t[o],o,t));return n},e}.call(t,r,t,e),!(void 0!==n&&(e.exports=n))}(r(189))},function(e,t,r){var n,i;n=[r(3),r(1),r(2),r(8),r(5)],i=function(e,t,r,n,i){"use strict";function o(t,r,n,i){this.x=e(t,0),this.y=e(r,0),this.z=e(n,0),this.w=e(i,0)}o.fromElements=function(e,r,n,i,a){return t(a)?(a.x=e,a.y=r,a.z=n,a.w=i,a):new o(e,r,n,i)},o.fromColor=function(e,r){return t(r)?(r.x=e.red,r.y=e.green,r.z=e.blue,r.w=e.alpha,r):new o(e.red,e.green,e.blue,e.alpha)},o.clone=function(e,r){if(t(e))return t(r)?(r.x=e.x,r.y=e.y,r.z=e.z,r.w=e.w,r):new o(e.x,e.y,e.z,e.w)},o.packedLength=4,o.pack=function(t,r,n){return n=e(n,0),r[n++]=t.x,r[n++]=t.y,r[n++]=t.z,r[n]=t.w,r},o.unpack=function(r,n,i){return n=e(n,0),t(i)||(i=new o),i.x=r[n++],i.y=r[n++],i.z=r[n++],i.w=r[n],i},o.packArray=function(e,r){var n=e.length;t(r)?r.length=4*n:r=new Array(4*n);for(var i=0;i<n;++i)o.pack(e[i],r,4*i);return r},o.unpackArray=function(e,r){var n=e.length;t(r)?r.length=n/4:r=new Array(n/4);for(var i=0;i<n;i+=4){var a=i/4;r[a]=o.unpack(e,i,r[a])}return r},o.fromArray=o.unpack,o.maximumComponent=function(e){return Math.max(e.x,e.y,e.z,e.w)},o.minimumComponent=function(e){return Math.min(e.x,e.y,e.z,e.w)},o.minimumByComponent=function(e,t,r){return r.x=Math.min(e.x,t.x),r.y=Math.min(e.y,t.y),r.z=Math.min(e.z,t.z),r.w=Math.min(e.w,t.w),r},o.maximumByComponent=function(e,t,r){return r.x=Math.max(e.x,t.x),r.y=Math.max(e.y,t.y),r.z=Math.max(e.z,t.z),r.w=Math.max(e.w,t.w),r},o.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y+e.z*e.z+e.w*e.w},o.magnitude=function(e){return Math.sqrt(o.magnitudeSquared(e))};var a=new o;o.distance=function(e,t){return o.subtract(e,t,a),o.magnitude(a)},o.distanceSquared=function(e,t){return o.subtract(e,t,a),o.magnitudeSquared(a)},o.normalize=function(e,t){var r=o.magnitude(e);return t.x=e.x/r,t.y=e.y/r,t.z=e.z/r,t.w=e.w/r,t},o.dot=function(e,t){return e.x*t.x+e.y*t.y+e.z*t.z+e.w*t.w},o.multiplyComponents=function(e,t,r){return r.x=e.x*t.x,r.y=e.y*t.y,r.z=e.z*t.z,r.w=e.w*t.w,r},o.add=function(e,t,r){return r.x=e.x+t.x,r.y=e.y+t.y,r.z=e.z+t.z,r.w=e.w+t.w,r},o.subtract=function(e,t,r){return r.x=e.x-t.x,r.y=e.y-t.y,r.z=e.z-t.z,r.w=e.w-t.w,r},o.multiplyByScalar=function(e,t,r){return r.x=e.x*t,r.y=e.y*t,r.z=e.z*t,r.w=e.w*t,r},o.divideByScalar=function(e,t,r){return r.x=e.x/t,r.y=e.y/t,r.z=e.z/t,r.w=e.w/t,r},o.negate=function(e,t){return t.x=-e.x,t.y=-e.y,t.z=-e.z,t.w=-e.w,t},o.abs=function(e,t){return t.x=Math.abs(e.x),t.y=Math.abs(e.y),t.z=Math.abs(e.z),t.w=Math.abs(e.w),t};var s=new o;o.lerp=function(e,t,r,n){return o.multiplyByScalar(t,r,s),n=o.multiplyByScalar(e,1-r,n),o.add(s,n,n)};var u=new o;return o.mostOrthogonalAxis=function(e,t){var r=o.normalize(e,u);return o.abs(r,r),t=r.x<=r.y?r.x<=r.z?r.x<=r.w?o.clone(o.UNIT_X,t):o.clone(o.UNIT_W,t):r.z<=r.w?o.clone(o.UNIT_Z,t):o.clone(o.UNIT_W,t):r.y<=r.z?r.y<=r.w?o.clone(o.UNIT_Y,t):o.clone(o.UNIT_W,t):r.z<=r.w?o.clone(o.UNIT_Z,t):o.clone(o.UNIT_W,t)},o.equals=function(e,r){return e===r||t(e)&&t(r)&&e.x===r.x&&e.y===r.y&&e.z===r.z&&e.w===r.w},o.equalsArray=function(e,t,r){return e.x===t[r]&&e.y===t[r+1]&&e.z===t[r+2]&&e.w===t[r+3]},o.equalsEpsilon=function(e,r,n,o){return e===r||t(e)&&t(r)&&i.equalsEpsilon(e.x,r.x,n,o)&&i.equalsEpsilon(e.y,r.y,n,o)&&i.equalsEpsilon(e.z,r.z,n,o)&&i.equalsEpsilon(e.w,r.w,n,o)},o.ZERO=n(new o(0,0,0,0)),o.UNIT_X=n(new o(1,0,0,0)),o.UNIT_Y=n(new o(0,1,0,0)),o.UNIT_Z=n(new o(0,0,1,0)),o.UNIT_W=n(new o(0,0,0,1)),o.prototype.clone=function(e){return o.clone(this,e)},o.prototype.equals=function(e){return o.equals(this,e)},o.prototype.equalsEpsilon=function(e,t,r){return o.equalsEpsilon(this,e,t,r)},o.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+", "+this.w+")"},o}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(3),r(1),r(2),r(20)],i=function(e,t,r,n){"use strict";function i(t){t=e(t,e.EMPTY_OBJECT),this.geometry=t.geometry,this.modelMatrix=n.clone(e(t.modelMatrix,n.IDENTITY)),this.id=t.id,this.pickPrimitive=t.pickPrimitive,this.attributes=e(t.attributes,{}),this.westHemisphereGeometry=void 0,this.eastHemisphereGeometry=void 0}return i}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(8)],i=function(e){"use strict";var t={OUTSIDE:-1,INTERSECTING:0,INSIDE:1};return e(t)}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(4),r(1),r(2),r(8)],i=function(e,t,r,n){"use strict";function i(t,r){this.normal=e.clone(t),this.distance=r}i.fromPointNormal=function(r,n,o){var a=-e.dot(n,r);return t(o)?(e.clone(n,o.normal),o.distance=a,o):new i(n,a)};var o=new e;return i.fromCartesian4=function(r,n){var a=e.fromCartesian4(r,o),s=r.w;return t(n)?(e.clone(a,n.normal),n.distance=s,n):new i(a,s)},i.getPointDistance=function(t,r){return e.dot(t.normal,r)+t.distance},i.ORIGIN_XY_PLANE=n(new i(e.UNIT_Z,0)),i.ORIGIN_YZ_PLANE=n(new i(e.UNIT_X,0)),i.ORIGIN_ZX_PLANE=n(new i(e.UNIT_Y,0)),i}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(4),r(16),r(3),r(1),r(2),r(6),r(151),r(46),r(106),r(5),r(20),r(35)],i=function(e,t,r,n,i,o,a,s,u,c,l,p){"use strict";function h(e,t,r){var n=w;n.length=e;var i;if(t===r){for(i=0;i<e;i++)n[i]=t;return n}var o=r-t,a=o/e;for(i=0;i<e;i++){var s=t+i*a;n[i]=s}return n}function m(t,r,n,i,o,a,s,u){var c=i.scaleToGeodeticSurface(t,N),l=i.scaleToGeodeticSurface(r,O),p=d.numberOfPoints(t,r,n),m=i.cartesianToCartographic(c,S),f=i.cartesianToCartographic(l,R),y=h(p,o,a);b.setEndPoints(m,f);var v=b.surfaceDistance/p,g=u;m.height=o;var _=i.cartographicToCartesian(m,I);e.pack(_,s,g),g+=3;for(var E=1;E<p;E++){var A=b.interpolateUsingSurfaceDistance(E*v,R);A.height=y[E],_=i.cartographicToCartesian(A,I),e.pack(_,s,g),g+=3}return g}var d={};d.numberOfPoints=function(t,r,n){var i=e.distance(t,r);return Math.ceil(i/n)};var f=new t;d.extractHeights=function(e,t){for(var r=e.length,n=new Array(r),i=0;i<r;i++){var o=e[i];n[i]=t.cartesianToCartographic(o,f).height}return n};var y=new l,v=new e,g=new e,_=new p(e.ZERO,0),E=new e,A=new p(e.ZERO,0),x=new e,T=new e,w=[],S=new t,R=new t,I=new e,N=new e,O=new e,b=new a;return d.wrapLongitude=function(t,i){var o=[],a=[];if(n(t)&&t.length>0){i=r(i,l.IDENTITY);var u=l.inverseTransformation(i,y),c=l.multiplyByPoint(u,e.ZERO,v),h=l.multiplyByPointAsVector(u,e.UNIT_Y,g),m=p.fromPointNormal(c,h,_),d=l.multiplyByPointAsVector(u,e.UNIT_X,E),f=p.fromPointNormal(c,d,A),w=1;o.push(e.clone(t[0]));for(var S=o[0],R=t.length,I=1;I<R;++I){var N=t[I];if(p.getPointDistance(f,S)<0||p.getPointDistance(f,N)<0){var O=s.lineSegmentPlane(S,N,m,x);if(n(O)){var b=e.multiplyByScalar(h,5e-9,T);p.getPointDistance(m,S)<0&&e.negate(b,b),o.push(e.add(O,b,new e)),a.push(w+1),e.negate(b,b),o.push(e.add(O,b,new e)),w=1}}o.push(e.clone(t[I])),w++,S=N}a.push(w)}return{positions:o,lengths:a}},d.generateArc=function(t){n(t)||(t={});var i=t.positions,a=i.length,s=r(t.ellipsoid,o.WGS84),l=r(t.height,0),p=u(l);if(a<1)return[];if(1===a){var h=s.scaleToGeodeticSurface(i[0],N);if(l=p?l[0]:l,0!==l){var f=s.geodeticSurfaceNormal(h,I);e.multiplyByScalar(f,l,f),e.add(h,f,h)}return[h.x,h.y,h.z]}var y=t.minDistance;if(!n(y)){var v=r(t.granularity,c.RADIANS_PER_DEGREE);y=c.chordLength(v,s.maximumRadius)}var g,_=0;for(g=0;g<a-1;g++)_+=d.numberOfPoints(i[g],i[g+1],y);var E=3*(_+1),A=new Array(E),x=0;for(g=0;g<a-1;g++){var T=i[g],R=i[g+1],O=p?l[g]:l,b=p?l[g+1]:l;x=m(T,R,y,s,O,b,A,x)}w.length=0;var M=i[a-1],P=s.cartesianToCartographic(M,S);P.height=p?l[a-1]:l;var C=s.cartographicToCartesian(P,I);return e.pack(C,A,E-3),A},d.generateCartesianArc=function(t){for(var r=d.generateArc(t),n=r.length/3,i=new Array(n),o=0;o<n;o++)i[o]=e.unpack(r,3*o);return i},d}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(31),r(13),r(4),r(32),r(16),r(3),r(1),r(2),r(150),r(89),r(6),r(156),r(96),r(47),r(5),r(18),r(20),r(26),r(54)],i=function(e,t,r,n,i,o,a,s,u,c,l,p,h,m,d,f,y,v,g){"use strict";var _={},E=new r,A=new r,x=new r;_.eastNorthUpToFixedFrame=function(e,t,n){if(d.equalsEpsilon(e.x,0,d.EPSILON14)&&d.equalsEpsilon(e.y,0,d.EPSILON14)){var i=d.sign(e.z);return a(n)?(n[0]=0,n[1]=1,n[2]=0,n[3]=0,n[4]=-i,n[5]=0,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=i,n[11]=0,n[12]=e.x,n[13]=e.y,n[14]=e.z,n[15]=1,n):new y(0,-i,0,e.x,1,0,0,e.y,0,0,i,e.z,0,0,0,1)}var s=E,u=A,c=x;return t=o(t,l.WGS84),t.geodeticSurfaceNormal(e,s),u.x=-e.y,u.y=e.x,u.z=0,r.normalize(u,u),r.cross(s,u,c),a(n)?(n[0]=u.x,n[1]=u.y,n[2]=u.z,n[3]=0,n[4]=c.x,n[5]=c.y,n[6]=c.z,n[7]=0,n[8]=s.x,n[9]=s.y,n[10]=s.z,n[11]=0,n[12]=e.x,n[13]=e.y,n[14]=e.z,n[15]=1,n):new y(u.x,c.x,s.x,e.x,u.y,c.y,s.y,e.y,u.z,c.z,s.z,e.z,0,0,0,1)};var T=new r,w=new r,S=new r;_.northEastDownToFixedFrame=function(e,t,n){if(d.equalsEpsilon(e.x,0,d.EPSILON14)&&d.equalsEpsilon(e.y,0,d.EPSILON14)){var i=d.sign(e.z);return a(n)?(n[0]=-i,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=-i,n[11]=0,n[12]=e.x,n[13]=e.y,n[14]=e.z,n[15]=1,n):new y(-i,0,0,e.x,0,1,0,e.y,0,0,-i,e.z,0,0,0,1)}var s=T,u=w,c=S;return t=o(t,l.WGS84),t.geodeticSurfaceNormal(e,s),u.x=-e.y,u.y=e.x,u.z=0,r.normalize(u,u),r.cross(s,u,c),a(n)?(n[0]=c.x,n[1]=c.y,n[2]=c.z,n[3]=0,n[4]=u.x,n[5]=u.y,n[6]=u.z,n[7]=0,n[8]=-s.x,n[9]=-s.y,n[10]=-s.z,n[11]=0,n[12]=e.x,n[13]=e.y,n[14]=e.z,n[15]=1,n):new y(c.x,u.x,-s.x,e.x,c.y,u.y,-s.y,e.y,c.z,u.z,-s.z,e.z,0,0,0,1)},_.northUpEastToFixedFrame=function(e,t,n){if(d.equalsEpsilon(e.x,0,d.EPSILON14)&&d.equalsEpsilon(e.y,0,d.EPSILON14)){var i=d.sign(e.z);return a(n)?(n[0]=-i,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=0,n[6]=i,n[7]=0,n[8]=0,n[9]=1,n[10]=0,n[11]=0,n[12]=e.x,n[13]=e.y,n[14]=e.z,n[15]=1,n):new y(-i,0,0,e.x,0,0,1,e.y,0,i,0,e.z,0,0,0,1)}var s=E,u=A,c=x;return t=o(t,l.WGS84),t.geodeticSurfaceNormal(e,s),u.x=-e.y,u.y=e.x,u.z=0,r.normalize(u,u),r.cross(s,u,c),a(n)?(n[0]=c.x,n[1]=c.y,n[2]=c.z,n[3]=0,n[4]=s.x,n[5]=s.y,n[6]=s.z,n[7]=0,n[8]=u.x,n[9]=u.y,n[10]=u.z,n[11]=0,n[12]=e.x,n[13]=e.y,n[14]=e.z,n[15]=1,n):new y(c.x,s.x,u.x,e.x,c.y,s.y,u.y,e.y,c.z,s.z,u.z,e.z,0,0,0,1)};var R=new v,I=new r(1,1,1),N=new y;_.headingPitchRollToFixedFrame=function(e,t,n,i,o,a){var s=v.fromHeadingPitchRoll(t,n,i,R),u=y.fromTranslationQuaternionRotationScale(r.ZERO,s,I,N);return a=_.eastNorthUpToFixedFrame(e,o,a),y.multiply(a,u,a)},_.aircraftHeadingPitchRollToFixedFrame=function(e,t,n,i,o,a){var s=v.fromHeadingPitchRoll(t,n,i,R),u=y.fromTranslationQuaternionRotationScale(r.ZERO,s,I,N);return a=_.northEastDownToFixedFrame(e,o,a),y.multiply(a,u,a)};var O=new y,b=new f;_.headingPitchRollQuaternion=function(e,t,r,n,i,o){var a=_.headingPitchRollToFixedFrame(e,t,r,n,i,O),s=y.getRotation(a,b);return v.fromRotationMatrix(s,o)},_.aircraftHeadingPitchRollQuaternion=function(e,t,r,n,i,o){var a=_.aircraftHeadingPitchRollToFixedFrame(e,t,r,n,i,O),s=y.getRotation(a,b);return v.fromRotationMatrix(s,o)};var M=24110.54841,P=8640184.812866,C=.093104,L=-62e-7,F=1.1772758384668e-19,D=72921158553e-15,U=d.TWO_PI/86400,B=new m;_.computeTemeToPseudoFixedMatrix=function(e,t){B=m.addSeconds(e,-m.computeTaiMinusUtc(e),B);var r,n=B.dayNumber,i=B.secondsOfDay,o=n-2451545;r=i>=43200?(o+.5)/g.DAYS_PER_JULIAN_CENTURY:(o-.5)/g.DAYS_PER_JULIAN_CENTURY;var s=M+r*(P+r*(C+r*L)),u=s*U%d.TWO_PI,c=D+F*(n-2451545.5),l=(i+.5*g.SECONDS_PER_DAY)%g.SECONDS_PER_DAY,p=u+c*l,h=Math.cos(p),y=Math.sin(p);return a(t)?(t[0]=h,t[1]=-y,t[2]=0,t[3]=y,t[4]=h,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t):new f(h,y,0,-y,h,0,0,0,1)},_.iau2006XysData=new p,_.earthOrientationParameters=u.NONE;var z=32.184,G=2451545;_.preloadIcrfFixed=function(t){var r=t.start.dayNumber,n=t.start.secondsOfDay+z,i=t.stop.dayNumber,o=t.stop.secondsOfDay+z,a=_.iau2006XysData.preload(r,n,i,o),s=_.earthOrientationParameters.getPromiseToLoad();return e.all([a,s])},_.computeIcrfToFixedMatrix=function(e,t){a(t)||(t=new f);var r=_.computeFixedToIcrfMatrix(e,t);if(a(r))return f.transpose(r,t)};var k=new h(0,0,0),H=new c(0,0,0,0,0,0),V=new f,q=new f;_.computeFixedToIcrfMatrix=function(e,t){a(t)||(t=new f);var r=_.earthOrientationParameters.compute(e,H);if(a(r)){var n=e.dayNumber,i=e.secondsOfDay+z,o=_.iau2006XysData.computeXysRadians(n,i,k);if(a(o)){var s=o.x+r.xPoleOffset,u=o.y+r.yPoleOffset,c=1/(1+Math.sqrt(1-s*s-u*u)),l=V;l[0]=1-c*s*s,l[3]=-c*s*u,l[6]=s,l[1]=-c*s*u,l[4]=1-c*u*u,l[7]=u,l[2]=-s,l[5]=-u,l[8]=1-c*(s*s+u*u);var p=f.fromRotationZ(-o.s,q),h=f.multiply(l,p,V),y=e.dayNumber,v=e.secondsOfDay-m.computeTaiMinusUtc(e)+r.ut1MinusUtc,E=y-2451545,A=v/g.SECONDS_PER_DAY,x=.779057273264+A+.00273781191135448*(E+A);x=x%1*d.TWO_PI;var T=f.fromRotationZ(x,q),w=f.multiply(h,T,V),S=Math.cos(r.xPoleWander),R=Math.cos(r.yPoleWander),I=Math.sin(r.xPoleWander),N=Math.sin(r.yPoleWander),O=n-G+i/g.SECONDS_PER_DAY;O/=36525;var b=-47e-6*O*d.RADIANS_PER_DEGREE/3600,M=Math.cos(b),P=Math.sin(b),C=q;return C[0]=S*M,C[1]=S*P,C[2]=I,C[3]=-R*P+N*I*M,C[4]=R*M+N*I*P,C[5]=-N*S,C[6]=-N*P-R*I*M,C[7]=N*M-R*I*P,C[8]=R*S,f.multiply(w,C,t)}}};var W=new n;_.pointToWindowCoordinates=function(e,t,r,n){return n=_.pointToGLWindowCoordinates(e,t,r,n),n.y=2*t[5]-n.y,n},_.pointToGLWindowCoordinates=function(e,r,i,o){a(o)||(o=new t);var s=W;return y.multiplyByVector(e,n.fromElements(i.x,i.y,i.z,1,s),s),n.multiplyByScalar(s,1/s.w,s),y.multiplyByVector(r,s,s),t.fromCartesian4(s,o)};var Y=new r,j=new r,X=new r;_.rotationMatrixFromPositionVelocity=function(e,t,n,i){var s=o(n,l.WGS84).geodeticSurfaceNormal(e,Y),u=r.cross(t,s,j);r.equalsEpsilon(u,r.ZERO,d.EPSILON6)&&(u=r.clone(r.UNIT_X,u));var c=r.cross(u,t,X);return r.cross(t,c,u),r.negate(u,u),a(i)||(i=new f),i[0]=t.x,i[1]=t.y,i[2]=t.z,i[3]=u.x,i[4]=u.y,i[5]=u.z,i[6]=c.x,i[7]=c.y,i[8]=c.z,i};var Z=new i,K=new r,J=new r,Q=new n,$=new n,ee=new n,te=new n,re=new n,ne=new y,ie=new y;return _.basisTo2D=function(e,t,i){var o=e.ellipsoid,a=y.getColumn(t,3,Q),s=o.cartesianToCartographic(a,Z),u=_.eastNorthUpToFixedFrame(a,o,ne),c=y.inverseTransformation(u,ie),l=e.project(s,K),p=$;p.x=l.z,p.y=l.x,p.z=l.y,p.w=1;var h=y.getColumn(t,0,J),m=r.magnitude(h),d=y.multiplyByVector(c,h,ee);n.fromElements(d.z,d.x,d.y,0,d);var f=y.getColumn(t,1,J),v=r.magnitude(f),g=y.multiplyByVector(c,f,te);n.fromElements(g.z,g.x,g.y,0,g);var E=y.getColumn(t,2,J),A=r.magnitude(E),x=re;return r.cross(d,g,x),r.normalize(x,x),r.cross(g,x,d),r.normalize(d,d),r.cross(x,d,g),r.normalize(g,g),r.multiplyByScalar(d,m,d),r.multiplyByScalar(g,v,g),r.multiplyByScalar(x,A,x),y.setColumn(i,0,d,i),y.setColumn(i,1,g,i),y.setColumn(i,2,x,i),y.setColumn(i,3,p,i),i},_}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(13),r(4),r(3),r(1),r(2),r(5)],i=function(e,t,r,n,i,o){"use strict";var a={};a.octEncodeInRange=function(e,t,r){if(r.x=e.x/(Math.abs(e.x)+Math.abs(e.y)+Math.abs(e.z)),r.y=e.y/(Math.abs(e.x)+Math.abs(e.y)+Math.abs(e.z)),e.z<0){var n=r.x,i=r.y;r.x=(1-Math.abs(i))*o.signNotZero(n),r.y=(1-Math.abs(n))*o.signNotZero(i)}return r.x=o.toSNorm(r.x,t),r.y=o.toSNorm(r.y,t),r},a.octEncode=function(e,t){return a.octEncodeInRange(e,255,t)},a.octDecodeInRange=function(e,r,n,i){if(i.x=o.fromSNorm(e,n),i.y=o.fromSNorm(r,n),i.z=1-(Math.abs(i.x)+Math.abs(i.y)),i.z<0){var a=i.x;i.x=(1-Math.abs(i.y))*o.signNotZero(a),i.y=(1-Math.abs(a))*o.signNotZero(i.y)}return t.normalize(i,i)},a.octDecode=function(e,t,r){return a.octDecodeInRange(e,t,255,r)},a.octPackFloat=function(e){return 256*e.x+e.y};var s=new e;return a.octEncodeFloat=function(e){return a.octEncode(e,s),a.octPackFloat(s)},a.octDecodeFloat=function(e,t){var r=e/256,n=Math.floor(r),i=256*(r-n);return a.octDecode(n,i,t)},a.octPack=function(e,t,r,n){var i=a.octEncodeFloat(e),o=a.octEncodeFloat(t),u=a.octEncode(r,s);return n.x=65536*u.x+i,n.y=65536*u.y+o,n},a.octUnpack=function(e,t,r,n){var i=e.x/65536,o=Math.floor(i),s=65536*(i-o);i=e.y/65536;var u=Math.floor(i),c=65536*(i-u);a.octDecodeFloat(s,t),a.octDecodeFloat(c,r),a.octDecode(o,u,n)},a.compressTextureCoordinates=function(e){var t=1===e.x?4095:4096*e.x|0,r=1===e.y?4095:4096*e.y|0;return 4096*t+r},a.decompressTextureCoordinates=function(e,t){var r=e/4096;return t.x=Math.floor(r)/4096,t.y=r-Math.floor(r),t},a}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(3),r(1),r(153)],i=function(e,t,r){"use strict";function n(e){for(var t=e.split("."),r=0,n=t.length;r<n;++r)t[r]=parseInt(t[r],10);return t}function i(){if(!t(_)){_=!1;var e=/ Chrome\/([\.0-9]+)/.exec(g.userAgent);null!==e&&(_=!0,E=n(e[1]))}return _}function o(){return i()&&E}function a(){if(!t(A)&&(A=!1,!i()&&/ Safari\/[\.0-9]+/.test(g.userAgent))){var e=/ Version\/([\.0-9]+)/.exec(g.userAgent);null!==e&&(A=!0,x=n(e[1]))}return A}function s(){return a()&&x}function u(){if(!t(T)){T=!1;var e=/ AppleWebKit\/([\.0-9]+)(\+?)/.exec(g.userAgent);null!==e&&(T=!0,w=n(e[1]),w.isNightly=!!e[2])}return T}function c(){return u()&&w}function l(){if(!t(S)){S=!1;var e;"Microsoft Internet Explorer"===g.appName?(e=/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(g.userAgent),null!==e&&(S=!0,R=n(e[1]))):"Netscape"===g.appName&&(e=/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(g.userAgent),null!==e&&(S=!0,R=n(e[1])))}return S}function p(){return l()&&R}function h(){if(!t(I)){I=!1;var e=/Firefox\/([\.0-9]+)/.exec(g.userAgent);null!==e&&(I=!0,N=n(e[1]))}return I}function m(){return t(O)||(O=/Windows/i.test(g.appVersion)),O}function d(){return h()&&N}function f(){return t(b)||(b="undefined"!=typeof PointerEvent&&(!t(g.pointerEnabled)||g.pointerEnabled)),b}function y(){if(!t(P)){var e=document.createElement("canvas");e.setAttribute("style","image-rendering: -moz-crisp-edges;image-rendering: pixelated;");var r=e.style.imageRendering;P=t(r)&&""!==r,P&&(M=r)}return P}function v(){return y()?M:void 0}var g;g="undefined"!=typeof navigator?navigator:{};var _,E,A,x,T,w,S,R,I,N,O,b,M,P,C={isChrome:i,chromeVersion:o,isSafari:a,safariVersion:s,isWebkit:u,webkitVersion:c,isInternetExplorer:l,internetExplorerVersion:p,isFirefox:h,firefoxVersion:d,isWindows:m,hardwareConcurrency:e(g.hardwareConcurrency,3),supportsPointerEvents:f,supportsImageRenderingPixelated:y,imageRenderingValue:v};return C.supportsFullscreen=function(){return r.supportsFullscreen()},C.supportsTypedArrays=function(){return"undefined"!=typeof ArrayBuffer},C.supportsWebWorkers=function(){return"undefined"!=typeof Worker},C}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(8)],i=function(e){"use strict";var t={DEPTH_BUFFER_BIT:256,STENCIL_BUFFER_BIT:1024,COLOR_BUFFER_BIT:16384,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,ZERO:0,ONE:1,SRC_COLOR:768,ONE_MINUS_SRC_COLOR:769,SRC_ALPHA:770,ONE_MINUS_SRC_ALPHA:771,DST_ALPHA:772,ONE_MINUS_DST_ALPHA:773,DST_COLOR:774,ONE_MINUS_DST_COLOR:775,SRC_ALPHA_SATURATE:776,FUNC_ADD:32774,BLEND_EQUATION:32777,BLEND_EQUATION_RGB:32777,BLEND_EQUATION_ALPHA:34877,FUNC_SUBTRACT:32778,FUNC_REVERSE_SUBTRACT:32779,BLEND_DST_RGB:32968,BLEND_SRC_RGB:32969,BLEND_DST_ALPHA:32970,BLEND_SRC_ALPHA:32971,CONSTANT_COLOR:32769,ONE_MINUS_CONSTANT_COLOR:32770,CONSTANT_ALPHA:32771,ONE_MINUS_CONSTANT_ALPHA:32772,BLEND_COLOR:32773,ARRAY_BUFFER:34962,ELEMENT_ARRAY_BUFFER:34963,ARRAY_BUFFER_BINDING:34964,ELEMENT_ARRAY_BUFFER_BINDING:34965,STREAM_DRAW:35040,STATIC_DRAW:35044,DYNAMIC_DRAW:35048,BUFFER_SIZE:34660,BUFFER_USAGE:34661,CURRENT_VERTEX_ATTRIB:34342,FRONT:1028,BACK:1029,FRONT_AND_BACK:1032,CULL_FACE:2884,BLEND:3042,DITHER:3024,STENCIL_TEST:2960,DEPTH_TEST:2929,SCISSOR_TEST:3089,POLYGON_OFFSET_FILL:32823,SAMPLE_ALPHA_TO_COVERAGE:32926,SAMPLE_COVERAGE:32928,NO_ERROR:0,INVALID_ENUM:1280,INVALID_VALUE:1281,INVALID_OPERATION:1282,OUT_OF_MEMORY:1285,CW:2304,CCW:2305,LINE_WIDTH:2849,ALIASED_POINT_SIZE_RANGE:33901,ALIASED_LINE_WIDTH_RANGE:33902,CULL_FACE_MODE:2885,FRONT_FACE:2886,DEPTH_RANGE:2928,DEPTH_WRITEMASK:2930,DEPTH_CLEAR_VALUE:2931,DEPTH_FUNC:2932,STENCIL_CLEAR_VALUE:2961,STENCIL_FUNC:2962,STENCIL_FAIL:2964,STENCIL_PASS_DEPTH_FAIL:2965,STENCIL_PASS_DEPTH_PASS:2966,STENCIL_REF:2967,STENCIL_VALUE_MASK:2963,STENCIL_WRITEMASK:2968,STENCIL_BACK_FUNC:34816,STENCIL_BACK_FAIL:34817,STENCIL_BACK_PASS_DEPTH_FAIL:34818,STENCIL_BACK_PASS_DEPTH_PASS:34819,STENCIL_BACK_REF:36003,STENCIL_BACK_VALUE_MASK:36004,STENCIL_BACK_WRITEMASK:36005,VIEWPORT:2978,SCISSOR_BOX:3088,COLOR_CLEAR_VALUE:3106,COLOR_WRITEMASK:3107,UNPACK_ALIGNMENT:3317,PACK_ALIGNMENT:3333,MAX_TEXTURE_SIZE:3379,MAX_VIEWPORT_DIMS:3386,SUBPIXEL_BITS:3408,RED_BITS:3410,GREEN_BITS:3411,BLUE_BITS:3412,ALPHA_BITS:3413,DEPTH_BITS:3414,STENCIL_BITS:3415,POLYGON_OFFSET_UNITS:10752,POLYGON_OFFSET_FACTOR:32824,TEXTURE_BINDING_2D:32873,SAMPLE_BUFFERS:32936,SAMPLES:32937,SAMPLE_COVERAGE_VALUE:32938,SAMPLE_COVERAGE_INVERT:32939,COMPRESSED_TEXTURE_FORMATS:34467,DONT_CARE:4352,FASTEST:4353,NICEST:4354,GENERATE_MIPMAP_HINT:33170,BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,INT:5124,UNSIGNED_INT:5125,FLOAT:5126,DEPTH_COMPONENT:6402,ALPHA:6406,RGB:6407,RGBA:6408,LUMINANCE:6409,LUMINANCE_ALPHA:6410,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,UNSIGNED_SHORT_5_6_5:33635,FRAGMENT_SHADER:35632,VERTEX_SHADER:35633,MAX_VERTEX_ATTRIBS:34921,MAX_VERTEX_UNIFORM_VECTORS:36347,MAX_VARYING_VECTORS:36348,MAX_COMBINED_TEXTURE_IMAGE_UNITS:35661,MAX_VERTEX_TEXTURE_IMAGE_UNITS:35660,MAX_TEXTURE_IMAGE_UNITS:34930,MAX_FRAGMENT_UNIFORM_VECTORS:36349,SHADER_TYPE:35663,DELETE_STATUS:35712,LINK_STATUS:35714,VALIDATE_STATUS:35715,ATTACHED_SHADERS:35717,ACTIVE_UNIFORMS:35718,ACTIVE_ATTRIBUTES:35721,SHADING_LANGUAGE_VERSION:35724,CURRENT_PROGRAM:35725,NEVER:512,LESS:513,EQUAL:514,LEQUAL:515,GREATER:516,NOTEQUAL:517,GEQUAL:518,ALWAYS:519,KEEP:7680,REPLACE:7681,INCR:7682,DECR:7683,INVERT:5386,INCR_WRAP:34055,DECR_WRAP:34056,VENDOR:7936,RENDERER:7937,VERSION:7938,NEAREST:9728,LINEAR:9729,NEAREST_MIPMAP_NEAREST:9984,LINEAR_MIPMAP_NEAREST:9985,NEAREST_MIPMAP_LINEAR:9986,LINEAR_MIPMAP_LINEAR:9987,TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,TEXTURE_2D:3553,TEXTURE:5890,TEXTURE_CUBE_MAP:34067,TEXTURE_BINDING_CUBE_MAP:34068,TEXTURE_CUBE_MAP_POSITIVE_X:34069,TEXTURE_CUBE_MAP_NEGATIVE_X:34070,TEXTURE_CUBE_MAP_POSITIVE_Y:34071,TEXTURE_CUBE_MAP_NEGATIVE_Y:34072,TEXTURE_CUBE_MAP_POSITIVE_Z:34073,TEXTURE_CUBE_MAP_NEGATIVE_Z:34074,MAX_CUBE_MAP_TEXTURE_SIZE:34076,TEXTURE0:33984,TEXTURE1:33985,TEXTURE2:33986,TEXTURE3:33987,TEXTURE4:33988,TEXTURE5:33989,TEXTURE6:33990,TEXTURE7:33991,TEXTURE8:33992,TEXTURE9:33993,TEXTURE10:33994,TEXTURE11:33995,TEXTURE12:33996,TEXTURE13:33997,TEXTURE14:33998,TEXTURE15:33999,TEXTURE16:34e3,TEXTURE17:34001,TEXTURE18:34002,TEXTURE19:34003,TEXTURE20:34004,TEXTURE21:34005,TEXTURE22:34006,TEXTURE23:34007,TEXTURE24:34008,TEXTURE25:34009,TEXTURE26:34010,TEXTURE27:34011,TEXTURE28:34012,TEXTURE29:34013,TEXTURE30:34014,TEXTURE31:34015,ACTIVE_TEXTURE:34016,REPEAT:10497,CLAMP_TO_EDGE:33071,MIRRORED_REPEAT:33648,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,INT_VEC2:35667,INT_VEC3:35668,INT_VEC4:35669,BOOL:35670,BOOL_VEC2:35671,BOOL_VEC3:35672,BOOL_VEC4:35673,FLOAT_MAT2:35674,FLOAT_MAT3:35675,FLOAT_MAT4:35676,SAMPLER_2D:35678,SAMPLER_CUBE:35680,VERTEX_ATTRIB_ARRAY_ENABLED:34338,VERTEX_ATTRIB_ARRAY_SIZE:34339,VERTEX_ATTRIB_ARRAY_STRIDE:34340,VERTEX_ATTRIB_ARRAY_TYPE:34341,VERTEX_ATTRIB_ARRAY_NORMALIZED:34922,VERTEX_ATTRIB_ARRAY_POINTER:34373,VERTEX_ATTRIB_ARRAY_BUFFER_BINDING:34975,IMPLEMENTATION_COLOR_READ_TYPE:35738,IMPLEMENTATION_COLOR_READ_FORMAT:35739,COMPILE_STATUS:35713,LOW_FLOAT:36336,MEDIUM_FLOAT:36337,HIGH_FLOAT:36338,LOW_INT:36339,MEDIUM_INT:36340,HIGH_INT:36341,FRAMEBUFFER:36160,RENDERBUFFER:36161,RGBA4:32854,RGB5_A1:32855,RGB565:36194,DEPTH_COMPONENT16:33189,STENCIL_INDEX:6401,STENCIL_INDEX8:36168,DEPTH_STENCIL:34041,RENDERBUFFER_WIDTH:36162,RENDERBUFFER_HEIGHT:36163,RENDERBUFFER_INTERNAL_FORMAT:36164,RENDERBUFFER_RED_SIZE:36176,RENDERBUFFER_GREEN_SIZE:36177,RENDERBUFFER_BLUE_SIZE:36178,RENDERBUFFER_ALPHA_SIZE:36179,RENDERBUFFER_DEPTH_SIZE:36180,RENDERBUFFER_STENCIL_SIZE:36181,FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE:36048,FRAMEBUFFER_ATTACHMENT_OBJECT_NAME:36049,FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL:36050,FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE:36051,COLOR_ATTACHMENT0:36064,DEPTH_ATTACHMENT:36096,STENCIL_ATTACHMENT:36128,DEPTH_STENCIL_ATTACHMENT:33306,NONE:0,FRAMEBUFFER_COMPLETE:36053,FRAMEBUFFER_INCOMPLETE_ATTACHMENT:36054,FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:36055,FRAMEBUFFER_INCOMPLETE_DIMENSIONS:36057,FRAMEBUFFER_UNSUPPORTED:36061,FRAMEBUFFER_BINDING:36006,RENDERBUFFER_BINDING:36007,MAX_RENDERBUFFER_SIZE:34024,INVALID_FRAMEBUFFER_OPERATION:1286,UNPACK_FLIP_Y_WEBGL:37440,UNPACK_PREMULTIPLY_ALPHA_WEBGL:37441,CONTEXT_LOST_WEBGL:37442,UNPACK_COLORSPACE_CONVERSION_WEBGL:37443,BROWSER_DEFAULT_WEBGL:37444,DOUBLE:5130,READ_BUFFER:3074,UNPACK_ROW_LENGTH:3314,UNPACK_SKIP_ROWS:3315,UNPACK_SKIP_PIXELS:3316,PACK_ROW_LENGTH:3330,PACK_SKIP_ROWS:3331,PACK_SKIP_PIXELS:3332,COLOR:6144,DEPTH:6145,STENCIL:6146,RED:6403,RGB8:32849,RGBA8:32856,RGB10_A2:32857,TEXTURE_BINDING_3D:32874,UNPACK_SKIP_IMAGES:32877,UNPACK_IMAGE_HEIGHT:32878,TEXTURE_3D:32879,TEXTURE_WRAP_R:32882,MAX_3D_TEXTURE_SIZE:32883,UNSIGNED_INT_2_10_10_10_REV:33640,MAX_ELEMENTS_VERTICES:33e3,MAX_ELEMENTS_INDICES:33001,TEXTURE_MIN_LOD:33082,TEXTURE_MAX_LOD:33083,TEXTURE_BASE_LEVEL:33084,TEXTURE_MAX_LEVEL:33085,MIN:32775,MAX:32776,DEPTH_COMPONENT24:33190,MAX_TEXTURE_LOD_BIAS:34045,TEXTURE_COMPARE_MODE:34892,TEXTURE_COMPARE_FUNC:34893,CURRENT_QUERY:34917,QUERY_RESULT:34918,QUERY_RESULT_AVAILABLE:34919,STREAM_READ:35041,STREAM_COPY:35042,STATIC_READ:35045,STATIC_COPY:35046,DYNAMIC_READ:35049,DYNAMIC_COPY:35050,MAX_DRAW_BUFFERS:34852,DRAW_BUFFER0:34853,DRAW_BUFFER1:34854,DRAW_BUFFER2:34855,DRAW_BUFFER3:34856,DRAW_BUFFER4:34857,DRAW_BUFFER5:34858,DRAW_BUFFER6:34859,DRAW_BUFFER7:34860,DRAW_BUFFER8:34861,DRAW_BUFFER9:34862,DRAW_BUFFER10:34863,DRAW_BUFFER11:34864,DRAW_BUFFER12:34865,DRAW_BUFFER13:34866,DRAW_BUFFER14:34867,DRAW_BUFFER15:34868,MAX_FRAGMENT_UNIFORM_COMPONENTS:35657,MAX_VERTEX_UNIFORM_COMPONENTS:35658,SAMPLER_3D:35679,SAMPLER_2D_SHADOW:35682,FRAGMENT_SHADER_DERIVATIVE_HINT:35723,PIXEL_PACK_BUFFER:35051,PIXEL_UNPACK_BUFFER:35052,PIXEL_PACK_BUFFER_BINDING:35053,PIXEL_UNPACK_BUFFER_BINDING:35055,FLOAT_MAT2x3:35685,FLOAT_MAT2x4:35686,FLOAT_MAT3x2:35687,FLOAT_MAT3x4:35688,FLOAT_MAT4x2:35689,FLOAT_MAT4x3:35690,SRGB:35904,SRGB8:35905,SRGB8_ALPHA8:35907,COMPARE_REF_TO_TEXTURE:34894,RGBA32F:34836,RGB32F:34837,RGBA16F:34842,RGB16F:34843,VERTEX_ATTRIB_ARRAY_INTEGER:35069,MAX_ARRAY_TEXTURE_LAYERS:35071,MIN_PROGRAM_TEXEL_OFFSET:35076,MAX_PROGRAM_TEXEL_OFFSET:35077,MAX_VARYING_COMPONENTS:35659,TEXTURE_2D_ARRAY:35866,TEXTURE_BINDING_2D_ARRAY:35869,R11F_G11F_B10F:35898,UNSIGNED_INT_10F_11F_11F_REV:35899,RGB9_E5:35901,UNSIGNED_INT_5_9_9_9_REV:35902,TRANSFORM_FEEDBACK_BUFFER_MODE:35967,MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS:35968,TRANSFORM_FEEDBACK_VARYINGS:35971,TRANSFORM_FEEDBACK_BUFFER_START:35972,TRANSFORM_FEEDBACK_BUFFER_SIZE:35973,TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN:35976,RASTERIZER_DISCARD:35977,MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS:35978,MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS:35979,INTERLEAVED_ATTRIBS:35980,SEPARATE_ATTRIBS:35981,TRANSFORM_FEEDBACK_BUFFER:35982,TRANSFORM_FEEDBACK_BUFFER_BINDING:35983,RGBA32UI:36208,RGB32UI:36209,RGBA16UI:36214,RGB16UI:36215,RGBA8UI:36220,RGB8UI:36221,RGBA32I:36226,RGB32I:36227,RGBA16I:36232,RGB16I:36233,RGBA8I:36238,RGB8I:36239,RED_INTEGER:36244,RGB_INTEGER:36248,RGBA_INTEGER:36249,SAMPLER_2D_ARRAY:36289,SAMPLER_2D_ARRAY_SHADOW:36292,SAMPLER_CUBE_SHADOW:36293,UNSIGNED_INT_VEC2:36294,UNSIGNED_INT_VEC3:36295,UNSIGNED_INT_VEC4:36296,INT_SAMPLER_2D:36298,INT_SAMPLER_3D:36299,INT_SAMPLER_CUBE:36300,INT_SAMPLER_2D_ARRAY:36303,UNSIGNED_INT_SAMPLER_2D:36306,UNSIGNED_INT_SAMPLER_3D:36307,UNSIGNED_INT_SAMPLER_CUBE:36308,UNSIGNED_INT_SAMPLER_2D_ARRAY:36311,DEPTH_COMPONENT32F:36012,DEPTH32F_STENCIL8:36013,FLOAT_32_UNSIGNED_INT_24_8_REV:36269,FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING:33296,FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE:33297,FRAMEBUFFER_ATTACHMENT_RED_SIZE:33298,FRAMEBUFFER_ATTACHMENT_GREEN_SIZE:33299,FRAMEBUFFER_ATTACHMENT_BLUE_SIZE:33300,FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE:33301,FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE:33302,FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE:33303,FRAMEBUFFER_DEFAULT:33304,UNSIGNED_INT_24_8:34042,DEPTH24_STENCIL8:35056,UNSIGNED_NORMALIZED:35863,DRAW_FRAMEBUFFER_BINDING:36006,READ_FRAMEBUFFER:36008,DRAW_FRAMEBUFFER:36009,READ_FRAMEBUFFER_BINDING:36010,RENDERBUFFER_SAMPLES:36011,FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER:36052,MAX_COLOR_ATTACHMENTS:36063,COLOR_ATTACHMENT1:36065,COLOR_ATTACHMENT2:36066,COLOR_ATTACHMENT3:36067,COLOR_ATTACHMENT4:36068,COLOR_ATTACHMENT5:36069,COLOR_ATTACHMENT6:36070,COLOR_ATTACHMENT7:36071,COLOR_ATTACHMENT8:36072,COLOR_ATTACHMENT9:36073,COLOR_ATTACHMENT10:36074,COLOR_ATTACHMENT11:36075,COLOR_ATTACHMENT12:36076,COLOR_ATTACHMENT13:36077,COLOR_ATTACHMENT14:36078,COLOR_ATTACHMENT15:36079,FRAMEBUFFER_INCOMPLETE_MULTISAMPLE:36182,MAX_SAMPLES:36183,HALF_FLOAT:5131,RG:33319,RG_INTEGER:33320,R8:33321,RG8:33323,R16F:33325,R32F:33326,RG16F:33327,RG32F:33328,R8I:33329,R8UI:33330,R16I:33331,R16UI:33332,R32I:33333,R32UI:33334,RG8I:33335,RG8UI:33336,RG16I:33337,RG16UI:33338,RG32I:33339,
RG32UI:33340,VERTEX_ARRAY_BINDING:34229,R8_SNORM:36756,RG8_SNORM:36757,RGB8_SNORM:36758,RGBA8_SNORM:36759,SIGNED_NORMALIZED:36764,COPY_READ_BUFFER:36662,COPY_WRITE_BUFFER:36663,COPY_READ_BUFFER_BINDING:36662,COPY_WRITE_BUFFER_BINDING:36663,UNIFORM_BUFFER:35345,UNIFORM_BUFFER_BINDING:35368,UNIFORM_BUFFER_START:35369,UNIFORM_BUFFER_SIZE:35370,MAX_VERTEX_UNIFORM_BLOCKS:35371,MAX_FRAGMENT_UNIFORM_BLOCKS:35373,MAX_COMBINED_UNIFORM_BLOCKS:35374,MAX_UNIFORM_BUFFER_BINDINGS:35375,MAX_UNIFORM_BLOCK_SIZE:35376,MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS:35377,MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS:35379,UNIFORM_BUFFER_OFFSET_ALIGNMENT:35380,ACTIVE_UNIFORM_BLOCKS:35382,UNIFORM_TYPE:35383,UNIFORM_SIZE:35384,UNIFORM_BLOCK_INDEX:35386,UNIFORM_OFFSET:35387,UNIFORM_ARRAY_STRIDE:35388,UNIFORM_MATRIX_STRIDE:35389,UNIFORM_IS_ROW_MAJOR:35390,UNIFORM_BLOCK_BINDING:35391,UNIFORM_BLOCK_DATA_SIZE:35392,UNIFORM_BLOCK_ACTIVE_UNIFORMS:35394,UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES:35395,UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER:35396,UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER:35398,INVALID_INDEX:4294967295,MAX_VERTEX_OUTPUT_COMPONENTS:37154,MAX_FRAGMENT_INPUT_COMPONENTS:37157,MAX_SERVER_WAIT_TIMEOUT:37137,OBJECT_TYPE:37138,SYNC_CONDITION:37139,SYNC_STATUS:37140,SYNC_FLAGS:37141,SYNC_FENCE:37142,SYNC_GPU_COMMANDS_COMPLETE:37143,UNSIGNALED:37144,SIGNALED:37145,ALREADY_SIGNALED:37146,TIMEOUT_EXPIRED:37147,CONDITION_SATISFIED:37148,WAIT_FAILED:37149,SYNC_FLUSH_COMMANDS_BIT:1,VERTEX_ATTRIB_ARRAY_DIVISOR:35070,ANY_SAMPLES_PASSED:35887,ANY_SAMPLES_PASSED_CONSERVATIVE:36202,SAMPLER_BINDING:35097,RGB10_A2UI:36975,INT_2_10_10_10_REV:36255,TRANSFORM_FEEDBACK:36386,TRANSFORM_FEEDBACK_PAUSED:36387,TRANSFORM_FEEDBACK_ACTIVE:36388,TRANSFORM_FEEDBACK_BINDING:36389,COMPRESSED_R11_EAC:37488,COMPRESSED_SIGNED_R11_EAC:37489,COMPRESSED_RG11_EAC:37490,COMPRESSED_SIGNED_RG11_EAC:37491,COMPRESSED_RGB8_ETC2:37492,COMPRESSED_SRGB8_ETC2:37493,COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:37494,COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:37495,COMPRESSED_RGBA8_ETC2_EAC:37496,COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:37497,TEXTURE_IMMUTABLE_FORMAT:37167,MAX_ELEMENT_INDEX:36203,TEXTURE_IMMUTABLE_LEVELS:33503};return e(t)}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n;n=function(){function e(t){if(t instanceof e)this.scheme=t.scheme,this.authority=t.authority,this.path=t.path,this.query=t.query,this.fragment=t.fragment;else if(t){var r=n.exec(t);this.scheme=r[1],this.authority=r[2],this.path=r[3],this.query=r[4],this.fragment=r[5]}}function t(e){var t=unescape(e);return o.test(t)?t:e.toUpperCase()}function r(e,t,r,n){return(t||"")+r.toLowerCase()+(n||"")}e.prototype.scheme=null,e.prototype.authority=null,e.prototype.path="",e.prototype.query=null,e.prototype.fragment=null;var n=new RegExp("^(?:([^:/?#]+):)?(?://([^/?#]*))?([^?#]*)(?:\\?([^#]*))?(?:#(.*))?$");e.prototype.getScheme=function(){return this.scheme},e.prototype.getAuthority=function(){return this.authority},e.prototype.getPath=function(){return this.path},e.prototype.getQuery=function(){return this.query},e.prototype.getFragment=function(){return this.fragment},e.prototype.isAbsolute=function(){return!!this.scheme&&!this.fragment},e.prototype.isSameDocumentAs=function(e){return e.scheme==this.scheme&&e.authority==this.authority&&e.path==this.path&&e.query==this.query},e.prototype.equals=function(e){return this.isSameDocumentAs(e)&&e.fragment==this.fragment},e.prototype.normalize=function(){this.removeDotSegments(),this.scheme&&(this.scheme=this.scheme.toLowerCase()),this.authority&&(this.authority=this.authority.replace(a,r).replace(i,t)),this.path&&(this.path=this.path.replace(i,t)),this.query&&(this.query=this.query.replace(i,t)),this.fragment&&(this.fragment=this.fragment.replace(i,t))};var i=/%[0-9a-z]{2}/gi,o=/[a-zA-Z0-9\-\._~]/,a=/(.*@)?([^@:]*)(:.*)?/;return e.prototype.resolve=function(t){var r=new e;return this.scheme?(r.scheme=this.scheme,r.authority=this.authority,r.path=this.path,r.query=this.query):(r.scheme=t.scheme,this.authority?(r.authority=this.authority,r.path=this.path,r.query=this.query):(r.authority=t.authority,""==this.path?(r.path=t.path,r.query=this.query||t.query):("/"==this.path.charAt(0)?(r.path=this.path,r.removeDotSegments()):(t.authority&&""==t.path?r.path="/"+this.path:r.path=t.path.substring(0,t.path.lastIndexOf("/")+1)+this.path,r.removeDotSegments()),r.query=this.query))),r.fragment=this.fragment,r},e.prototype.removeDotSegments=function(){var e,t=this.path.split("/"),r=[],n=""==t[0];n&&t.shift();for(""==t[0]?t.shift():null;t.length;)e=t.shift(),".."==e?r.pop():"."!=e&&r.push(e);"."!=e&&".."!=e||r.push(""),n&&r.unshift(""),this.path=r.join("/")},e.prototype.toString=function(){var e="";return this.scheme&&(e+=this.scheme+":"),this.authority&&(e+="//"+this.authority),e+=this.path,this.query&&(e+="?"+this.query),this.fragment&&(e+="#"+this.fragment),e},e}.call(t,r,t,e),/**
 * @license
 *
 * Grauw URI utilities
 *
 * See: http-colon-slashslash hg.grauw.nl/grauw-lib/file/tip/src/uri.js
 *
 * @author Laurens Holst (http-colon-slashslash www.grauw.nl/)
 *
 *   Copyright 2012 Laurens Holst
 *
 *   Licensed under the Apache License, Version 2.0 (the "License");
 *   you may not use this file except in compliance with the License.
 *   You may obtain a copy of the License at
 *
 *       http-colon-slashslash www.apache.org/licenses/LICENSE-2.0
 *
 *   Unless required by applicable law or agreed to in writing, software
 *   distributed under the License is distributed on an "AS IS" BASIS,
 *   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *   See the License for the specific language governing permissions and
 *   limitations under the License.
 *
 */
!(void 0!==n&&(e.exports=n))},function(e,t,r){var n,i;n=[r(4),r(3),r(1),r(2),r(34)],i=function(e,t,r,n,i){"use strict";function o(n,i,o){this.minimum=e.clone(t(n,e.ZERO)),this.maximum=e.clone(t(i,e.ZERO)),r(o)?o=e.clone(o):(o=e.add(this.minimum,this.maximum,new e),e.multiplyByScalar(o,.5,o)),this.center=o}o.fromPoints=function(t,n){if(r(n)||(n=new o),!r(t)||0===t.length)return n.minimum=e.clone(e.ZERO,n.minimum),n.maximum=e.clone(e.ZERO,n.maximum),n.center=e.clone(e.ZERO,n.center),n;for(var i=t[0].x,a=t[0].y,s=t[0].z,u=t[0].x,c=t[0].y,l=t[0].z,p=t.length,h=1;h<p;h++){var m=t[h],d=m.x,f=m.y,y=m.z;i=Math.min(d,i),u=Math.max(d,u),a=Math.min(f,a),c=Math.max(f,c),s=Math.min(y,s),l=Math.max(y,l)}var v=n.minimum;v.x=i,v.y=a,v.z=s;var g=n.maximum;g.x=u,g.y=c,g.z=l;var _=e.add(v,g,n.center);return e.multiplyByScalar(_,.5,_),n},o.clone=function(t,n){if(r(t))return r(n)?(n.minimum=e.clone(t.minimum,n.minimum),n.maximum=e.clone(t.maximum,n.maximum),n.center=e.clone(t.center,n.center),n):new o(t.minimum,t.maximum)},o.equals=function(t,n){return t===n||r(t)&&r(n)&&e.equals(t.center,n.center)&&e.equals(t.minimum,n.minimum)&&e.equals(t.maximum,n.maximum)};var a=new e;return o.intersectPlane=function(t,r){a=e.subtract(t.maximum,t.minimum,a);var n=e.multiplyByScalar(a,.5,a),o=r.normal,s=n.x*Math.abs(o.x)+n.y*Math.abs(o.y)+n.z*Math.abs(o.z),u=e.dot(t.center,o)+r.distance;return u-s>0?i.INSIDE:u+s<0?i.OUTSIDE:i.INTERSECTING},o.prototype.clone=function(e){return o.clone(this,e)},o.prototype.intersectPlane=function(e){return o.intersectPlane(this,e)},o.prototype.equals=function(e){return o.equals(this,e)},o}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(13),r(16),r(3),r(1),r(2),r(30),r(34),r(19)],i=function(e,t,r,n,i,o,a,s){"use strict";function u(e,t,n,i){this.x=r(e,0),this.y=r(t,0),this.width=r(n,0),this.height=r(i,0)}u.packedLength=4,u.pack=function(e,t,n){return n=r(n,0),t[n++]=e.x,t[n++]=e.y,t[n++]=e.width,t[n]=e.height,t},u.unpack=function(e,t,i){return t=r(t,0),n(i)||(i=new u),i.x=e[t++],i.y=e[t++],i.width=e[t++],i.height=e[t],i},u.fromPoints=function(e,t){if(n(t)||(t=new u),!n(e)||0===e.length)return t.x=0,t.y=0,t.width=0,t.height=0,t;for(var r=e.length,i=e[0].x,o=e[0].y,a=e[0].x,s=e[0].y,c=1;c<r;c++){var l=e[c],p=l.x,h=l.y;i=Math.min(p,i),a=Math.max(p,a),o=Math.min(h,o),s=Math.max(h,s)}return t.x=i,t.y=o,t.width=a-i,t.height=s-o,t};var c=new o,l=new t,p=new t;return u.fromRectangle=function(t,i,o){if(n(o)||(o=new u),!n(t))return o.x=0,o.y=0,o.width=0,o.height=0,o;i=r(i,c);var a=i.project(s.southwest(t,l)),h=i.project(s.northeast(t,p));return e.subtract(h,a,h),o.x=a.x,o.y=a.y,o.width=h.x,o.height=h.y,o},u.clone=function(e,t){if(n(e))return n(t)?(t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height,t):new u(e.x,e.y,e.width,e.height)},u.union=function(e,t,r){n(r)||(r=new u);var i=Math.min(e.x,t.x),o=Math.min(e.y,t.y),a=Math.max(e.x+e.width,t.x+t.width),s=Math.max(e.y+e.height,t.y+t.height);return r.x=i,r.y=o,r.width=a-i,r.height=s-o,r},u.expand=function(e,t,r){r=u.clone(e,r);var n=t.x-r.x,i=t.y-r.y;return n>r.width?r.width=n:n<0&&(r.width-=n,r.x=t.x),i>r.height?r.height=i:i<0&&(r.height-=i,r.y=t.y),r},u.intersect=function(e,t){var r=e.x,n=e.y,i=t.x,o=t.y;return r>i+t.width||r+e.width<i||n+e.height<o||n>o+t.height?a.OUTSIDE:a.INTERSECTING},u.equals=function(e,t){return e===t||n(e)&&n(t)&&e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height},u.prototype.clone=function(e){return u.clone(this,e)},u.prototype.intersect=function(e){return u.intersect(this,e)},u.prototype.equals=function(e){return u.equals(this,e)},u}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(3),r(1),r(2),r(39),r(8),r(5)],i=function(e,t,r,n,i,o){"use strict";function a(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),6*r<1?e+6*(t-e)*r:2*r<1?t:3*r<2?e+(t-e)*(2/3-r)*6:e}function s(t,r,n,i){this.red=e(t,1),this.green=e(r,1),this.blue=e(n,1),this.alpha=e(i,1)}s.fromCartesian4=function(e,r){return t(r)?(r.red=e.x,r.green=e.y,r.blue=e.z,r.alpha=e.w,r):new s(e.x,e.y,e.z,e.w)},s.fromBytes=function(r,n,i,o,a){return r=s.byteToFloat(e(r,255)),n=s.byteToFloat(e(n,255)),i=s.byteToFloat(e(i,255)),o=s.byteToFloat(e(o,255)),t(a)?(a.red=r,a.green=n,a.blue=i,a.alpha=o,a):new s(r,n,i,o)},s.fromAlpha=function(e,r,n){return t(n)?(n.red=e.red,n.green=e.green,n.blue=e.blue,n.alpha=r,n):new s(e.red,e.green,e.blue,r)};var u,c,l;n.supportsTypedArrays()&&(u=new ArrayBuffer(4),c=new Uint32Array(u),l=new Uint8Array(u)),s.fromRgba=function(e,t){return c[0]=e,s.fromBytes(l[0],l[1],l[2],l[3],t)},s.fromHsl=function(r,n,i,o,u){r=e(r,0)%1,n=e(n,0),i=e(i,0),o=e(o,1);var c=i,l=i,p=i;if(0!==n){var h;h=i<.5?i*(1+n):i+n-i*n;var m=2*i-h;c=a(m,h,r+1/3),l=a(m,h,r),p=a(m,h,r-1/3)}return t(u)?(u.red=c,u.green=l,u.blue=p,u.alpha=o,u):new s(c,l,p,o)},s.fromRandom=function(r,n){r=e(r,e.EMPTY_OBJECT);var i=r.red;if(!t(i)){var a=e(r.minimumRed,0),u=e(r.maximumRed,1);i=a+o.nextRandomNumber()*(u-a)}var c=r.green;if(!t(c)){var l=e(r.minimumGreen,0),p=e(r.maximumGreen,1);c=l+o.nextRandomNumber()*(p-l)}var h=r.blue;if(!t(h)){var m=e(r.minimumBlue,0),d=e(r.maximumBlue,1);h=m+o.nextRandomNumber()*(d-m)}var f=r.alpha;if(!t(f)){var y=e(r.minimumAlpha,0),v=e(r.maximumAlpha,1);f=y+o.nextRandomNumber()*(v-y)}return t(n)?(n.red=i,n.green=c,n.blue=h,n.alpha=f,n):new s(i,c,h,f)};var p=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i,h=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i,m=/^rgba?\(\s*([0-9.]+%?)\s*,\s*([0-9.]+%?)\s*,\s*([0-9.]+%?)(?:\s*,\s*([0-9.]+))?\s*\)$/i,d=/^hsla?\(\s*([0-9.]+)\s*,\s*([0-9.]+%)\s*,\s*([0-9.]+%)(?:\s*,\s*([0-9.]+))?\s*\)$/i;return s.fromCssColorString=function(r,n){t(n)||(n=new s);var i=s[r.toUpperCase()];if(t(i))return s.clone(i,n),n;var o=p.exec(r);return null!==o?(n.red=parseInt(o[1],16)/15,n.green=parseInt(o[2],16)/15,n.blue=parseInt(o[3],16)/15,n.alpha=1,n):(o=h.exec(r),null!==o?(n.red=parseInt(o[1],16)/255,n.green=parseInt(o[2],16)/255,n.blue=parseInt(o[3],16)/255,n.alpha=1,n):(o=m.exec(r),null!==o?(n.red=parseFloat(o[1])/("%"===o[1].substr(-1)?100:255),n.green=parseFloat(o[2])/("%"===o[2].substr(-1)?100:255),n.blue=parseFloat(o[3])/("%"===o[3].substr(-1)?100:255),n.alpha=parseFloat(e(o[4],"1.0")),n):(o=d.exec(r),null!==o?s.fromHsl(parseFloat(o[1])/360,parseFloat(o[2])/100,parseFloat(o[3])/100,parseFloat(e(o[4],"1.0")),n):n=void 0)))},s.packedLength=4,s.pack=function(t,r,n){return n=e(n,0),r[n++]=t.red,r[n++]=t.green,r[n++]=t.blue,r[n]=t.alpha,r},s.unpack=function(r,n,i){return n=e(n,0),t(i)||(i=new s),i.red=r[n++],i.green=r[n++],i.blue=r[n++],i.alpha=r[n],i},s.byteToFloat=function(e){return e/255},s.floatToByte=function(e){return 1===e?255:256*e|0},s.clone=function(e,r){if(t(e))return t(r)?(r.red=e.red,r.green=e.green,r.blue=e.blue,r.alpha=e.alpha,r):new s(e.red,e.green,e.blue,e.alpha)},s.equals=function(e,r){return e===r||t(e)&&t(r)&&e.red===r.red&&e.green===r.green&&e.blue===r.blue&&e.alpha===r.alpha},s.equalsArray=function(e,t,r){return e.red===t[r]&&e.green===t[r+1]&&e.blue===t[r+2]&&e.alpha===t[r+3]},s.prototype.clone=function(e){return s.clone(this,e)},s.prototype.equals=function(e){return s.equals(this,e)},s.prototype.equalsEpsilon=function(e,r){return this===e||t(e)&&Math.abs(this.red-e.red)<=r&&Math.abs(this.green-e.green)<=r&&Math.abs(this.blue-e.blue)<=r&&Math.abs(this.alpha-e.alpha)<=r},s.prototype.toString=function(){return"("+this.red+", "+this.green+", "+this.blue+", "+this.alpha+")"},s.prototype.toCssColorString=function(){var e=s.floatToByte(this.red),t=s.floatToByte(this.green),r=s.floatToByte(this.blue);return 1===this.alpha?"rgb("+e+","+t+","+r+")":"rgba("+e+","+t+","+r+","+this.alpha+")"},s.prototype.toBytes=function(e){var r=s.floatToByte(this.red),n=s.floatToByte(this.green),i=s.floatToByte(this.blue),o=s.floatToByte(this.alpha);return t(e)?(e[0]=r,e[1]=n,e[2]=i,e[3]=o,e):[r,n,i,o]},s.prototype.toRgba=function(){return l[0]=s.floatToByte(this.red),l[1]=s.floatToByte(this.green),l[2]=s.floatToByte(this.blue),l[3]=s.floatToByte(this.alpha),c[0]},s.prototype.brighten=function(e,t){return e=1-e,t.red=1-(1-this.red)*e,t.green=1-(1-this.green)*e,t.blue=1-(1-this.blue)*e,t.alpha=this.alpha,t},s.prototype.darken=function(e,t){return e=1-e,t.red=this.red*e,t.green=this.green*e,t.blue=this.blue*e,t.alpha=this.alpha,t},s.prototype.withAlpha=function(e,t){return s.fromAlpha(this,e,t)},s.add=function(e,t,r){return r.red=e.red+t.red,r.green=e.green+t.green,r.blue=e.blue+t.blue,r.alpha=e.alpha+t.alpha,r},s.subtract=function(e,t,r){return r.red=e.red-t.red,r.green=e.green-t.green,r.blue=e.blue-t.blue,r.alpha=e.alpha-t.alpha,r},s.multiply=function(e,t,r){return r.red=e.red*t.red,r.green=e.green*t.green,r.blue=e.blue*t.blue,r.alpha=e.alpha*t.alpha,r},s.divide=function(e,t,r){return r.red=e.red/t.red,r.green=e.green/t.green,r.blue=e.blue/t.blue,r.alpha=e.alpha/t.alpha,r},s.mod=function(e,t,r){return r.red=e.red%t.red,r.green=e.green%t.green,r.blue=e.blue%t.blue,r.alpha=e.alpha%t.alpha,r},s.multiplyByScalar=function(e,t,r){return r.red=e.red*t,r.green=e.green*t,r.blue=e.blue*t,r.alpha=e.alpha*t,r},s.divideByScalar=function(e,t,r){return r.red=e.red/t,r.green=e.green/t,r.blue=e.blue/t,r.alpha=e.alpha/t,r},s.ALICEBLUE=i(s.fromCssColorString("#F0F8FF")),s.ANTIQUEWHITE=i(s.fromCssColorString("#FAEBD7")),s.AQUA=i(s.fromCssColorString("#00FFFF")),s.AQUAMARINE=i(s.fromCssColorString("#7FFFD4")),s.AZURE=i(s.fromCssColorString("#F0FFFF")),s.BEIGE=i(s.fromCssColorString("#F5F5DC")),s.BISQUE=i(s.fromCssColorString("#FFE4C4")),s.BLACK=i(s.fromCssColorString("#000000")),s.BLANCHEDALMOND=i(s.fromCssColorString("#FFEBCD")),s.BLUE=i(s.fromCssColorString("#0000FF")),s.BLUEVIOLET=i(s.fromCssColorString("#8A2BE2")),s.BROWN=i(s.fromCssColorString("#A52A2A")),s.BURLYWOOD=i(s.fromCssColorString("#DEB887")),s.CADETBLUE=i(s.fromCssColorString("#5F9EA0")),s.CHARTREUSE=i(s.fromCssColorString("#7FFF00")),s.CHOCOLATE=i(s.fromCssColorString("#D2691E")),s.CORAL=i(s.fromCssColorString("#FF7F50")),s.CORNFLOWERBLUE=i(s.fromCssColorString("#6495ED")),s.CORNSILK=i(s.fromCssColorString("#FFF8DC")),s.CRIMSON=i(s.fromCssColorString("#DC143C")),s.CYAN=i(s.fromCssColorString("#00FFFF")),s.DARKBLUE=i(s.fromCssColorString("#00008B")),s.DARKCYAN=i(s.fromCssColorString("#008B8B")),s.DARKGOLDENROD=i(s.fromCssColorString("#B8860B")),s.DARKGRAY=i(s.fromCssColorString("#A9A9A9")),s.DARKGREEN=i(s.fromCssColorString("#006400")),s.DARKGREY=s.DARKGRAY,s.DARKKHAKI=i(s.fromCssColorString("#BDB76B")),s.DARKMAGENTA=i(s.fromCssColorString("#8B008B")),s.DARKOLIVEGREEN=i(s.fromCssColorString("#556B2F")),s.DARKORANGE=i(s.fromCssColorString("#FF8C00")),s.DARKORCHID=i(s.fromCssColorString("#9932CC")),s.DARKRED=i(s.fromCssColorString("#8B0000")),s.DARKSALMON=i(s.fromCssColorString("#E9967A")),s.DARKSEAGREEN=i(s.fromCssColorString("#8FBC8F")),s.DARKSLATEBLUE=i(s.fromCssColorString("#483D8B")),s.DARKSLATEGRAY=i(s.fromCssColorString("#2F4F4F")),s.DARKSLATEGREY=s.DARKSLATEGRAY,s.DARKTURQUOISE=i(s.fromCssColorString("#00CED1")),s.DARKVIOLET=i(s.fromCssColorString("#9400D3")),s.DEEPPINK=i(s.fromCssColorString("#FF1493")),s.DEEPSKYBLUE=i(s.fromCssColorString("#00BFFF")),s.DIMGRAY=i(s.fromCssColorString("#696969")),s.DIMGREY=s.DIMGRAY,s.DODGERBLUE=i(s.fromCssColorString("#1E90FF")),s.FIREBRICK=i(s.fromCssColorString("#B22222")),s.FLORALWHITE=i(s.fromCssColorString("#FFFAF0")),s.FORESTGREEN=i(s.fromCssColorString("#228B22")),s.FUSCHIA=i(s.fromCssColorString("#FF00FF")),s.GAINSBORO=i(s.fromCssColorString("#DCDCDC")),s.GHOSTWHITE=i(s.fromCssColorString("#F8F8FF")),s.GOLD=i(s.fromCssColorString("#FFD700")),s.GOLDENROD=i(s.fromCssColorString("#DAA520")),s.GRAY=i(s.fromCssColorString("#808080")),s.GREEN=i(s.fromCssColorString("#008000")),s.GREENYELLOW=i(s.fromCssColorString("#ADFF2F")),s.GREY=s.GRAY,s.HONEYDEW=i(s.fromCssColorString("#F0FFF0")),s.HOTPINK=i(s.fromCssColorString("#FF69B4")),s.INDIANRED=i(s.fromCssColorString("#CD5C5C")),s.INDIGO=i(s.fromCssColorString("#4B0082")),s.IVORY=i(s.fromCssColorString("#FFFFF0")),s.KHAKI=i(s.fromCssColorString("#F0E68C")),s.LAVENDER=i(s.fromCssColorString("#E6E6FA")),s.LAVENDAR_BLUSH=i(s.fromCssColorString("#FFF0F5")),s.LAWNGREEN=i(s.fromCssColorString("#7CFC00")),s.LEMONCHIFFON=i(s.fromCssColorString("#FFFACD")),s.LIGHTBLUE=i(s.fromCssColorString("#ADD8E6")),s.LIGHTCORAL=i(s.fromCssColorString("#F08080")),s.LIGHTCYAN=i(s.fromCssColorString("#E0FFFF")),s.LIGHTGOLDENRODYELLOW=i(s.fromCssColorString("#FAFAD2")),s.LIGHTGRAY=i(s.fromCssColorString("#D3D3D3")),s.LIGHTGREEN=i(s.fromCssColorString("#90EE90")),s.LIGHTGREY=s.LIGHTGRAY,s.LIGHTPINK=i(s.fromCssColorString("#FFB6C1")),s.LIGHTSEAGREEN=i(s.fromCssColorString("#20B2AA")),s.LIGHTSKYBLUE=i(s.fromCssColorString("#87CEFA")),s.LIGHTSLATEGRAY=i(s.fromCssColorString("#778899")),s.LIGHTSLATEGREY=s.LIGHTSLATEGRAY,s.LIGHTSTEELBLUE=i(s.fromCssColorString("#B0C4DE")),s.LIGHTYELLOW=i(s.fromCssColorString("#FFFFE0")),s.LIME=i(s.fromCssColorString("#00FF00")),s.LIMEGREEN=i(s.fromCssColorString("#32CD32")),s.LINEN=i(s.fromCssColorString("#FAF0E6")),s.MAGENTA=i(s.fromCssColorString("#FF00FF")),s.MAROON=i(s.fromCssColorString("#800000")),s.MEDIUMAQUAMARINE=i(s.fromCssColorString("#66CDAA")),s.MEDIUMBLUE=i(s.fromCssColorString("#0000CD")),s.MEDIUMORCHID=i(s.fromCssColorString("#BA55D3")),s.MEDIUMPURPLE=i(s.fromCssColorString("#9370DB")),s.MEDIUMSEAGREEN=i(s.fromCssColorString("#3CB371")),s.MEDIUMSLATEBLUE=i(s.fromCssColorString("#7B68EE")),s.MEDIUMSPRINGGREEN=i(s.fromCssColorString("#00FA9A")),s.MEDIUMTURQUOISE=i(s.fromCssColorString("#48D1CC")),s.MEDIUMVIOLETRED=i(s.fromCssColorString("#C71585")),s.MIDNIGHTBLUE=i(s.fromCssColorString("#191970")),s.MINTCREAM=i(s.fromCssColorString("#F5FFFA")),s.MISTYROSE=i(s.fromCssColorString("#FFE4E1")),s.MOCCASIN=i(s.fromCssColorString("#FFE4B5")),s.NAVAJOWHITE=i(s.fromCssColorString("#FFDEAD")),s.NAVY=i(s.fromCssColorString("#000080")),s.OLDLACE=i(s.fromCssColorString("#FDF5E6")),s.OLIVE=i(s.fromCssColorString("#808000")),s.OLIVEDRAB=i(s.fromCssColorString("#6B8E23")),s.ORANGE=i(s.fromCssColorString("#FFA500")),s.ORANGERED=i(s.fromCssColorString("#FF4500")),s.ORCHID=i(s.fromCssColorString("#DA70D6")),s.PALEGOLDENROD=i(s.fromCssColorString("#EEE8AA")),s.PALEGREEN=i(s.fromCssColorString("#98FB98")),s.PALETURQUOISE=i(s.fromCssColorString("#AFEEEE")),s.PALEVIOLETRED=i(s.fromCssColorString("#DB7093")),s.PAPAYAWHIP=i(s.fromCssColorString("#FFEFD5")),s.PEACHPUFF=i(s.fromCssColorString("#FFDAB9")),s.PERU=i(s.fromCssColorString("#CD853F")),s.PINK=i(s.fromCssColorString("#FFC0CB")),s.PLUM=i(s.fromCssColorString("#DDA0DD")),s.POWDERBLUE=i(s.fromCssColorString("#B0E0E6")),s.PURPLE=i(s.fromCssColorString("#800080")),s.RED=i(s.fromCssColorString("#FF0000")),s.ROSYBROWN=i(s.fromCssColorString("#BC8F8F")),s.ROYALBLUE=i(s.fromCssColorString("#4169E1")),s.SADDLEBROWN=i(s.fromCssColorString("#8B4513")),s.SALMON=i(s.fromCssColorString("#FA8072")),s.SANDYBROWN=i(s.fromCssColorString("#F4A460")),s.SEAGREEN=i(s.fromCssColorString("#2E8B57")),s.SEASHELL=i(s.fromCssColorString("#FFF5EE")),s.SIENNA=i(s.fromCssColorString("#A0522D")),s.SILVER=i(s.fromCssColorString("#C0C0C0")),s.SKYBLUE=i(s.fromCssColorString("#87CEEB")),s.SLATEBLUE=i(s.fromCssColorString("#6A5ACD")),s.SLATEGRAY=i(s.fromCssColorString("#708090")),s.SLATEGREY=s.SLATEGRAY,s.SNOW=i(s.fromCssColorString("#FFFAFA")),s.SPRINGGREEN=i(s.fromCssColorString("#00FF7F")),s.STEELBLUE=i(s.fromCssColorString("#4682B4")),s.TAN=i(s.fromCssColorString("#D2B48C")),s.TEAL=i(s.fromCssColorString("#008080")),s.THISTLE=i(s.fromCssColorString("#D8BFD8")),s.TOMATO=i(s.fromCssColorString("#FF6347")),s.TURQUOISE=i(s.fromCssColorString("#40E0D0")),s.VIOLET=i(s.fromCssColorString("#EE82EE")),s.WHEAT=i(s.fromCssColorString("#F5DEB3")),s.WHITE=i(s.fromCssColorString("#FFFFFF")),s.WHITESMOKE=i(s.fromCssColorString("#F5F5F5")),s.YELLOW=i(s.fromCssColorString("#FFFF00")),s.YELLOWGREEN=i(s.fromCssColorString("#9ACD32")),s.TRANSPARENT=i(new s(0,0,0,0)),s}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(8)],i=function(e){"use strict";var t={NONE:0,TRIANGLES:1,LINES:2,POLYLINES:3};return e(t)}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(4),r(16),r(3),r(1),r(2),r(5),r(18),r(50),r(164),r(101)],i=function(e,t,r,n,i,o,a,s,u,c){"use strict";function l(e,t,r,n){var i=t*t-4*e*r;if(!(i<0)){if(i>0){var o=1/(2*e),a=Math.sqrt(i),s=(-t+a)*o,u=(-t-a)*o;return s<u?(n.root0=s,n.root1=u):(n.root0=u,n.root1=s),n}var c=-t/(2*e);if(0!==c)return n.root0=n.root1=c,n}}function p(t,r,i){n(i)||(i={});var o=t.origin,a=t.direction,s=r.center,u=r.radius*r.radius,c=e.subtract(o,s,v),p=e.dot(a,a),h=2*e.dot(a,c),m=e.magnitudeSquared(c)-u,d=l(p,h,m,A);if(n(d))return i.start=d.root0,i.stop=d.root1,i}function h(e,t,r){var n=e+t;return o.sign(e)!==o.sign(t)&&Math.abs(n/Math.max(Math.abs(e),Math.abs(t)))<r?0:n}function m(t,r,n,i,c){var l,p=i*i,m=c*c,d=(t[a.COLUMN1ROW1]-t[a.COLUMN2ROW2])*m,f=c*(i*h(t[a.COLUMN1ROW0],t[a.COLUMN0ROW1],o.EPSILON15)+r.y),y=t[a.COLUMN0ROW0]*p+t[a.COLUMN2ROW2]*m+i*r.x+n,v=m*h(t[a.COLUMN2ROW1],t[a.COLUMN1ROW2],o.EPSILON15),g=c*(i*h(t[a.COLUMN2ROW0],t[a.COLUMN0ROW2])+r.z),_=[];if(0===g&&0===v){if(l=s.computeRealRoots(d,f,y),0===l.length)return _;var E=l[0],A=Math.sqrt(Math.max(1-E*E,0));if(_.push(new e(i,c*E,c*-A)),_.push(new e(i,c*E,c*A)),2===l.length){var x=l[1],T=Math.sqrt(Math.max(1-x*x,0));_.push(new e(i,c*x,c*-T)),_.push(new e(i,c*x,c*T))}return _}var w=g*g,S=v*v,R=d*d,I=g*v,N=R+S,O=2*(f*d+I),b=2*y*d+f*f-S+w,M=2*(y*f-I),P=y*y-w;if(0===N&&0===O&&0===b&&0===M)return _;l=u.computeRealRoots(N,O,b,M,P);var C=l.length;if(0===C)return _;for(var L=0;L<C;++L){var F,D=l[L],U=D*D,B=Math.max(1-U,0),z=Math.sqrt(B);F=o.sign(d)===o.sign(y)?h(d*U+y,f*D,o.EPSILON12):o.sign(y)===o.sign(f*D)?h(d*U,f*D+y,o.EPSILON12):h(d*U+f*D,y,o.EPSILON12);var G=h(v*D,g,o.EPSILON15),k=F*G;k<0?_.push(new e(i,c*D,c*z)):k>0?_.push(new e(i,c*D,c*-z)):0!==z?(_.push(new e(i,c*D,c*-z)),_.push(new e(i,c*D,c*z)),++L):_.push(new e(i,c*D,c*z))}return _}var d={};d.rayPlane=function(t,r,i){n(i)||(i=new e);var a=t.origin,s=t.direction,u=r.normal,c=e.dot(u,s);if(!(Math.abs(c)<o.EPSILON15)){var l=(-r.distance-e.dot(u,a))/c;if(!(l<0))return i=e.multiplyByScalar(s,l,i),e.add(a,i,i)}};var f=new e,y=new e,v=new e,g=new e,_=new e;d.rayTriangleParametric=function(t,n,i,a,s){s=r(s,!1);var u,c,l,p,h,m=t.origin,d=t.direction,E=e.subtract(i,n,f),A=e.subtract(a,n,y),x=e.cross(d,A,v),T=e.dot(E,x);if(s){if(T<o.EPSILON6)return;if(u=e.subtract(m,n,g),l=e.dot(u,x),l<0||l>T)return;if(c=e.cross(u,E,_),p=e.dot(d,c),p<0||l+p>T)return;h=e.dot(A,c)/T}else{if(Math.abs(T)<o.EPSILON6)return;var w=1/T;if(u=e.subtract(m,n,g),l=e.dot(u,x)*w,l<0||l>1)return;if(c=e.cross(u,E,_),p=e.dot(d,c)*w,p<0||l+p>1)return;h=e.dot(A,c)*w}return h},d.rayTriangle=function(t,r,i,o,a,s){var u=d.rayTriangleParametric(t,r,i,o,a);if(n(u)&&!(u<0))return n(s)||(s=new e),e.multiplyByScalar(t.direction,u,s),e.add(t.origin,s,s)};var E=new c;d.lineSegmentTriangle=function(t,r,i,o,a,s,u){var c=E;e.clone(t,c.origin),e.subtract(r,t,c.direction),e.normalize(c.direction,c.direction);var l=d.rayTriangleParametric(c,i,o,a,s);if(!(!n(l)||l<0||l>e.distance(t,r)))return n(u)||(u=new e),e.multiplyByScalar(c.direction,l,u),e.add(c.origin,u,u)};var A={root0:0,root1:0};d.raySphere=function(e,t,r){if(r=p(e,t,r),n(r)&&!(r.stop<0))return r.start=Math.max(r.start,0),r};var x=new c;d.lineSegmentSphere=function(t,r,i,o){var a=x;e.clone(t,a.origin);var s=e.subtract(r,t,a.direction),u=e.magnitude(s);if(e.normalize(s,s),o=p(a,i,o),!(!n(o)||o.stop<0||o.start>u))return o.start=Math.max(o.start,0),o.stop=Math.min(o.stop,u),o};var T=new e,w=new e;d.rayEllipsoid=function(t,r){var n,i,o,a,s,u=r.oneOverRadii,c=e.multiplyComponents(u,t.origin,T),l=e.multiplyComponents(u,t.direction,w),p=e.magnitudeSquared(c),h=e.dot(c,l);if(p>1){if(h>=0)return;var m=h*h;if(n=p-1,i=e.magnitudeSquared(l),o=i*n,m<o)return;if(m>o){a=h*h-o,s=-h+Math.sqrt(a);var d=s/i,f=n/s;return d<f?{start:d,stop:f}:{start:f,stop:d}}var y=Math.sqrt(n/i);return{start:y,stop:y}}return p<1?(n=p-1,i=e.magnitudeSquared(l),o=i*n,a=h*h-o,s=-h+Math.sqrt(a),{start:0,stop:s/i}):h<0?(i=e.magnitudeSquared(l),{start:0,stop:-h/i}):void 0};var S=new e,R=new e,I=new e,N=new e,O=new e,b=new a,M=new a,P=new a,C=new a,L=new a,F=new a,D=new a,U=new e,B=new e,z=new t;d.grazingAltitudeLocation=function(t,r){var i=t.origin,s=t.direction,u=r.geodeticSurfaceNormal(i,S);if(e.dot(s,u)>=0)return i;var c=n(this.rayEllipsoid(t,r)),l=r.transformPositionToScaledSpace(s,S),p=e.normalize(l,l),h=e.mostOrthogonalAxis(l,N),d=e.normalize(e.cross(h,p,R),R),f=e.normalize(e.cross(p,d,I),I),y=b;y[0]=p.x,y[1]=p.y,y[2]=p.z,y[3]=d.x,y[4]=d.y,y[5]=d.z,y[6]=f.x,y[7]=f.y,y[8]=f.z;var v=a.transpose(y,M),g=a.fromScale(r.radii,P),_=a.fromScale(r.oneOverRadii,C),E=L;E[0]=0,E[1]=-s.z,E[2]=s.y,E[3]=s.z,E[4]=0,E[5]=-s.x,E[6]=-s.y,E[7]=s.x,E[8]=0;var A,x,T=a.multiply(a.multiply(v,_,F),E,F),w=a.multiply(a.multiply(T,g,D),y,D),G=a.multiplyByVector(T,i,O),k=m(w,e.negate(G,S),0,0,1),H=k.length;if(H>0){for(var V=e.clone(e.ZERO,B),q=Number.NEGATIVE_INFINITY,W=0;W<H;++W){A=a.multiplyByVector(g,a.multiplyByVector(y,k[W],U),U);var Y=e.normalize(e.subtract(A,i,N),N),j=e.dot(Y,s);j>q&&(q=j,V=e.clone(A,V))}var X=r.cartesianToCartographic(V,z);return q=o.clamp(q,0,1),x=e.magnitude(e.subtract(V,i,N))*Math.sqrt(1-q*q),x=c?-x:x,X.height=x,r.cartographicToCartesian(X,new e)}};var G=new e;return d.lineSegmentPlane=function(t,r,i,a){n(a)||(a=new e);var s=e.subtract(r,t,G),u=i.normal,c=e.dot(u,s);if(!(Math.abs(c)<o.EPSILON6)){var l=e.dot(u,t),p=-(i.distance+l)/c;if(!(p<0||p>1))return e.multiplyByScalar(s,p,a),e.add(t,a,a),a}},d.trianglePlaneIntersection=function(t,r,n,i){var o=i.normal,a=i.distance,s=e.dot(o,t)+a<0,u=e.dot(o,r)+a<0,c=e.dot(o,n)+a<0,l=0;l+=s?1:0,l+=u?1:0,l+=c?1:0;var p,h;if(1!==l&&2!==l||(p=new e,h=new e),1===l){if(s)return d.lineSegmentPlane(t,r,i,p),d.lineSegmentPlane(t,n,i,h),{positions:[t,r,n,p,h],indices:[0,3,4,1,2,4,1,4,3]};if(u)return d.lineSegmentPlane(r,n,i,p),d.lineSegmentPlane(r,t,i,h),{positions:[t,r,n,p,h],indices:[1,3,4,2,0,4,2,4,3]};if(c)return d.lineSegmentPlane(n,t,i,p),d.lineSegmentPlane(n,r,i,h),{positions:[t,r,n,p,h],indices:[2,3,4,0,1,4,0,4,3]}}else if(2===l){if(!s)return d.lineSegmentPlane(r,t,i,p),d.lineSegmentPlane(n,t,i,h),{positions:[t,r,n,p,h],indices:[1,2,4,1,4,3,0,3,4]};if(!u)return d.lineSegmentPlane(n,r,i,p),d.lineSegmentPlane(t,r,i,h),{positions:[t,r,n,p,h],indices:[2,0,4,2,4,3,1,3,4]};if(!c)return d.lineSegmentPlane(t,n,i,p),d.lineSegmentPlane(r,n,i,h),{positions:[t,r,n,p,h],indices:[0,1,4,0,4,3,2,3,4]}}},d}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(140),r(105),r(3),r(1),r(2),r(154),r(179),r(98),r(54),r(55)],i=function(e,t,r,n,i,o,a,s,u,c){"use strict";function l(e,t){return f.compare(e.julianDate,t.julianDate)}function p(e){_.julianDate=e;var r=f.leapSeconds,n=t(r,_,l);n<0&&(n=~n),n>=r.length&&(n=r.length-1);var i=r[n].offset;if(n>0){var o=f.secondsDifference(r[n].julianDate,e);o>i&&(n--,i=r[n].offset)}f.addSeconds(e,i,e)}function h(e,r){_.julianDate=e;var n=f.leapSeconds,i=t(n,_,l);if(i<0&&(i=~i),0===i)return f.addSeconds(e,-n[0].offset,r);if(i>=n.length)return f.addSeconds(e,-n[i-1].offset,r);var o=f.secondsDifference(n[i].julianDate,e);return 0===o?f.addSeconds(e,-n[i].offset,r):o<=1?void 0:f.addSeconds(e,-n[--i].offset,r)}function m(e,t,r){var n=t/u.SECONDS_PER_DAY|0;return e+=n,t-=u.SECONDS_PER_DAY*n,t<0&&(e--,t+=u.SECONDS_PER_DAY),r.dayNumber=e,r.secondsOfDay=t,r}function d(e,t,r,n,i,o,a){var s=(t-14)/12|0,c=e+4800+s,l=(1461*c/4|0)+(367*(t-2-12*s)/12|0)-(3*((c+100)/100|0)/4|0)+r-32075;n-=12,n<0&&(n+=24);var p=o+(n*u.SECONDS_PER_HOUR+i*u.SECONDS_PER_MINUTE+a*u.SECONDS_PER_MILLISECOND);return p>=43200&&(l-=1),[l,p]}function f(e,t,n){this.dayNumber=void 0,this.secondsOfDay=void 0,e=r(e,0),t=r(t,0),n=r(n,c.UTC);var i=0|e;t+=(e-i)*u.SECONDS_PER_DAY,m(i,t,this),n===c.UTC&&p(this)}var y=new o,v=[31,28,31,30,31,30,31,31,30,31,30,31],g=29,_=new s,E=/^(\d{4})$/,A=/^(\d{4})-(\d{2})$/,x=/^(\d{4})-?(\d{3})$/,T=/^(\d{4})-?W(\d{2})-?(\d{1})?$/,w=/^(\d{4})-?(\d{2})-?(\d{2})$/,S=/([Z+\-])?(\d{2})?:?(\d{2})?$/,R=/^(\d{2})(\.\d+)?/.source+S.source,I=/^(\d{2}):?(\d{2})(\.\d+)?/.source+S.source,N=/^(\d{2}):?(\d{2}):?(\d{2})(\.\d+)?/.source+S.source,O="Invalid ISO 8601 date.";f.fromDate=function(e,t){var r=d(e.getUTCFullYear(),e.getUTCMonth()+1,e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds());return n(t)?(m(r[0],r[1],t),p(t),t):new f(r[0],r[1],c.UTC)},f.fromIso8601=function(e,t){e=e.replace(",",".");var r,o,s,u=e.split("T"),l=1,h=1,y=0,_=0,S=0,b=0,M=u[0],P=u[1];if(!n(M))throw new i(O);var C;if(u=M.match(w),null!==u){if(C=M.split("-").length-1,C>0&&2!==C)throw new i(O);r=+u[1],l=+u[2],h=+u[3]}else if(u=M.match(A),null!==u)r=+u[1],l=+u[2];else if(u=M.match(E),null!==u)r=+u[1];else{var L;if(u=M.match(x),null!==u){if(r=+u[1],L=+u[2],s=a(r),L<1||s&&L>366||!s&&L>365)throw new i(O)}else{if(u=M.match(T),null===u)throw new i(O);r=+u[1];var F=+u[2],D=+u[3]||0;if(C=M.split("-").length-1,C>0&&(!n(u[3])&&1!==C||n(u[3])&&2!==C))throw new i(O);var U=new Date(Date.UTC(r,0,4));L=7*F+D-U.getUTCDay()-3}o=new Date(Date.UTC(r,0,1)),o.setUTCDate(L),l=o.getUTCMonth()+1,h=o.getUTCDate()}if(s=a(r),l<1||l>12||h<1||(2!==l||!s)&&h>v[l-1]||s&&2===l&&h>g)throw new i(O);var B;if(n(P)){if(u=P.match(N),null!==u){if(C=P.split(":").length-1,C>0&&2!==C&&3!==C)throw new i(O);y=+u[1],_=+u[2],S=+u[3],b=1e3*+(u[4]||0),B=5}else if(u=P.match(I),null!==u){if(C=P.split(":").length-1,C>2)throw new i(O);y=+u[1],_=+u[2],S=60*+(u[3]||0),B=4}else{if(u=P.match(R),null===u)throw new i(O);y=+u[1],_=60*+(u[2]||0),B=3}if(_>=60||S>=61||y>24||24===y&&(_>0||S>0||b>0))throw new i(O);var z=u[B],G=+u[B+1],k=+(u[B+2]||0);switch(z){case"+":y-=G,_-=k;break;case"-":y+=G,_+=k;break;case"Z":break;default:_+=new Date(Date.UTC(r,l-1,h,y,_)).getTimezoneOffset()}}else _+=new Date(r,l-1,h).getTimezoneOffset();var H=60===S;for(H&&S--;_>=60;)_-=60,y++;for(;y>=24;)y-=24,h++;for(o=s&&2===l?g:v[l-1];h>o;)h-=o,l++,l>12&&(l-=12,r++),o=s&&2===l?g:v[l-1];for(;_<0;)_+=60,y--;for(;y<0;)y+=24,h--;for(;h<1;)l--,l<1&&(l+=12,r--),o=s&&2===l?g:v[l-1],h+=o;var V=d(r,l,h,y,_,S,b);return n(t)?(m(V[0],V[1],t),p(t)):t=new f(V[0],V[1],c.UTC),H&&f.addSeconds(t,1,t),t},f.now=function(e){return f.fromDate(new Date,e)};var b=new f(0,0,c.TAI);return f.toGregorianDate=function(e,t){var r=!1,i=h(e,b);n(i)||(f.addSeconds(e,-1,b),i=h(b,b),r=!0);var a=i.dayNumber,s=i.secondsOfDay;s>=43200&&(a+=1);var c=a+68569|0,l=4*c/146097|0;c=c-((146097*l+3)/4|0)|0;var p=4e3*(c+1)/1461001|0;c=c-(1461*p/4|0)+31|0;var m=80*c/2447|0,d=c-(2447*m/80|0)|0;c=m/11|0;var y=m+2-12*c|0,v=100*(l-49)+p+c|0,g=s/u.SECONDS_PER_HOUR|0,_=s-g*u.SECONDS_PER_HOUR,E=_/u.SECONDS_PER_MINUTE|0;_-=E*u.SECONDS_PER_MINUTE;var A=0|_,x=(_-A)/u.SECONDS_PER_MILLISECOND;return g+=12,g>23&&(g-=24),r&&(A+=1),n(t)?(t.year=v,t.month=y,t.day=d,t.hour=g,t.minute=E,t.second=A,t.millisecond=x,t.isLeapSecond=r,t):new o(v,y,d,g,E,A,x,r)},f.toDate=function(e){var t=f.toGregorianDate(e,y),r=t.second;return t.isLeapSecond&&(r-=1),new Date(Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,r,t.millisecond))},f.toIso8601=function(t,r){var i,o=f.toGregorianDate(t,o);return n(r)||0===o.millisecond?n(r)&&0!==r?(i=(.01*o.millisecond).toFixed(r).replace(".","").slice(0,r),e("%04d-%02d-%02dT%02d:%02d:%02d.%sZ",o.year,o.month,o.day,o.hour,o.minute,o.second,i)):e("%04d-%02d-%02dT%02d:%02d:%02dZ",o.year,o.month,o.day,o.hour,o.minute,o.second):(i=(.01*o.millisecond).toString().replace(".",""),e("%04d-%02d-%02dT%02d:%02d:%02d.%sZ",o.year,o.month,o.day,o.hour,o.minute,o.second,i))},f.clone=function(e,t){if(n(e))return n(t)?(t.dayNumber=e.dayNumber,t.secondsOfDay=e.secondsOfDay,t):new f(e.dayNumber,e.secondsOfDay,c.TAI)},f.compare=function(e,t){var r=e.dayNumber-t.dayNumber;return 0!==r?r:e.secondsOfDay-t.secondsOfDay},f.equals=function(e,t){return e===t||n(e)&&n(t)&&e.dayNumber===t.dayNumber&&e.secondsOfDay===t.secondsOfDay},f.equalsEpsilon=function(e,t,r){return e===t||n(e)&&n(t)&&Math.abs(f.secondsDifference(e,t))<=r},f.totalDays=function(e){return e.dayNumber+e.secondsOfDay/u.SECONDS_PER_DAY},f.secondsDifference=function(e,t){var r=(e.dayNumber-t.dayNumber)*u.SECONDS_PER_DAY;return r+(e.secondsOfDay-t.secondsOfDay)},f.daysDifference=function(e,t){var r=e.dayNumber-t.dayNumber,n=(e.secondsOfDay-t.secondsOfDay)/u.SECONDS_PER_DAY;return r+n},f.computeTaiMinusUtc=function(e){_.julianDate=e;var r=f.leapSeconds,n=t(r,_,l);return n<0&&(n=~n,--n,n<0&&(n=0)),r[n].offset},f.addSeconds=function(e,t,r){return m(e.dayNumber,e.secondsOfDay+t,r)},f.addMinutes=function(e,t,r){var n=e.secondsOfDay+t*u.SECONDS_PER_MINUTE;return m(e.dayNumber,n,r)},f.addHours=function(e,t,r){var n=e.secondsOfDay+t*u.SECONDS_PER_HOUR;return m(e.dayNumber,n,r)},f.addDays=function(e,t,r){var n=e.dayNumber+t;return m(n,e.secondsOfDay,r)},f.lessThan=function(e,t){return f.compare(e,t)<0},f.lessThanOrEquals=function(e,t){return f.compare(e,t)<=0},f.greaterThan=function(e,t){return f.compare(e,t)>0},f.greaterThanOrEquals=function(e,t){return f.compare(e,t)>=0},f.prototype.clone=function(e){return f.clone(this,e)},f.prototype.equals=function(e){return f.equals(this,e)},f.prototype.equalsEpsilon=function(e,t){return f.equalsEpsilon(this,e,t)},f.prototype.toString=function(){return f.toIso8601(this)},f.leapSeconds=[new s(new f(2441317,43210,c.TAI),10),new s(new f(2441499,43211,c.TAI),11),new s(new f(2441683,43212,c.TAI),12),new s(new f(2442048,43213,c.TAI),13),new s(new f(2442413,43214,c.TAI),14),new s(new f(2442778,43215,c.TAI),15),new s(new f(2443144,43216,c.TAI),16),new s(new f(2443509,43217,c.TAI),17),new s(new f(2443874,43218,c.TAI),18),new s(new f(2444239,43219,c.TAI),19),new s(new f(2444786,43220,c.TAI),20),new s(new f(2445151,43221,c.TAI),21),new s(new f(2445516,43222,c.TAI),22),new s(new f(2446247,43223,c.TAI),23),new s(new f(2447161,43224,c.TAI),24),new s(new f(2447892,43225,c.TAI),25),new s(new f(2448257,43226,c.TAI),26),new s(new f(2448804,43227,c.TAI),27),new s(new f(2449169,43228,c.TAI),28),new s(new f(2449534,43229,c.TAI),29),new s(new f(2450083,43230,c.TAI),30),new s(new f(2450630,43231,c.TAI),31),new s(new f(2451179,43232,c.TAI),32),new s(new f(2453736,43233,c.TAI),33),new s(new f(2454832,43234,c.TAI),34),new s(new f(2456109,43235,c.TAI),35),new s(new f(2457204,43236,c.TAI),36),new s(new f(2457754,43237,c.TAI),37)],f}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(7),r(13),r(4),r(16),r(3),r(1),r(2),r(6),r(24),r(34),r(97),r(5),r(18),r(35),r(19)],i=function(e,t,r,n,i,o,a,s,u,c,l,p,h,m,d){"use strict";function f(e,t){this.center=r.clone(i(e,r.ZERO)),this.halfAxes=h.clone(i(t,h.ZERO))}function y(e,t,n,i,a,s,u,c){o(c)||(c=new f);var l=c.halfAxes;h.setColumn(l,0,e.xAxis,l),h.setColumn(l,1,e.yAxis,l),h.setColumn(l,2,e.zAxis,l);var p=S;p.x=(t+n)/2,p.y=(i+a)/2,p.z=(s+u)/2;var m=R;m.x=(n-t)/2,m.y=(a-i)/2,m.z=(u-s)/2;var d=c.center;return p=h.multiplyByVector(l,p,p),r.add(e.origin,p,d),h.multiplyByScale(l,m,l),c}var v=new r,g=new r,_=new r,E=new r,A=new r,x=new r,T=new h,w={unitary:new h,diagonal:new h};f.fromPoints=function(e,t){if(o(t)||(t=new f),!o(e)||0===e.length)return t.halfAxes=h.ZERO,t.center=r.ZERO,t;var n,i=e.length,a=r.clone(e[0],v);for(n=1;n<i;n++)r.add(a,e[n],a);var s=1/i;r.multiplyByScalar(a,s,a);var u,c=0,l=0,p=0,m=0,d=0,y=0;for(n=0;n<i;n++)u=r.subtract(e[n],a,g),c+=u.x*u.x,l+=u.x*u.y,p+=u.x*u.z,m+=u.y*u.y,d+=u.y*u.z,y+=u.z*u.z;c*=s,l*=s,p*=s,m*=s,d*=s,y*=s;var S=T;S[0]=c,S[1]=l,S[2]=p,S[3]=l,S[4]=m,S[5]=d,S[6]=p,S[7]=d,S[8]=y;var R=h.computeEigenDecomposition(S,w),I=h.clone(R.unitary,t.halfAxes),N=h.getColumn(I,0,E),O=h.getColumn(I,1,A),b=h.getColumn(I,2,x),M=-Number.MAX_VALUE,P=-Number.MAX_VALUE,C=-Number.MAX_VALUE,L=Number.MAX_VALUE,F=Number.MAX_VALUE,D=Number.MAX_VALUE;for(n=0;n<i;n++)u=e[n],M=Math.max(r.dot(N,u),M),P=Math.max(r.dot(O,u),P),C=Math.max(r.dot(b,u),C),L=Math.min(r.dot(N,u),L),F=Math.min(r.dot(O,u),F),D=Math.min(r.dot(b,u),D);N=r.multiplyByScalar(N,.5*(L+M),N),O=r.multiplyByScalar(O,.5*(F+P),O),b=r.multiplyByScalar(b,.5*(D+C),b);var U=r.add(N,O,t.center);
U=r.add(U,b,U);var B=_;return B.x=M-L,B.y=P-F,B.z=C-D,r.multiplyByScalar(B,.5,B),h.multiplyByScale(t.halfAxes,B,t.halfAxes),t};var S=new r,R=new r,I=new n,N=new r,O=[new n,new n,new n,new n,new n,new n,new n,new n],b=[new r,new r,new r,new r,new r,new r,new r,new r],M=[new t,new t,new t,new t,new t,new t,new t,new t];f.fromRectangle=function(e,t,r,n,o){t=i(t,0),r=i(r,0),n=i(n,s.WGS84);var a=d.center(e,I),c=n.cartographicToCartesian(a,N),l=new u(c,n),p=l.plane,h=O[0],f=O[1],v=O[2],g=O[3],_=O[4],E=O[5],A=O[6],x=O[7],T=a.longitude,w=e.south<0&&e.north>0?0:a.latitude;A.latitude=E.latitude=_.latitude=e.south,x.latitude=g.latitude=w,h.latitude=f.latitude=v.latitude=e.north,A.longitude=x.longitude=h.longitude=e.west,E.longitude=f.longitude=T,_.longitude=g.longitude=v.longitude=e.east,v.height=f.height=h.height=x.height=A.height=E.height=_.height=g.height=r,n.cartographicArrayToCartesianArray(O,b),l.projectPointsToNearestOnPlane(b,M);var S=Math.min(M[6].x,M[7].x,M[0].x),R=Math.max(M[2].x,M[3].x,M[4].x),P=Math.min(M[4].y,M[5].y,M[6].y),C=Math.max(M[0].y,M[1].y,M[2].y);v.height=h.height=_.height=A.height=t,n.cartographicArrayToCartesianArray(O,b);var L=Math.min(m.getPointDistance(p,b[0]),m.getPointDistance(p,b[2]),m.getPointDistance(p,b[4]),m.getPointDistance(p,b[6])),F=r;return y(l,S,R,P,C,L,F,o)},f.clone=function(e,t){if(o(e))return o(t)?(r.clone(e.center,t.center),h.clone(e.halfAxes,t.halfAxes),t):new f(e.center,e.halfAxes)},f.intersectPlane=function(e,t){var n=e.center,i=t.normal,o=e.halfAxes,a=i.x,s=i.y,u=i.z,l=Math.abs(a*o[h.COLUMN0ROW0]+s*o[h.COLUMN0ROW1]+u*o[h.COLUMN0ROW2])+Math.abs(a*o[h.COLUMN1ROW0]+s*o[h.COLUMN1ROW1]+u*o[h.COLUMN1ROW2])+Math.abs(a*o[h.COLUMN2ROW0]+s*o[h.COLUMN2ROW1]+u*o[h.COLUMN2ROW2]),p=r.dot(i,n)+t.distance;return p<=-l?c.OUTSIDE:p>=l?c.INSIDE:c.INTERSECTING};var P=new r,C=new r,L=new r,F=new r;f.distanceSquaredTo=function(e,t){var n=r.subtract(t,e.center,S),i=e.halfAxes,o=h.getColumn(i,0,P),a=h.getColumn(i,1,C),s=h.getColumn(i,2,L),u=r.magnitude(o),c=r.magnitude(a),l=r.magnitude(s);r.normalize(o,o),r.normalize(a,a),r.normalize(s,s);var p=F;p.x=r.dot(n,o),p.y=r.dot(n,a),p.z=r.dot(n,s);var m,d=0;return p.x<-u?(m=p.x+u,d+=m*m):p.x>u&&(m=p.x-u,d+=m*m),p.y<-c?(m=p.y+c,d+=m*m):p.y>c&&(m=p.y-c,d+=m*m),p.z<-l?(m=p.z+l,d+=m*m):p.z>l&&(m=p.z-l,d+=m*m),d};var D=new r,U=new r;f.computePlaneDistances=function(e,t,n,i){o(i)||(i=new l);var a=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,u=e.center,c=e.halfAxes,p=h.getColumn(c,0,P),m=h.getColumn(c,1,C),d=h.getColumn(c,2,L),f=r.add(p,m,D);r.add(f,d,f),r.add(f,u,f);var y=r.subtract(f,t,U),v=r.dot(n,y);return a=Math.min(v,a),s=Math.max(v,s),r.add(u,p,f),r.add(f,m,f),r.subtract(f,d,f),r.subtract(f,t,y),v=r.dot(n,y),a=Math.min(v,a),s=Math.max(v,s),r.add(u,p,f),r.subtract(f,m,f),r.add(f,d,f),r.subtract(f,t,y),v=r.dot(n,y),a=Math.min(v,a),s=Math.max(v,s),r.add(u,p,f),r.subtract(f,m,f),r.subtract(f,d,f),r.subtract(f,t,y),v=r.dot(n,y),a=Math.min(v,a),s=Math.max(v,s),r.subtract(u,p,f),r.add(f,m,f),r.add(f,d,f),r.subtract(f,t,y),v=r.dot(n,y),a=Math.min(v,a),s=Math.max(v,s),r.subtract(u,p,f),r.add(f,m,f),r.subtract(f,d,f),r.subtract(f,t,y),v=r.dot(n,y),a=Math.min(v,a),s=Math.max(v,s),r.subtract(u,p,f),r.subtract(f,m,f),r.add(f,d,f),r.subtract(f,t,y),v=r.dot(n,y),a=Math.min(v,a),s=Math.max(v,s),r.subtract(u,p,f),r.subtract(f,m,f),r.subtract(f,d,f),r.subtract(f,t,y),v=r.dot(n,y),a=Math.min(v,a),s=Math.max(v,s),i.start=a,i.stop=s,i};var B=new e;return f.isOccluded=function(t,r){var n=e.fromOrientedBoundingBox(t,B);return!r.isBoundingSphereVisible(n)},f.prototype.intersectPlane=function(e){return f.intersectPlane(this,e)},f.prototype.distanceSquaredTo=function(e){return f.distanceSquaredTo(this,e)},f.prototype.computePlaneDistances=function(e,t,r){return f.computePlaneDistances(this,e,t,r)},f.prototype.isOccluded=function(e){return f.isOccluded(this,e)},f.equals=function(e,t){return e===t||o(e)&&o(t)&&r.equals(e.center,t.center)&&h.equals(e.halfAxes,t.halfAxes)},f.prototype.clone=function(e){return f.clone(this,e)},f.prototype.equals=function(e){return f.equals(this,e)},f}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(13),r(4),r(32),r(16),r(29),r(24),r(5),r(18),r(20),r(36),r(26),r(37)],i=function(e,t,r,n,i,o,a,s,u,c,l,p){"use strict";function h(e,t){for(var r=new Array(e.length),n=0;n<e.length;n++){var i=e[n];C=t.cartesianToCartographic(i,C),r[n]=C.height,e[n]=t.scaleToGeodeticSurface(i,i)}return r}function m(e,r,n,i){var o,a=e[0],s=e[1],u=t.angleBetween(a,s),c=Math.ceil(u/i),l=new Array(c);if(r===n){for(o=0;o<c;o++)l[o]=r;return l.push(n),l}var p=n-r,h=p/c;for(o=1;o<c;o++){var m=r+o*h;l[o]=m}return l[0]=r,l.push(n),l}function d(r,n,i,a){var s=new o(i,a),u=s.projectPointOntoPlane(t.add(i,r,Y),Y),c=s.projectPointOntoPlane(t.add(i,n,j),j),l=e.angleBetween(u,c);return c.x*u.y-c.y*u.x>=0?-l:l}function f(e,r,n,i,o,a,c,l){var h=z,m=G;F=p.eastNorthUpToFixedFrame(e,o,F),h=u.multiplyByPointAsVector(F,L,h),h=t.normalize(h,h);var f=d(h,r,e,o);U=s.fromRotationZ(f,U),k.z=a,F=u.multiplyTransformation(F,u.fromRotationTranslation(U,k,D),F);var y=B;y[0]=c;for(var v=0;v<l;v++)for(var g=0;g<n.length;g+=3)m=t.fromArray(n,g,m),m=s.multiplyByVector(y,m,m),m=u.multiplyByPoint(F,m,m),i.push(m.x,m.y,m.z);return i}function y(e,r,n,i,o,a,s){for(var u=0;u<e.length;u+=3){var c=t.fromArray(e,u,H);i=f(c,r,n,i,o,a[u/3],s,1)}return i}function v(e,t){var r=e.length,n=new Array(6*r),i=0,o=t.x+t.width/2,a=t.y+t.height/2,s=e[0];n[i++]=s.x-o,n[i++]=0,n[i++]=s.y-a;for(var u=1;u<r;u++){s=e[u];var c=s.x-o,l=s.y-a;n[i++]=c,n[i++]=0,n[i++]=l,n[i++]=c,n[i++]=0,n[i++]=l}return s=e[0],n[i++]=s.x-o,n[i++]=0,n[i++]=s.y-a,n}function g(e,t){for(var r=e.length,n=new Array(3*r),i=0,o=t.x+t.width/2,a=t.y+t.height/2,s=0;s<r;s++)n[i++]=e[s].x-o,n[i++]=0,n[i++]=e[s].y-a;return n}function _(e,r,n,o,u,c,p,h,m,d){var y,v=t.angleBetween(t.subtract(r,e,b),t.subtract(n,e,M)),g=o===i.BEVELED?0:Math.ceil(v/a.toRadians(5));y=u?s.fromQuaternion(l.fromAxisAngle(t.negate(e,b),v/(g+1),V),W):s.fromQuaternion(l.fromAxisAngle(e,v/(g+1),V),W);var _,E;if(r=t.clone(r,q),g>0)for(var A=d?2:1,x=0;x<g;x++)r=s.multiplyByVector(y,r,r),_=t.subtract(r,e,b),_=t.normalize(_,_),u||(_=t.negate(_,_)),E=c.scaleToGeodeticSurface(r,M),p=f(E,_,h,p,c,m,1,A);else _=t.subtract(r,e,b),_=t.normalize(_,_),u||(_=t.negate(_,_)),E=c.scaleToGeodeticSurface(r,M),p=f(E,_,h,p,c,m,1,1),n=t.clone(n,q),_=t.subtract(n,e,b),_=t.normalize(_,_),u||(_=t.negate(_,_)),E=c.scaleToGeodeticSurface(n,M),p=f(E,_,h,p,c,m,1,1);return p}var E=[new t,new t],A=new t,x=new t,T=new t,w=new t,S=new t,R=new t,I=new t,N=new t,O=new t,b=new t,M=new t,P={},C=new n,L=new t(-1,0,0),F=new u,D=new u,U=new s,B=s.IDENTITY.clone(),z=new t,G=new r,k=new t,H=new t,V=new l,q=new t,W=new s;P.removeDuplicatesFromShape=function(t){for(var r=t.length,n=[],i=r-1,o=0;o<r;i=o++){var a=t[i],s=t[o];e.equals(a,s)||n.push(s)}return n};var Y=new t,j=new t;P.angleIsGreaterThanPi=function(e,r,n,i){var a=new o(n,i),s=a.projectPointOntoPlane(t.add(n,e,Y),Y),u=a.projectPointOntoPlane(t.add(n,r,j),j);return u.x*s.y-u.y*s.x>=0};var X=new t,Z=new t;return P.computePositions=function(e,r,n,o,s){var u=o._ellipsoid,l=h(e,u),p=o._granularity,d=o._cornerType,M=s?v(r,n):g(r,n),C=s?g(r,n):void 0,L=n.height/2,F=n.width/2,D=e.length,U=[],B=s?[]:void 0,z=A,G=x,k=T,H=w,V=S,q=R,W=I,Y=N,j=O,K=e[0],J=e[1];H=u.geodeticSurfaceNormal(K,H),z=t.subtract(J,K,z),z=t.normalize(z,z),Y=t.cross(H,z,Y),Y=t.normalize(Y,Y);var Q=l[0],$=l[1];s&&(B=f(K,Y,C,B,u,Q+L,1,1)),j=t.clone(K,j),K=J,G=t.negate(z,G);for(var ee,te,re=1;re<D-1;re++){var ne=s?2:1;J=e[re+1],z=t.subtract(J,K,z),z=t.normalize(z,z),k=t.add(z,G,k),k=t.normalize(k,k),H=u.geodeticSurfaceNormal(K,H);var ie=t.multiplyByScalar(H,t.dot(z,H),X);t.subtract(z,ie,ie),t.normalize(ie,ie);var oe=t.multiplyByScalar(H,t.dot(G,H),Z);t.subtract(G,oe,oe),t.normalize(oe,oe);var ae=!a.equalsEpsilon(Math.abs(t.dot(ie,oe)),1,a.EPSILON7);if(ae){k=t.cross(k,H,k),k=t.cross(H,k,k),k=t.normalize(k,k);var se=1/Math.max(.25,t.magnitude(t.cross(k,G,b))),ue=P.angleIsGreaterThanPi(z,G,K,u);ue?(V=t.add(K,t.multiplyByScalar(k,se*F,k),V),q=t.add(V,t.multiplyByScalar(Y,F,q),q),E[0]=t.clone(j,E[0]),E[1]=t.clone(q,E[1]),ee=m(E,Q+L,$+L,p),te=c.generateArc({positions:E,granularity:p,ellipsoid:u}),U=y(te,Y,M,U,u,ee,1),Y=t.cross(H,z,Y),Y=t.normalize(Y,Y),W=t.add(V,t.multiplyByScalar(Y,F,W),W),d===i.ROUNDED||d===i.BEVELED?_(V,q,W,d,ue,u,U,M,$+L,s):(k=t.negate(k,k),U=f(K,k,M,U,u,$+L,se,ne)),j=t.clone(W,j)):(V=t.add(K,t.multiplyByScalar(k,se*F,k),V),q=t.add(V,t.multiplyByScalar(Y,-F,q),q),E[0]=t.clone(j,E[0]),E[1]=t.clone(q,E[1]),ee=m(E,Q+L,$+L,p),te=c.generateArc({positions:E,granularity:p,ellipsoid:u}),U=y(te,Y,M,U,u,ee,1),Y=t.cross(H,z,Y),Y=t.normalize(Y,Y),W=t.add(V,t.multiplyByScalar(Y,-F,W),W),d===i.ROUNDED||d===i.BEVELED?_(V,q,W,d,ue,u,U,M,$+L,s):U=f(K,k,M,U,u,$+L,se,ne),j=t.clone(W,j)),G=t.negate(z,G)}else U=f(j,Y,M,U,u,Q+L,1,1),j=K;Q=$,$=l[re+1],K=J}E[0]=t.clone(j,E[0]),E[1]=t.clone(K,E[1]),ee=m(E,Q+L,$+L,p),te=c.generateArc({positions:E,granularity:p,ellipsoid:u}),U=y(te,Y,M,U,u,ee,1),s&&(B=f(K,Y,C,B,u,$+L,1,1)),D=U.length;var ce=s?D+B.length:D,le=new Float64Array(ce);return le.set(U),s&&le.set(B,D),le},P}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(2),r(5)],i=function(e,t){"use strict";function r(e,r,n){var i=e+r;return t.sign(e)!==t.sign(r)&&Math.abs(i/Math.max(Math.abs(e),Math.abs(r)))<n?0:i}var n={};return n.computeDiscriminant=function(e,t,r){var n=t*t-4*e*r;return n},n.computeRealRoots=function(e,n,i){var o;if(0===e)return 0===n?[]:[-i/n];if(0===n){if(0===i)return[0,0];var a=Math.abs(i),s=Math.abs(e);if(a<s&&a/s<t.EPSILON14)return[0,0];if(a>s&&s/a<t.EPSILON14)return[];if(o=-i/e,o<0)return[];var u=Math.sqrt(o);return[-u,u]}if(0===i)return o=-n/e,o<0?[o,0]:[0,o];var c=n*n,l=4*e*i,p=r(c,-l,t.EPSILON14);if(p<0)return[];var h=-.5*r(n,t.sign(n)*Math.sqrt(p),t.EPSILON14);return n>0?[h/e,i/h]:[i/h,h/e]},n}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(17)],i=function(e){"use strict";function t(){this._array=[],this._offset=0,this._length=0}return e(t.prototype,{length:{get:function(){return this._length}}}),t.prototype.enqueue=function(e){this._array.push(e),this._length++},t.prototype.dequeue=function(){if(0!==this._length){var e=this._array,t=this._offset,r=e[t];return e[t]=void 0,t++,t>10&&2*t>e.length&&(this._array=e.slice(t),t=0),this._offset=t,this._length--,r}},t.prototype.peek=function(){if(0!==this._length)return this._array[this._offset]},t.prototype.contains=function(e){return this._array.indexOf(e)!==-1},t.prototype.clear=function(){this._array.length=this._offset=this._length=0},t.prototype.sort=function(e){this._offset>0&&(this._array=this._array.slice(this._offset),this._offset=0),this._array.sort(e)},t}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(1)],i=function(e){"use strict";function t(e){this.name="RuntimeError",this.message=e;var t;try{throw new Error}catch(e){t=e.stack}this.stack=t}return e(Object.create)&&(t.prototype=Object.create(Error.prototype),t.prototype.constructor=t),t.prototype.toString=function(){var t=this.name+": "+this.message;return e(this.stack)&&(t+="\n"+this.stack.toString()),t},t}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(38),r(13),r(4),r(9),r(1),r(5),r(18),r(20),r(171)],i=function(e,t,r,n,i,o,a,s,u){"use strict";function c(e,t,n,o,a){var c,h,y,v;if(i(e)&&i(t)&&i(n)&&i(o)){var g=e.minimum,_=e.maximum,E=r.subtract(_,g,p),A=n-t,x=Math.max(r.maximumComponent(E),A);c=x<f-1?u.BITS12:u.NONE,h=e.center,y=s.inverseTransformation(o,new s);var T=r.negate(g,l);s.multiply(s.fromTranslation(T,m),y,y);var w=l;w.x=1/E.x,w.y=1/E.y,w.z=1/E.z,s.multiply(s.fromScale(w,m),y,y),v=s.clone(o),s.setTranslation(v,r.ZERO,v),o=s.clone(o,new s);var S=s.fromTranslation(g,m),R=s.fromScale(E,d),I=s.multiply(S,R,m);s.multiply(o,I,o),s.multiply(v,I,v)}this.quantization=c,this.minimumHeight=t,this.maximumHeight=n,this.center=h,this.toScaledENU=y,this.fromScaledENU=o,this.matrix=v,this.hasVertexNormals=a}var l=new r,p=new r,h=new t,m=new s,d=new s,f=Math.pow(2,12);c.prototype.encode=function(n,i,a,c,p,m){var d=c.x,f=c.y;if(this.quantization===u.BITS12){a=s.multiplyByPoint(this.toScaledENU,a,l),a.x=o.clamp(a.x,0,1),a.y=o.clamp(a.y,0,1),a.z=o.clamp(a.z,0,1);var y=this.maximumHeight-this.minimumHeight,v=o.clamp((p-this.minimumHeight)/y,0,1);t.fromElements(a.x,a.y,h);var g=e.compressTextureCoordinates(h);t.fromElements(a.z,v,h);var _=e.compressTextureCoordinates(h);t.fromElements(d,f,h);var E=e.compressTextureCoordinates(h);n[i++]=g,n[i++]=_,n[i++]=E}else r.subtract(a,this.center,l),n[i++]=l.x,n[i++]=l.y,n[i++]=l.z,n[i++]=p,n[i++]=d,n[i++]=f;return this.hasVertexNormals&&(n[i++]=e.octPackFloat(m)),i},c.prototype.decodePosition=function(t,n,o){if(i(o)||(o=new r),n*=this.getStride(),this.quantization===u.BITS12){var a=e.decompressTextureCoordinates(t[n],h);o.x=a.x,o.y=a.y;var c=e.decompressTextureCoordinates(t[n+1],h);return o.z=c.x,s.multiplyByPoint(this.fromScaledENU,o,o)}return o.x=t[n],o.y=t[n+1],o.z=t[n+2],r.add(o,this.center,o)},c.prototype.decodeTextureCoordinates=function(r,n,o){return i(o)||(o=new t),n*=this.getStride(),this.quantization===u.BITS12?e.decompressTextureCoordinates(r[n+2],o):t.fromElements(r[n+4],r[n+5],o)},c.prototype.decodeHeight=function(t,r){if(r*=this.getStride(),this.quantization===u.BITS12){var n=e.decompressTextureCoordinates(t[r+1],h);return n.y*(this.maximumHeight-this.minimumHeight)+this.minimumHeight}return t[r+3]},c.prototype.getOctEncodedNormal=function(e,r,n){var i=this.getStride();r=(r+1)*i-1;var o=e[r]/256,a=Math.floor(o),s=256*(o-a);return t.fromElements(a,s,n)},c.prototype.getStride=function(){var e;switch(this.quantization){case u.BITS12:e=3;break;default:e=6}return this.hasVertexNormals&&++e,e};var y={position3DAndHeight:0,textureCoordAndEncodedNormals:1},v={compressed:0};return c.prototype.getAttributes=function(e){var t=n.FLOAT;if(this.quantization===u.NONE){var r=n.getSizeInBytes(t),i=4,o=this.hasVertexNormals?3:2,a=(this.hasVertexNormals?7:6)*r;return[{index:y.position3DAndHeight,vertexBuffer:e,componentDatatype:t,componentsPerAttribute:i,offsetInBytes:0,strideInBytes:a},{index:y.textureCoordAndEncodedNormals,vertexBuffer:e,componentDatatype:t,componentsPerAttribute:o,offsetInBytes:i*r,strideInBytes:a}]}var s=3;return s+=this.hasVertexNormals?1:0,[{index:v.compressed,vertexBuffer:e,componentDatatype:t,componentsPerAttribute:s}]},c.prototype.getAttributeLocations=function(){return this.quantization===u.NONE?y:v},c.clone=function(e,t){return i(t)||(t=new c),t.quantization=e.quantization,t.minimumHeight=e.minimumHeight,t.maximumHeight=e.maximumHeight,t.center=r.clone(e.center),t.toScaledENU=s.clone(e.toScaledENU),t.fromScaledENU=s.clone(e.fromScaledENU),t.matrix=s.clone(e.matrix),t.hasVertexNormals=e.hasVertexNormals,t},c}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(8)],i=function(e){"use strict";var t={SECONDS_PER_MILLISECOND:.001,SECONDS_PER_MINUTE:60,MINUTES_PER_HOUR:60,HOURS_PER_DAY:24,SECONDS_PER_HOUR:3600,MINUTES_PER_DAY:1440,SECONDS_PER_DAY:86400,DAYS_PER_JULIAN_CENTURY:36525,PICOSECOND:1e-9,MODIFIED_JULIAN_DATE_DIFFERENCE:2400000.5};return e(t)}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(8)],i=function(e){"use strict";var t={UTC:0,TAI:1};return e(t)}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(109),r(23)],i=function(e,t){"use strict";function r(t,r){var n=e.unpackCombineGeometryParameters(t),i=e.combineGeometry(n);return e.packCombineGeometryResults(i,r)}return t(r)}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(141),r(1)],i=function(e,t){"use strict";return function(r,n){return t(n)&&(r=e.unpack(r,n)),e.createGeometry(r)}}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(142),r(1)],i=function(e,t){"use strict";return function(r,n){return t(n)&&(r=e.unpack(r,n)),e.createGeometry(r)}}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(4),r(143),r(1),r(6)],i=function(e,t,r,n){"use strict";function i(i,o){return r(o)&&(i=t.unpack(i,o)),i._ellipseGeometry._center=e.clone(i._ellipseGeometry._center),i._ellipseGeometry._ellipsoid=n.clone(i._ellipseGeometry._ellipsoid),t.createGeometry(i)}return i}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(4),r(144),r(1),r(6)],i=function(e,t,r,n){"use strict";function i(i,o){return r(o)&&(i=t.unpack(i,o)),i._ellipseGeometry._center=e.clone(i._ellipseGeometry._center),i._ellipseGeometry._ellipsoid=n.clone(i._ellipseGeometry._ellipsoid),t.createGeometry(i)}return i}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(145),r(1),r(6)],i=function(e,t,r){"use strict";function n(n,i){return t(i)&&(n=e.unpack(n,i)),n._ellipsoid=r.clone(n._ellipsoid),e.createGeometry(n)}return n}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(146),r(1),r(6)],i=function(e,t,r){"use strict";function n(n,i){return t(i)&&(n=e.unpack(n,i)),n._ellipsoid=r.clone(n._ellipsoid),e.createGeometry(n)}return n}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(148),r(1)],i=function(e,t){"use strict";return function(r,n){return t(n)&&(r=e.unpack(r,n)),e.createGeometry(r)}}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(149),r(1)],i=function(e,t){"use strict";return function(r,n){return t(n)&&(r=e.unpack(r,n)),e.createGeometry(r)}}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(4),r(1),r(90),r(6)],i=function(e,t,r,n){"use strict";function i(i,o){return t(o)&&(i=r.unpack(i,o)),i._center=e.clone(i._center),i._ellipsoid=n.clone(i._ellipsoid),r.createGeometry(i)}return i}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(4),r(1),r(92),r(6)],i=function(e,t,r,n){"use strict";function i(i,o){return t(o)&&(i=r.unpack(i,o)),i._center=e.clone(i._center),i._ellipsoid=n.clone(i._ellipsoid),r.createGeometry(i)}return i}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(1),r(93)],i=function(e,t){"use strict";return function(r,n){return e(n)&&(r=t.unpack(r,n)),t.createGeometry(r)}}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(1),r(94)],i=function(e,t){"use strict";return function(r,n){return e(r.buffer,n)&&(r=t.unpack(r,n)),t.createGeometry(r)}}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(1),r(109),r(31),r(23),r],i=function(e,t,n,i,o){"use strict";function a(t){var n=u[t];return e(n)||(u[n]=n=r(186)("./"+t)),n}function s(r,n){for(var i=r.subTasks,o=i.length,s=new Array(o),u=0;u<o;u++){var c=i[u],l=c.geometry,p=c.moduleName;if(e(p)){var h=a(p);s[u]=h(l,c.offset)}else s[u]=l}return t.packCreateGeometryResults(s,n)}var u={};return i(s)}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(158)],i=function(e){"use strict";return e.createGeometry}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(1),r(6),r(159)],i=function(e,t,r){"use strict";function n(n,i){return e(i)&&(n=r.unpack(n,i)),n._ellipsoid=t.clone(n._ellipsoid),r.createGeometry(n)}return n}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(1),r(6),r(160)],i=function(e,t,r){"use strict";function n(n,i){return e(i)&&(n=r.unpack(n,i)),n._ellipsoid=t.clone(n._ellipsoid),r.createGeometry(n)}return n}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(1),r(6),r(161)],i=function(e,t,r){"use strict";function n(n,i){return e(i)&&(n=r.unpack(n,i)),n._ellipsoid=t.clone(n._ellipsoid),r.createGeometry(n)}return n}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(1),r(6),r(162)],i=function(e,t,r){"use strict";function n(n,i){return e(i)&&(n=r.unpack(n,i)),n._ellipsoid=t.clone(n._ellipsoid),r.createGeometry(n)}return n}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(1),r(6),r(163)],i=function(e,t,r){"use strict";function n(n,i){return e(i)&&(n=r.unpack(n,i)),n._ellipsoid=t.clone(n._ellipsoid),r.createGeometry(n)}return n}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(1),r(6),r(19),r(165)],i=function(e,t,r,n){"use strict";function i(i,o){return e(o)&&(i=n.unpack(i,o)),i._ellipsoid=t.clone(i._ellipsoid),i._rectangle=r.clone(i._rectangle),n.createGeometry(i)}return i}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(1),r(6),r(19),r(166)],i=function(e,t,r,n){"use strict";function i(i,o){return e(o)&&(i=n.unpack(i,o)),i._ellipsoid=t.clone(i._ellipsoid),i._rectangle=r.clone(i._rectangle),n.createGeometry(i)}return i}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(1),r(6),r(168)],i=function(e,t,r){"use strict";function n(n,i){return e(i)&&(n=r.unpack(n,i)),n._ellipsoid=t.clone(n._ellipsoid),r.createGeometry(n)}return n}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(1),r(169)],i=function(e,t){"use strict";return function(r,n){return e(n)&&(r=t.unpack(r,n)),t.createGeometry(r)}}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(1),r(170)],i=function(e,t){"use strict";return function(r,n){return e(n)&&(r=t.unpack(r,n)),t.createGeometry(r)}}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(6),r(155),r(19),r(23)],i=function(e,t,r,n){"use strict";function i(n,i){var o=n.width,a=n.height;n.skirtHeight>0&&(o+=2,a+=2),n.ellipsoid=e.clone(n.ellipsoid),n.rectangle=r.clone(n.rectangle);var s=t.computeVertices(n),u=s.vertices;return i.push(u.buffer),{vertices:u.buffer,numberOfAttributes:s.encoding.getStride(),minimumHeight:s.minimumHeight,maximumHeight:s.maximumHeight,gridWidth:o,gridHeight:a,boundingSphere3D:s.boundingSphere3D,orientedBoundingBox:s.orientedBoundingBox,occludeePointInScaledSpace:s.occludeePointInScaledSpace,encoding:s.encoding}}return n(i)}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(38),r(42),r(7),r(13),r(4),r(16),r(1),r(6),r(15),r(5),r(18),r(20),r(48),r(53),r(37),r(23)],i=function(e,t,r,n,i,o,a,s,u,c,l,p,h,m,d,f){"use strict";function y(o,l){var f=o.quantizedVertices,y=f.length/3,N=o.octEncodedNormals,O=o.westIndices.length+o.eastIndices.length+o.southIndices.length+o.northIndices.length,b=o.rectangle,M=b.west,P=b.south,C=b.east,L=b.north,F=s.clone(o.ellipsoid),D=o.exaggeration,U=o.minimumHeight*D,B=o.maximumHeight*D,z=o.relativeToCenter,G=d.eastNorthUpToFixedFrame(z,F),k=p.inverseTransformation(G,new p),H=f.subarray(0,y),V=f.subarray(y,2*y),q=f.subarray(2*y,3*y),W=a(N),Y=new Array(y),j=new Array(y),X=new Array(y),Z=A;Z.x=Number.POSITIVE_INFINITY,Z.y=Number.POSITIVE_INFINITY,Z.z=Number.POSITIVE_INFINITY;var K=x;K.x=Number.NEGATIVE_INFINITY,K.y=Number.NEGATIVE_INFINITY,K.z=Number.NEGATIVE_INFINITY;for(var J=0;J<y;++J){var Q=H[J]/_,$=V[J]/_,ee=c.lerp(U,B,q[J]/_);T.longitude=c.lerp(M,C,Q),T.latitude=c.lerp(P,L,$),T.height=ee;var te=F.cartographicToCartesian(T);Y[J]=new n(Q,$),j[J]=ee,X[J]=te,p.multiplyByPoint(k,te,E),i.minimumByComponent(E,Z,Z),i.maximumByComponent(E,K,K)}var re,ne;1!==D&&(ne=r.fromPoints(X),re=h.fromRectangle(b,U,B,F));var ie=U;ie=Math.min(ie,v(o.westIndices,o.westSkirtHeight,j,Y,b,F,k,Z,K)),ie=Math.min(ie,v(o.southIndices,o.southSkirtHeight,j,Y,b,F,k,Z,K)),ie=Math.min(ie,v(o.eastIndices,o.eastSkirtHeight,j,Y,b,F,k,Z,K)),ie=Math.min(ie,v(o.northIndices,o.northSkirtHeight,j,Y,b,F,k,Z,K));for(var oe=new t(Z,K,z),ae=new m(oe,ie,B,G,W),se=ae.getStride(),ue=y*se+O*se,ce=new Float32Array(ue),le=0,pe=0;pe<y;++pe){if(W){var he=2*pe;if(w.x=N[he],w.y=N[he+1],1!==D){var me=e.octDecode(w.x,w.y,S),de=d.eastNorthUpToFixedFrame(X[pe],F,I),fe=p.inverseTransformation(de,R);p.multiplyByPointAsVector(fe,me,me),me.z*=D,i.normalize(me,me),p.multiplyByPointAsVector(de,me,me),i.normalize(me,me),e.octEncode(me,w)}}le=ae.encode(ce,le,X[pe],Y[pe],j[pe],w)}var ye=Math.max(0,2*(O-4)),ve=o.indices.length+3*ye,ge=u.createTypedArray(y+O,ve);ge.set(o.indices,0);var _e=y*se,Ee=o.indices.length;return Ee=g(ce,_e,ge,Ee,o.westIndices,ae,j,Y,N,F,b,o.westSkirtHeight,!0,D),_e+=o.westIndices.length*se,Ee=g(ce,_e,ge,Ee,o.southIndices,ae,j,Y,N,F,b,o.southSkirtHeight,!1,D),_e+=o.southIndices.length*se,Ee=g(ce,_e,ge,Ee,o.eastIndices,ae,j,Y,N,F,b,o.eastSkirtHeight,!1,D),_e+=o.eastIndices.length*se,g(ce,_e,ge,Ee,o.northIndices,ae,j,Y,N,F,b,o.northSkirtHeight,!0,D),l.push(ce.buffer,ge.buffer),{vertices:ce.buffer,indices:ge.buffer,vertexStride:se,center:z,minimumHeight:U,maximumHeight:B,boundingSphere:ne,orientedBoundingBox:re,encoding:ae,skirtIndex:o.indices.length}}function v(e,t,r,n,o,a,s,u,l){var h=Number.POSITIVE_INFINITY,m=o.north,d=o.south,f=o.east,y=o.west;f<y&&(f+=c.TWO_PI);for(var v=e.length,g=0;g<v;++g){var _=e[g],A=r[_],x=n[_];T.longitude=c.lerp(y,f,x.x),T.latitude=c.lerp(d,m,x.y),T.height=A-t;var w=a.cartographicToCartesian(T,E);p.multiplyByPoint(s,w,w),i.minimumByComponent(w,u,u),i.maximumByComponent(w,l,l),h=Math.min(h,T.height)}return h}function g(t,r,n,o,s,u,l,h,m,f,y,v,g,_){var A,x,N;g?(A=s.length-1,x=-1,N=-1):(A=0,x=s.length,N=1);var O=-1,b=a(m),M=u.getStride(),P=r/M,C=y.north,L=y.south,F=y.east,D=y.west;F<D&&(F+=c.TWO_PI);for(var U=A;U!==x;U+=N){var B=s[U],z=l[B],G=h[B];T.longitude=c.lerp(D,F,G.x),T.latitude=c.lerp(L,C,G.y),T.height=z-v;var k=f.cartographicToCartesian(T,E);if(b){var H=2*B;if(w.x=m[H],w.y=m[H+1],1!==_){var V=e.octDecode(w.x,w.y,S),q=d.eastNorthUpToFixedFrame(E,f,I),W=p.inverseTransformation(q,R);p.multiplyByPointAsVector(W,V,V),V.z*=_,i.normalize(V,V),p.multiplyByPointAsVector(q,V,V),i.normalize(V,V),e.octEncode(V,w)}}r=u.encode(t,r,k,G,T.height,w),O!==-1&&(n[o++]=O,n[o++]=P-1,n[o++]=B,n[o++]=P-1,n[o++]=P,n[o++]=B),O=B,++P}return o}var _=32767,E=new i,A=new i,x=new i,T=new o,w=new n,S=new i,R=new p,I=new p;return f(y)}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(1),r(6),r(173)],i=function(e,t,r){"use strict";function n(n,i){return e(i)&&(n=r.unpack(n,i)),n._ellipsoid=t.clone(n._ellipsoid),r.createGeometry(n)}return n}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(1),r(6),r(174)],i=function(e,t,r){"use strict";function n(n,i){return e(i)&&(n=r.unpack(n,i)),n._ellipsoid=t.clone(n._ellipsoid),r.createGeometry(n)}return n}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t){"undefined"==typeof self&&(self={}),self.onmessage=function(e){"use strict";var t=e.data.array,r=self.webkitPostMessage||self.postMessage;try{r({array:t},[t.buffer])}catch(e){r({})}}},function(e,t,r){var n,i;n=[r(38),r(7),r(13),r(4),r(16),r(1),r(6),r(95),r(15),r(157),r(5),r(48),r(53),r(23)],i=function(e,t,r,n,i,o,a,s,u,c,l,p,h,m){"use strict";function d(e,r){var i=e.isEastChild,o=e.isNorthChild,m=i?_:0,d=i?g:_,y=o?_:0,F=o?g:_,D=S,U=R,B=I,z=O;D.length=0,U.length=0,B.length=0,z.length=0;var G=N;G.length=0;var k={},H=e.vertices,V=e.indices;V=V.subarray(0,e.skirtIndex);var q,W,Y,j=h.clone(e.encoding),X=j.hasVertexNormals,Z=e.exaggeration,K=0,J=e.vertexCountWithoutSkirts,Q=e.minimumHeight,$=e.maximumHeight,ee=new Array(J),te=new Array(J),re=new Array(J),ne=X?new Array(2*J):void 0,ie=20;for(W=0,Y=0;W<J;++W,Y+=2){var oe=j.decodeTextureCoordinates(H,W,C);if(q=j.decodeHeight(H,W)/Z,ee[W]=l.clamp(oe.x*g|0,0,g),te[W]=l.clamp(oe.y*g|0,0,g),re[W]=l.clamp((q-Q)/($-Q)*g|0,0,g),ee[W]<ie&&(ee[W]=0),te[W]<ie&&(te[W]=0),g-ee[W]<ie&&(ee[W]=g),g-te[W]<ie&&(te[W]=g),X){var ae=j.getOctEncodedNormal(H,W,L);ne[Y]=ae.x,ne[Y+1]=ae.y}}var se,ue;for(W=0,Y=0;W<J;++W,Y+=2)se=ee[W],ue=te[W],(i&&se>=_||!i&&se<=_)&&(o&&ue>=_||!o&&ue<=_)&&(k[W]=K,D.push(se),U.push(ue),B.push(re[W]),X&&(z.push(ne[Y]),z.push(ne[Y+1])),++K);var ce=[];ce.push(new f),ce.push(new f),ce.push(new f);var le=[];le.push(new f),le.push(new f),le.push(new f);var pe,he;for(W=0;W<V.length;W+=3){var me=V[W],de=V[W+1],fe=V[W+2],ye=ee[me],ve=ee[de],ge=ee[fe];ce[0].initializeIndexed(ee,te,re,ne,me),ce[1].initializeIndexed(ee,te,re,ne,de),ce[2].initializeIndexed(ee,te,re,ne,fe);var _e=c.clipTriangleAtAxisAlignedThreshold(_,i,ye,ve,ge,E);pe=0,pe>=_e.length||(pe=le[0].initializeFromClipResult(_e,pe,ce),pe>=_e.length||(pe=le[1].initializeFromClipResult(_e,pe,ce),pe>=_e.length||(pe=le[2].initializeFromClipResult(_e,pe,ce),he=c.clipTriangleAtAxisAlignedThreshold(_,o,le[0].getV(),le[1].getV(),le[2].getV(),A),v(D,U,B,z,G,k,he,le,X),pe<_e.length&&(le[2].clone(le[1]),le[2].initializeFromClipResult(_e,pe,ce),he=c.clipTriangleAtAxisAlignedThreshold(_,o,le[0].getV(),le[1].getV(),le[2].getV(),A),v(D,U,B,z,G,k,he,le,X)))))}var Ee=i?-g:0,Ae=o?-g:0,xe=[],Te=[],we=[],Se=[],Re=Number.MAX_VALUE,Ie=-Re,Ne=x;Ne.length=0;var Oe=a.clone(e.ellipsoid),be=e.childRectangle,Me=be.north,Pe=be.south,Ce=be.east,Le=be.west;for(Ce<Le&&(Ce+=l.TWO_PI),W=0;W<D.length;++W)se=Math.round(D[W]),se<=m?(xe.push(W),se=0):se>=d?(we.push(W),se=g):se=2*se+Ee,D[W]=se,ue=Math.round(U[W]),ue<=y?(Te.push(W),ue=0):ue>=F?(Se.push(W),ue=g):ue=2*ue+Ae,U[W]=ue,q=l.lerp(Q,$,B[W]/g),q<Re&&(Re=q),q>Ie&&(Ie=q),B[W]=q,T.longitude=l.lerp(Le,Ce,se/g),T.latitude=l.lerp(Pe,Me,ue/g),T.height=q,Oe.cartographicToCartesian(T,w),Ne.push(w.x),Ne.push(w.y),Ne.push(w.z);var Fe=t.fromVertices(Ne,n.ZERO,3,M),De=p.fromRectangle(be,Re,Ie,Oe,P),Ue=new s(Oe),Be=Ue.computeHorizonCullingPointFromVertices(Fe.center,Ne,3,Fe.center,b),ze=Ie-Re,Ge=new Uint16Array(D.length+U.length+B.length);for(W=0;W<D.length;++W)Ge[W]=D[W];var ke=D.length;for(W=0;W<U.length;++W)Ge[ke+W]=U[W];for(ke+=U.length,W=0;W<B.length;++W)Ge[ke+W]=g*(B[W]-Re)/ze;var He,Ve=u.createTypedArray(D.length,G);if(X){var qe=new Uint8Array(z);r.push(Ge.buffer,Ve.buffer,qe.buffer),He=qe.buffer}else r.push(Ge.buffer,Ve.buffer);return{vertices:Ge.buffer,encodedNormals:He,indices:Ve.buffer,minimumHeight:Re,maximumHeight:Ie,westIndices:xe,southIndices:Te,eastIndices:we,northIndices:Se,boundingSphere:Fe,orientedBoundingBox:De,horizonOcclusionPoint:Be}}function f(){this.vertexBuffer=void 0,this.index=void 0,this.first=void 0,this.second=void 0,this.ratio=void 0}function y(t,r){++D;var i=U[D],o=B[D];return i=e.octDecode(t.first.getNormalX(),t.first.getNormalY(),i),o=e.octDecode(t.second.getNormalX(),t.second.getNormalY(),o),w=n.lerp(i,o,t.ratio,w),n.normalize(w,w),e.octEncode(w,r),--D,r}function v(e,t,r,n,i,a,s,u,c){if(0!==s.length){for(var l=0,p=0;p<s.length;)p=z[l++].initializeFromClipResult(s,p,u);for(var h=0;h<l;++h){var m=z[h];if(m.isIndexed())m.newIndex=a[m.index],m.uBuffer=e,m.vBuffer=t,m.heightBuffer=r,c&&(m.normalBuffer=n);else{var d=m.getKey();if(o(a[d]))m.newIndex=a[d];else{var f=e.length;e.push(m.getU()),t.push(m.getV()),r.push(m.getH()),c&&(n.push(m.getNormalX()),n.push(m.getNormalY())),m.newIndex=f,a[d]=f}}}3===l?(i.push(z[0].newIndex),i.push(z[1].newIndex),i.push(z[2].newIndex)):4===l&&(i.push(z[0].newIndex),i.push(z[1].newIndex),i.push(z[2].newIndex),i.push(z[0].newIndex),i.push(z[2].newIndex),i.push(z[3].newIndex))}}var g=32767,_=g/2|0,E=[],A=[],x=[],T=new i,w=new n,S=[],R=[],I=[],N=[],O=[],b=new n,M=new t,P=new p,C=new r,L=new n;f.prototype.clone=function(e){return o(e)||(e=new f),e.uBuffer=this.uBuffer,e.vBuffer=this.vBuffer,e.heightBuffer=this.heightBuffer,e.normalBuffer=this.normalBuffer,e.index=this.index,e.first=this.first,e.second=this.second,e.ratio=this.ratio,e},f.prototype.initializeIndexed=function(e,t,r,n,i){this.uBuffer=e,this.vBuffer=t,this.heightBuffer=r,this.normalBuffer=n,this.index=i,this.first=void 0,this.second=void 0,this.ratio=void 0},f.prototype.initializeFromClipResult=function(e,t,r){var n=t+1;return e[t]!==-1?r[e[t]].clone(this):(this.vertexBuffer=void 0,this.index=void 0,this.first=r[e[n]],++n,this.second=r[e[n]],++n,this.ratio=e[n],++n),n},f.prototype.getKey=function(){return this.isIndexed()?this.index:JSON.stringify({first:this.first.getKey(),second:this.second.getKey(),ratio:this.ratio})},f.prototype.isIndexed=function(){return o(this.index)},f.prototype.getH=function(){return o(this.index)?this.heightBuffer[this.index]:l.lerp(this.first.getH(),this.second.getH(),this.ratio)},f.prototype.getU=function(){return o(this.index)?this.uBuffer[this.index]:l.lerp(this.first.getU(),this.second.getU(),this.ratio);
},f.prototype.getV=function(){return o(this.index)?this.vBuffer[this.index]:l.lerp(this.first.getV(),this.second.getV(),this.ratio)};var F=new r,D=-1,U=[new n,new n],B=[new n,new n];f.prototype.getNormalX=function(){return o(this.index)?this.normalBuffer[2*this.index]:(F=y(this,F),F.x)},f.prototype.getNormalY=function(){return o(this.index)?this.normalBuffer[2*this.index+1]:(F=y(this,F),F.y)};var z=[];return z.push(new f),z.push(new f),z.push(new f),z.push(new f),m(d)}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(4),r(29),r(1),r(106),r(5),r(18),r(36),r(49),r(26)],i=function(e,t,r,n,i,o,a,s,u){"use strict";function c(r,n,a,s,c){var l=e.angleBetween(e.subtract(n,r,f),e.subtract(a,r,y)),p=s===t.BEVELED?1:Math.ceil(l/i.toRadians(5))+1,h=3*p,m=new Array(h);m[h-3]=a.x,m[h-2]=a.y,m[h-1]=a.z;var d;d=c?o.fromQuaternion(u.fromAxisAngle(e.negate(r,f),l/p,b),M):o.fromQuaternion(u.fromAxisAngle(r,l/p,b),M);var v=0;n=e.clone(n,f);for(var g=0;g<p;g++)n=o.multiplyByVector(d,n,n),m[v++]=n.x,m[v++]=n.y,m[v++]=n.z;return m}function l(r){var n=E,i=A,o=x,a=r[1];i=e.fromArray(r[1],a.length-3,i),o=e.fromArray(r[0],0,o),n=e.multiplyByScalar(e.add(i,o,n),.5,n);var s=c(n,i,o,t.ROUNDED,!1),u=r.length-1,l=r[u-1];a=r[u],i=e.fromArray(l,l.length-3,i),o=e.fromArray(a,0,o),n=e.multiplyByScalar(e.add(i,o,n),.5,n);var p=c(n,i,o,t.ROUNDED,!1);return[s,p]}function p(t,r,n,i){var o=f;return i?o=e.add(t,r,o):(r=e.negate(r,r),o=e.add(t,r,o)),[o.x,o.y,o.z,n.x,n.y,n.z]}function h(t,r,n,i){for(var o=new Array(t.length),a=new Array(t.length),s=e.multiplyByScalar(r,n,f),u=e.negate(s,y),c=0,l=t.length-1,p=0;p<t.length;p+=3){var h=e.fromArray(t,p,v),m=e.add(h,u,g);o[c++]=m.x,o[c++]=m.y,o[c++]=m.z;var d=e.add(h,s,g);a[l--]=d.z,a[l--]=d.y,a[l--]=d.x}return i.push(o,a),i}function m(e,t){for(var r=0;r<e.length;r++)e[r]=t.scaleToGeodeticSurface(e[r],e[r]);return e}var d={},f=new e,y=new e,v=new e,g=new e,_=[new e,new e],E=new e,A=new e,x=new e,T=new e,w=new e,S=new e,R=new e,I=new e,N=new e,O=new e,b=new u,M=new o;d.addAttribute=function(e,t,n,i){var o=t.x,a=t.y,s=t.z;r(n)&&(e[n]=o,e[n+1]=a,e[n+2]=s),r(i)&&(e[i]=s,e[i-1]=a,e[i-2]=o)};var P=new e,C=new e;return d.computePositions=function(r){var n=r.granularity,o=r.positions,u=r.ellipsoid;o=m(o,u);var d=r.width/2,y=r.cornerType,v=r.saveAttributes,g=E,b=A,M=x,L=T,F=w,D=S,U=R,B=I,z=N,G=O,k=[],H=v?[]:void 0,V=v?[]:void 0,q=o[0],W=o[1];b=e.normalize(e.subtract(W,q,b),b),g=u.geodeticSurfaceNormal(q,g),L=e.normalize(e.cross(g,b,L),L),v&&(H.push(L.x,L.y,L.z),V.push(g.x,g.y,g.z)),U=e.clone(q,U),q=W,M=e.negate(b,M);var Y,j,X=[],Z=o.length;for(j=1;j<Z-1;j++){g=u.geodeticSurfaceNormal(q,g),W=o[j+1],b=e.normalize(e.subtract(W,q,b),b),F=e.normalize(e.add(b,M,F),F);var K=e.multiplyByScalar(g,e.dot(b,g),P);e.subtract(b,K,K),e.normalize(K,K);var J=e.multiplyByScalar(g,e.dot(M,g),C);e.subtract(M,J,J),e.normalize(J,J);var Q=!i.equalsEpsilon(Math.abs(e.dot(K,J)),1,i.EPSILON7);if(Q){F=e.cross(F,g,F),F=e.cross(g,F,F),F=e.normalize(F,F);var $=d/Math.max(.25,e.magnitude(e.cross(F,M,f))),ee=s.angleIsGreaterThanPi(b,M,q,u);F=e.multiplyByScalar(F,$,F),ee?(B=e.add(q,F,B),G=e.add(B,e.multiplyByScalar(L,d,G),G),z=e.add(B,e.multiplyByScalar(L,2*d,z),z),_[0]=e.clone(U,_[0]),_[1]=e.clone(G,_[1]),Y=a.generateArc({positions:_,granularity:n,ellipsoid:u}),k=h(Y,L,d,k),v&&(H.push(L.x,L.y,L.z),V.push(g.x,g.y,g.z)),D=e.clone(z,D),L=e.normalize(e.cross(g,b,L),L),z=e.add(B,e.multiplyByScalar(L,2*d,z),z),U=e.add(B,e.multiplyByScalar(L,d,U),U),y===t.ROUNDED||y===t.BEVELED?X.push({leftPositions:c(B,D,z,y,ee)}):X.push({leftPositions:p(q,e.negate(F,F),z,ee)})):(z=e.add(q,F,z),G=e.add(z,e.negate(e.multiplyByScalar(L,d,G),G),G),B=e.add(z,e.negate(e.multiplyByScalar(L,2*d,B),B),B),_[0]=e.clone(U,_[0]),_[1]=e.clone(G,_[1]),Y=a.generateArc({positions:_,granularity:n,ellipsoid:u}),k=h(Y,L,d,k),v&&(H.push(L.x,L.y,L.z),V.push(g.x,g.y,g.z)),D=e.clone(B,D),L=e.normalize(e.cross(g,b,L),L),B=e.add(z,e.negate(e.multiplyByScalar(L,2*d,B),B),B),U=e.add(z,e.negate(e.multiplyByScalar(L,d,U),U),U),y===t.ROUNDED||y===t.BEVELED?X.push({rightPositions:c(z,D,B,y,ee)}):X.push({rightPositions:p(q,F,B,ee)})),M=e.negate(b,M)}q=W}g=u.geodeticSurfaceNormal(q,g),_[0]=e.clone(U,_[0]),_[1]=e.clone(q,_[1]),Y=a.generateArc({positions:_,granularity:n,ellipsoid:u}),k=h(Y,L,d,k),v&&(H.push(L.x,L.y,L.z),V.push(g.x,g.y,g.z));var te;return y===t.ROUNDED&&(te=l(k)),{positions:k,corners:X,lefts:H,normals:V,endPositions:te}},d}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(5)],i=function(e){"use strict";var t={};return t.computePositions=function(t,r,n,i,o){var a,s=.5*t,u=-s,c=i+i,l=o?2*c:c,p=new Float64Array(3*l),h=0,m=0,d=o?3*c:0,f=o?3*(c+i):3*i;for(a=0;a<i;a++){var y=a/i*e.TWO_PI,v=Math.cos(y),g=Math.sin(y),_=v*n,E=g*n,A=v*r,x=g*r;p[m+d]=_,p[m+d+1]=E,p[m+d+2]=u,p[m+f]=A,p[m+f+1]=x,p[m+f+2]=s,m+=3,o&&(p[h++]=_,p[h++]=E,p[h++]=u,p[h++]=A,p[h++]=x,p[h++]=s)}return p},t}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n;n=function(){"use strict";function e(e,t,r,n,i){this.xPoleWander=e,this.yPoleWander=t,this.xPoleOffset=r,this.yPoleOffset=n,this.ut1MinusUtc=i}return e}.call(t,r,t,e),!(void 0!==n&&(e.exports=n))},function(e,t,r){var n,i;n=[r(7),r(13),r(4),r(16),r(9),r(3),r(1),r(17),r(2),r(91),r(6),r(30),r(10),r(11),r(14),r(33),r(25),r(15),r(5),r(18),r(20),r(12),r(26),r(19),r(37),r(21)],i=function(e,t,r,n,i,o,a,s,u,c,l,p,h,m,d,f,y,v,g,_,E,A,x,T,w,S){"use strict";function R(e,n,o){var a=n.vertexFormat,s=n.center,u=n.semiMajorAxis,l=n.semiMinorAxis,h=n.ellipsoid,f=n.stRotation,y=o?e.length/3*2:e.length/3,v=a.st?new Float32Array(2*y):void 0,g=a.normal?new Float32Array(3*y):void 0,E=a.tangent?new Float32Array(3*y):void 0,A=a.binormal?new Float32Array(3*y):void 0,T=0,w=k,S=H,R=V,I=new p(h),N=I.project(h.cartesianToCartographic(s,q),W),O=h.scaleToGeodeticSurface(s,L);h.geodeticSurfaceNormal(O,O);for(var b=x.fromAxisAngle(O,f,G),M=_.fromQuaternion(b,z),P=t.fromElements(Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Y),C=t.fromElements(Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,j),U=e.length,X=o?U:0,Z=X/3*2,K=0;K<U;K+=3){var J=K+1,Q=K+2,$=r.fromArray(e,K,L);if(a.st){var ee=_.multiplyByVector(M,$,F),te=I.project(h.cartesianToCartographic(ee,q),D);r.subtract(te,N,te),B.x=(te.x+u)/(2*u),B.y=(te.y+l)/(2*l),P.x=Math.min(B.x,P.x),P.y=Math.min(B.y,P.y),C.x=Math.max(B.x,C.x),C.y=Math.max(B.y,C.y),o&&(v[T+Z]=B.x,v[T+1+Z]=B.y),v[T++]=B.x,v[T++]=B.y}w=h.geodeticSurfaceNormal($,w),(a.normal||a.tangent||a.binormal)&&((a.tangent||a.binormal)&&(S=r.normalize(r.cross(r.UNIT_Z,w,S),S),_.multiplyByVector(M,S,S)),a.normal&&(g[K]=w.x,g[J]=w.y,g[Q]=w.z,o&&(g[K+X]=-w.x,g[J+X]=-w.y,g[Q+X]=-w.z)),a.tangent&&(E[K]=S.x,E[J]=S.y,E[Q]=S.z,o&&(E[K+X]=-S.x,E[J+X]=-S.y,E[Q+X]=-S.z)),a.binormal&&(R=r.normalize(r.cross(w,S,R),R),A[K]=R.x,A[J]=R.y,A[Q]=R.z,o&&(A[K+X]=R.x,A[J+X]=R.y,A[Q+X]=R.z)))}if(a.st){U=v.length;for(var re=0;re<U;re+=2)v[re]=(v[re]-P.x)/(C.x-P.x),v[re+1]=(v[re+1]-P.y)/(C.y-P.y)}var ne=new d;if(a.position){var ie=c.raisePositionsToHeight(e,n,o);ne.position=new m({componentDatatype:i.DOUBLE,componentsPerAttribute:3,values:ie})}return a.st&&(ne.st=new m({componentDatatype:i.FLOAT,componentsPerAttribute:2,values:v})),a.normal&&(ne.normal=new m({componentDatatype:i.FLOAT,componentsPerAttribute:3,values:g})),a.tangent&&(ne.tangent=new m({componentDatatype:i.FLOAT,componentsPerAttribute:3,values:E})),a.binormal&&(ne.binormal=new m({componentDatatype:i.FLOAT,componentsPerAttribute:3,values:A})),ne}function I(e){var t,r,n,i,o,a=new Array(12*(e*(e+1))-6),s=0;for(t=0,n=1,i=0;i<3;i++)a[s++]=n++,a[s++]=t,a[s++]=n;for(i=2;i<e+1;++i){for(n=i*(i+1)-1,t=(i-1)*i-1,a[s++]=n++,a[s++]=t,a[s++]=n,r=2*i,o=0;o<r-1;++o)a[s++]=n,a[s++]=t++,a[s++]=t,a[s++]=n++,a[s++]=t,a[s++]=n;a[s++]=n++,a[s++]=t,a[s++]=n}for(r=2*e,++n,++t,i=0;i<r-1;++i)a[s++]=n,a[s++]=t++,a[s++]=t,a[s++]=n++,a[s++]=t,a[s++]=n;for(a[s++]=n,a[s++]=t++,a[s++]=t,a[s++]=n++,a[s++]=t++,a[s++]=t,++t,i=e-1;i>1;--i){for(a[s++]=t++,a[s++]=t,a[s++]=n,r=2*i,o=0;o<r-1;++o)a[s++]=n,a[s++]=t++,a[s++]=t,a[s++]=n++,a[s++]=t,a[s++]=n;a[s++]=t++,a[s++]=t++,a[s++]=n++}for(i=0;i<3;i++)a[s++]=t++,a[s++]=t,a[s++]=n;return a}function N(t){var n=t.center;X=r.multiplyByScalar(t.ellipsoid.geodeticSurfaceNormal(n,X),t.height,X),X=r.add(n,X,X);var i=new e(X,t.semiMajorAxis),o=c.computeEllipsePositions(t,!0,!1),a=o.positions,s=o.numPts,u=R(a,t,!1),l=I(s);return l=v.createTypedArray(a.length/3,l),{boundingSphere:i,attributes:u,indices:l}}function O(e,n){var o=n.vertexFormat,a=n.center,s=n.semiMajorAxis,u=n.semiMinorAxis,c=n.ellipsoid,l=n.height,h=n.extrudedHeight,f=n.stRotation,y=e.length/3*2,v=new Float64Array(3*y),g=o.st?new Float32Array(2*y):void 0,E=o.normal?new Float32Array(3*y):void 0,A=o.tangent?new Float32Array(3*y):void 0,T=o.binormal?new Float32Array(3*y):void 0,w=0,S=k,R=H,I=V,N=new p(c),O=N.project(c.cartesianToCartographic(a,q),W),b=c.scaleToGeodeticSurface(a,L);c.geodeticSurfaceNormal(b,b);for(var M=x.fromAxisAngle(b,f,G),P=_.fromQuaternion(M,z),C=t.fromElements(Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Y),X=t.fromElements(Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,j),Z=e.length,K=Z/3*2,J=0;J<Z;J+=3){var Q,$=J+1,ee=J+2,te=r.fromArray(e,J,L);if(o.st){var re=_.multiplyByVector(P,te,F),ne=N.project(c.cartesianToCartographic(re,q),D);r.subtract(ne,O,ne),B.x=(ne.x+s)/(2*s),B.y=(ne.y+u)/(2*u),C.x=Math.min(B.x,C.x),C.y=Math.min(B.y,C.y),X.x=Math.max(B.x,X.x),X.y=Math.max(B.y,X.y),g[w+K]=B.x,g[w+1+K]=B.y,g[w++]=B.x,g[w++]=B.y}te=c.scaleToGeodeticSurface(te,te),Q=r.clone(te,F),S=c.geodeticSurfaceNormal(te,S);var ie=r.multiplyByScalar(S,l,U);if(te=r.add(te,ie,te),ie=r.multiplyByScalar(S,h,ie),Q=r.add(Q,ie,Q),o.position&&(v[J+Z]=Q.x,v[$+Z]=Q.y,v[ee+Z]=Q.z,v[J]=te.x,v[$]=te.y,v[ee]=te.z),o.normal||o.tangent||o.binormal){I=r.clone(S,I);var oe=r.fromArray(e,(J+3)%Z,U);r.subtract(oe,te,oe);var ae=r.subtract(Q,te,D);S=r.normalize(r.cross(ae,oe,S),S),o.normal&&(E[J]=S.x,E[$]=S.y,E[ee]=S.z,E[J+Z]=S.x,E[$+Z]=S.y,E[ee+Z]=S.z),o.tangent&&(R=r.normalize(r.cross(I,S,R),R),A[J]=R.x,A[$]=R.y,A[ee]=R.z,A[J+Z]=R.x,A[J+1+Z]=R.y,A[J+2+Z]=R.z),o.binormal&&(T[J]=I.x,T[$]=I.y,T[ee]=I.z,T[J+Z]=I.x,T[$+Z]=I.y,T[ee+Z]=I.z)}}if(o.st){Z=g.length;for(var se=0;se<Z;se+=2)g[se]=(g[se]-C.x)/(X.x-C.x),g[se+1]=(g[se+1]-C.y)/(X.y-C.y)}var ue=new d;return o.position&&(ue.position=new m({componentDatatype:i.DOUBLE,componentsPerAttribute:3,values:v})),o.st&&(ue.st=new m({componentDatatype:i.FLOAT,componentsPerAttribute:2,values:g})),o.normal&&(ue.normal=new m({componentDatatype:i.FLOAT,componentsPerAttribute:3,values:E})),o.tangent&&(ue.tangent=new m({componentDatatype:i.FLOAT,componentsPerAttribute:3,values:A})),o.binormal&&(ue.binormal=new m({componentDatatype:i.FLOAT,componentsPerAttribute:3,values:T})),ue}function b(e){for(var t=e.length/3,r=v.createTypedArray(t,6*t),n=0,i=0;i<t;i++){var o=i,a=i+t,s=(o+1)%t,u=s+t;r[n++]=o,r[n++]=a,r[n++]=s,r[n++]=s,r[n++]=a,r[n++]=u}return r}function M(t){var n=t.center,i=t.ellipsoid,o=t.semiMajorAxis,a=r.multiplyByScalar(i.geodeticSurfaceNormal(n,L),t.height,L);Z.center=r.add(n,a,Z.center),Z.radius=o,a=r.multiplyByScalar(i.geodeticSurfaceNormal(n,a),t.extrudedHeight,a),K.center=r.add(n,a,K.center),K.radius=o;var s=c.computeEllipsePositions(t,!0,!0),u=s.positions,l=s.numPts,p=s.outerPositions,m=e.union(Z,K),d=R(u,t,!0),g=I(l),_=g.length;g.length=2*_;for(var E=u.length/3,x=0;x<_;x+=3)g[x+_]=g[x+2]+E,g[x+1+_]=g[x+1]+E,g[x+2+_]=g[x]+E;var T=v.createTypedArray(2*E/3,g),w=new h({attributes:d,indices:T,primitiveType:A.TRIANGLES}),S=O(p,t);g=b(p);var N=v.createTypedArray(2*p.length/3,g),M=new h({attributes:S,indices:N,primitiveType:A.TRIANGLES}),P=y.combineInstances([new f({geometry:w}),new f({geometry:M})]);return{boundingSphere:m,attributes:P[0].attributes,indices:P[0].indices}}function P(e,t,n,i,o){w.eastNorthUpToFixedFrame(e,t,J),E.inverseTransformation(J,Q);for(var a=0;a<4;++a)r.clone(r.ZERO,ee[a]);for(ee[0].x+=n,ee[1].x-=n,ee[2].y+=i,ee[3].y-=i,_.fromRotationZ(o,$),a=0;a<4;++a)_.multiplyByVector($,ee[a],ee[a]),E.multiplyByPoint(J,ee[a],ee[a]),t.cartesianToCartographic(ee[a],te[a]);return T.fromCartographicArray(te)}function C(e){e=o(e,o.EMPTY_OBJECT);var t=e.center,n=o(e.ellipsoid,l.WGS84),i=e.semiMajorAxis,s=e.semiMinorAxis,u=o(e.granularity,g.RADIANS_PER_DEGREE),c=o(e.height,0),p=e.extrudedHeight,h=a(p)&&Math.abs(c-p)>1,m=o(e.vertexFormat,S.DEFAULT);this._center=r.clone(t),this._semiMajorAxis=i,this._semiMinorAxis=s,this._ellipsoid=l.clone(n),this._rotation=o(e.rotation,0),this._stRotation=o(e.stRotation,0),this._height=c,this._granularity=u,this._vertexFormat=S.clone(m),this._extrudedHeight=o(p,c),this._extrude=h,this._workerName="createEllipseGeometry",this._rectangle=P(this._center,this._ellipsoid,i,s,this._rotation)}var L=new r,F=new r,D=new r,U=new r,B=new t,z=new _,G=new x,k=new r,H=new r,V=new r,q=new n,W=new r,Y=new t,j=new t,X=new r,Z=new e,K=new e,J=new E,Q=new E,$=new _,ee=[new r,new r,new r,new r],te=[new n,new n,new n,new n];C.packedLength=r.packedLength+l.packedLength+S.packedLength+T.packedLength+8,C.pack=function(e,t,n){return n=o(n,0),r.pack(e._center,t,n),n+=r.packedLength,l.pack(e._ellipsoid,t,n),n+=l.packedLength,S.pack(e._vertexFormat,t,n),n+=S.packedLength,T.pack(e._rectangle,t,n),n+=T.packedLength,t[n++]=e._semiMajorAxis,t[n++]=e._semiMinorAxis,t[n++]=e._rotation,t[n++]=e._stRotation,t[n++]=e._height,t[n++]=e._granularity,t[n++]=e._extrudedHeight,t[n]=e._extrude?1:0,t};var re=new r,ne=new l,ie=new S,oe=new T,ae={center:re,ellipsoid:ne,vertexFormat:ie,semiMajorAxis:void 0,semiMinorAxis:void 0,rotation:void 0,stRotation:void 0,height:void 0,granularity:void 0,extrudedHeight:void 0};return C.unpack=function(e,t,n){t=o(t,0);var i=r.unpack(e,t,re);t+=r.packedLength;var s=l.unpack(e,t,ne);t+=l.packedLength;var u=S.unpack(e,t,ie);t+=S.packedLength;var c=T.unpack(e,t,oe);t+=T.packedLength;var p=e[t++],h=e[t++],m=e[t++],d=e[t++],f=e[t++],y=e[t++],v=e[t++],g=1===e[t];return a(n)?(n._center=r.clone(i,n._center),n._ellipsoid=l.clone(s,n._ellipsoid),n._vertexFormat=S.clone(u,n._vertexFormat),n._semiMajorAxis=p,n._semiMinorAxis=h,n._rotation=m,n._stRotation=d,n._height=f,n._granularity=y,n._extrudedHeight=v,n._extrude=g,n._rectangle=T.clone(c),n):(ae.height=f,ae.extrudedHeight=v,ae.granularity=y,ae.stRotation=d,ae.rotation=m,ae.semiMajorAxis=p,ae.semiMinorAxis=h,new C(ae))},C.createGeometry=function(e){if(!(e._semiMajorAxis<=0||e._semiMinorAxis<=0)){e._center=e._ellipsoid.scaleToGeodeticSurface(e._center,e._center);var t,r={center:e._center,semiMajorAxis:e._semiMajorAxis,semiMinorAxis:e._semiMinorAxis,ellipsoid:e._ellipsoid,rotation:e._rotation,height:e._height,extrudedHeight:e._extrudedHeight,granularity:e._granularity,vertexFormat:e._vertexFormat,stRotation:e._stRotation};return e._extrude?(r.extrudedHeight=Math.min(e._extrudedHeight,e._height),r.height=Math.max(e._extrudedHeight,e._height),t=M(r)):t=N(r),new h({attributes:t.attributes,indices:t.indices,primitiveType:A.TRIANGLES,boundingSphere:t.boundingSphere})}},C.createShadowVolume=function(e,t,r){var n=e._granularity,i=e._ellipsoid,o=t(n,i),a=r(n,i);return new C({center:e._center,semiMajorAxis:e._semiMajorAxis,semiMinorAxis:e._semiMinorAxis,ellipsoid:i,rotation:e._rotation,stRotation:e._stRotation,granularity:n,extrudedHeight:o,height:a,vertexFormat:S.POSITION_ONLY})},s(C.prototype,{rectangle:{get:function(){return this._rectangle}}}),C}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(4),r(5),r(18),r(26)],i=function(e,t,r,n){"use strict";function i(t,i,o,l,p,h,m,d,f,y){var v=t+i;e.multiplyByScalar(l,Math.cos(v),a),e.multiplyByScalar(o,Math.sin(v),s),e.add(a,s,a);var g=Math.cos(t);g*=g;var _=Math.sin(t);_*=_;var E=h/Math.sqrt(m*g+p*_),A=E/d;return n.fromAxisAngle(a,A,u),r.fromQuaternion(u,c),r.multiplyByVector(c,f,y),e.normalize(y,y),e.multiplyByScalar(y,d,y),y}var o={},a=new e,s=new e,u=new n,c=new r,l=new e,p=new e,h=new e,m=new e;o.raisePositionsToHeight=function(t,r,n){for(var i=r.ellipsoid,o=r.height,a=r.extrudedHeight,s=n?t.length/3*2:t.length/3,u=new Float64Array(3*s),c=t.length,d=n?c:0,f=0;f<c;f+=3){var y=f+1,v=f+2,g=e.fromArray(t,f,l);i.scaleToGeodeticSurface(g,g);var _=e.clone(g,p),E=i.geodeticSurfaceNormal(g,m),A=e.multiplyByScalar(E,o,h);e.add(g,A,g),n&&(e.multiplyByScalar(E,a,A),e.add(_,A,_),u[f+d]=_.x,u[y+d]=_.y,u[v+d]=_.z),u[f]=g.x,u[y]=g.y,u[v]=g.z}return u};var d=new e,f=new e,y=new e;return o.computeEllipsePositions=function(r,n,o){var a=r.semiMinorAxis,s=r.semiMajorAxis,u=r.rotation,c=r.center,m=8*r.granularity,v=a*a,g=s*s,_=s*a,E=e.magnitude(c),A=e.normalize(c,d),x=e.cross(e.UNIT_Z,c,f);x=e.normalize(x,x);var T=e.cross(A,x,y),w=1+Math.ceil(t.PI_OVER_TWO/m),S=t.PI_OVER_TWO/(w-1),R=t.PI_OVER_TWO-w*S;R<0&&(w-=Math.ceil(Math.abs(R)/S));var I,N,O,b,M,P=2*(w*(w+2)),C=n?new Array(3*P):void 0,L=0,F=l,D=p,U=4*w*3,B=U-1,z=0,G=o?new Array(U):void 0;for(R=t.PI_OVER_TWO,F=i(R,u,T,x,v,_,g,E,A,F),n&&(C[L++]=F.x,C[L++]=F.y,C[L++]=F.z),o&&(G[B--]=F.z,G[B--]=F.y,G[B--]=F.x),R=t.PI_OVER_TWO-S,I=1;I<w+1;++I){if(F=i(R,u,T,x,v,_,g,E,A,F),D=i(Math.PI-R,u,T,x,v,_,g,E,A,D),n){for(C[L++]=F.x,C[L++]=F.y,C[L++]=F.z,O=2*I+2,N=1;N<O-1;++N)b=N/(O-1),M=e.lerp(F,D,b,h),C[L++]=M.x,C[L++]=M.y,C[L++]=M.z;C[L++]=D.x,C[L++]=D.y,C[L++]=D.z}o&&(G[B--]=F.z,G[B--]=F.y,G[B--]=F.x,G[z++]=D.x,G[z++]=D.y,G[z++]=D.z),R=t.PI_OVER_TWO-(I+1)*S}for(I=w;I>1;--I){if(R=t.PI_OVER_TWO-(I-1)*S,F=i(-R,u,T,x,v,_,g,E,A,F),D=i(R+Math.PI,u,T,x,v,_,g,E,A,D),n){for(C[L++]=F.x,C[L++]=F.y,C[L++]=F.z,O=2*(I-1)+2,N=1;N<O-1;++N)b=N/(O-1),M=e.lerp(F,D,b,h),C[L++]=M.x,C[L++]=M.y,C[L++]=M.z;C[L++]=D.x,C[L++]=D.y,C[L++]=D.z}o&&(G[B--]=F.z,G[B--]=F.y,G[B--]=F.x,G[z++]=D.x,G[z++]=D.y,G[z++]=D.z)}R=t.PI_OVER_TWO,F=i(-R,u,T,x,v,_,g,E,A,F);var k={};return n&&(C[L++]=F.x,C[L++]=F.y,C[L++]=F.z,k.positions=C,k.numPts=w),o&&(G[B--]=F.z,G[B--]=F.y,G[B--]=F.x,k.outerPositions=G),k},o}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(7),r(4),r(9),r(3),r(1),r(2),r(91),r(6),r(10),r(11),r(14),r(15),r(5),r(12)],i=function(e,t,r,n,i,o,a,s,u,c,l,p,h,m){"use strict";function d(n){var i=n.center;g=t.multiplyByScalar(n.ellipsoid.geodeticSurfaceNormal(i,g),n.height,g),g=t.add(i,g,g);for(var o=new e(g,n.semiMajorAxis),s=a.computeEllipsePositions(n,!1,!0).outerPositions,u=new l({position:new c({componentDatatype:r.DOUBLE,componentsPerAttribute:3,values:a.raisePositionsToHeight(s,n,!1)})}),h=s.length/3,m=p.createTypedArray(h,2*h),d=0,f=0;f<h;++f)m[d++]=f,m[d++]=(f+1)%h;return{boundingSphere:o,attributes:u,indices:m}}function f(i){var o=i.center,s=i.ellipsoid,u=i.semiMajorAxis,m=t.multiplyByScalar(s.geodeticSurfaceNormal(o,v),i.height,v);_.center=t.add(o,m,_.center),_.radius=u,m=t.multiplyByScalar(s.geodeticSurfaceNormal(o,m),i.extrudedHeight,m),E.center=t.add(o,m,E.center),E.radius=u;var d=a.computeEllipsePositions(i,!1,!0).outerPositions,f=new l({position:new c({componentDatatype:r.DOUBLE,componentsPerAttribute:3,values:a.raisePositionsToHeight(d,i,!0)})});d=f.position.values;var y=e.union(_,E),g=d.length/3,A=n(i.numberOfVerticalLines,16);A=h.clamp(A,0,g/2);var x=p.createTypedArray(g,2*g+2*A);g/=2;var T,w=0;for(T=0;T<g;++T)x[w++]=T,x[w++]=(T+1)%g,x[w++]=T+g,x[w++]=(T+1)%g+g;var S;if(A>0){var R=Math.min(A,g);S=Math.round(g/R);var I=Math.min(S*A,g);for(T=0;T<I;T+=S)x[w++]=T,x[w++]=T+g}return{boundingSphere:y,attributes:f,indices:x}}function y(e){e=n(e,n.EMPTY_OBJECT);var r=e.center,o=n(e.ellipsoid,s.WGS84),a=e.semiMajorAxis,u=e.semiMinorAxis,c=n(e.granularity,h.RADIANS_PER_DEGREE),l=n(e.height,0),p=e.extrudedHeight,m=i(p)&&Math.abs(l-p)>1;this._center=t.clone(r),this._semiMajorAxis=a,this._semiMinorAxis=u,this._ellipsoid=s.clone(o),this._rotation=n(e.rotation,0),this._height=l,this._granularity=c,this._extrudedHeight=p,this._extrude=m,this._numberOfVerticalLines=Math.max(n(e.numberOfVerticalLines,16),0),this._workerName="createEllipseOutlineGeometry"}var v=new t,g=new t,_=new e,E=new e;y.packedLength=t.packedLength+s.packedLength+9,y.pack=function(e,r,o){return o=n(o,0),t.pack(e._center,r,o),o+=t.packedLength,s.pack(e._ellipsoid,r,o),o+=s.packedLength,r[o++]=e._semiMajorAxis,r[o++]=e._semiMinorAxis,r[o++]=e._rotation,r[o++]=e._height,r[o++]=e._granularity,r[o++]=i(e._extrudedHeight)?1:0,r[o++]=n(e._extrudedHeight,0),r[o++]=e._extrude?1:0,r[o]=e._numberOfVerticalLines,r};var A=new t,x=new s,T={center:A,ellipsoid:x,semiMajorAxis:void 0,semiMinorAxis:void 0,rotation:void 0,height:void 0,granularity:void 0,extrudedHeight:void 0,numberOfVerticalLines:void 0};return y.unpack=function(e,r,o){r=n(r,0);var a=t.unpack(e,r,A);r+=t.packedLength;var u=s.unpack(e,r,x);r+=s.packedLength;var c=e[r++],l=e[r++],p=e[r++],h=e[r++],m=e[r++],d=e[r++],f=e[r++],v=1===e[r++],g=e[r];return i(o)?(o._center=t.clone(a,o._center),o._ellipsoid=s.clone(u,o._ellipsoid),o._semiMajorAxis=c,o._semiMinorAxis=l,o._rotation=p,o._height=h,o._granularity=m,o._extrudedHeight=d?f:void 0,o._extrude=v,o._numberOfVerticalLines=g,o):(T.height=h,T.extrudedHeight=d?f:void 0,T.granularity=m,T.rotation=p,T.semiMajorAxis=c,T.semiMinorAxis=l,T.numberOfVerticalLines=g,new y(T))},y.createGeometry=function(e){if(!(e._semiMajorAxis<=0||e._semiMinorAxis<=0)){e._center=e._ellipsoid.scaleToGeodeticSurface(e._center,e._center);var t,r={center:e._center,semiMajorAxis:e._semiMajorAxis,semiMinorAxis:e._semiMinorAxis,ellipsoid:e._ellipsoid,rotation:e._rotation,height:e._height,extrudedHeight:e._extrudedHeight,granularity:e._granularity,numberOfVerticalLines:e._numberOfVerticalLines};return e._extrude?(r.extrudedHeight=Math.min(e._extrudedHeight,e._height),r.height=Math.max(e._extrudedHeight,e._height),t=f(r)):t=d(r),new u({attributes:t.attributes,indices:t.indices,primitiveType:m.LINES,boundingSphere:t.boundingSphere})}},y}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(7),r(13),r(4),r(9),r(3),r(1),r(2),r(6),r(10),r(11),r(14),r(15),r(5),r(12),r(21)],i=function(e,t,r,n,i,o,a,s,u,c,l,p,h,m,d){"use strict";function f(e){e=i(e,i.EMPTY_OBJECT);var t=i(e.radii,A),n=i(e.stackPartitions,64),o=i(e.slicePartitions,64),a=i(e.vertexFormat,d.DEFAULT);this._radii=r.clone(t),this._stackPartitions=n,this._slicePartitions=o,this._vertexFormat=d.clone(a),this._workerName="createEllipsoidGeometry"}var y=new r,v=new r,g=new r,_=new r,E=new r,A=new r(1,1,1),x=Math.cos,T=Math.sin;f.packedLength=r.packedLength+d.packedLength+2,f.pack=function(e,t,n){return n=i(n,0),r.pack(e._radii,t,n),n+=r.packedLength,d.pack(e._vertexFormat,t,n),n+=d.packedLength,t[n++]=e._stackPartitions,t[n]=e._slicePartitions,t};var w=new r,S=new d,R={radii:w,vertexFormat:S,stackPartitions:void 0,slicePartitions:void 0};return f.unpack=function(e,t,n){t=i(t,0);var a=r.unpack(e,t,w);t+=r.packedLength;var s=d.unpack(e,t,S);t+=d.packedLength;var u=e[t++],c=e[t];return o(n)?(n._radii=r.clone(a,n._radii),n._vertexFormat=d.clone(s,n._vertexFormat),n._stackPartitions=u,n._slicePartitions=c,n):(R.stackPartitions=u,R.slicePartitions=c,new f(R))},f.createGeometry=function(i){var o=i._radii;if(!(o.x<=0||o.y<=0||o.z<=0)){var a,d,f=s.fromCartesian3(o),A=i._vertexFormat,w=i._slicePartitions+1,S=i._stackPartitions+1,R=S*w,I=new Float64Array(3*R),N=6*(w-1)*(S-2),O=p.createTypedArray(R,N),b=A.normal?new Float32Array(3*R):void 0,M=A.tangent?new Float32Array(3*R):void 0,P=A.binormal?new Float32Array(3*R):void 0,C=A.st?new Float32Array(2*R):void 0,L=new Array(w),F=new Array(w),D=0;for(a=0;a<w;a++){var U=h.TWO_PI*a/(w-1);L[a]=x(U),F[a]=T(U),I[D++]=0,I[D++]=0,I[D++]=o.z}for(a=1;a<S-1;a++){var B=Math.PI*a/(S-1),z=T(B),G=o.x*z,k=o.y*z,H=o.z*x(B);for(d=0;d<w;d++)I[D++]=L[d]*G,I[D++]=F[d]*k,I[D++]=H}for(a=0;a<w;a++)I[D++]=0,I[D++]=0,I[D++]=-o.z;var V=new l;A.position&&(V.position=new c({componentDatatype:n.DOUBLE,componentsPerAttribute:3,values:I}));var q=0,W=0,Y=0,j=0;if(A.st||A.normal||A.tangent||A.binormal){for(a=0;a<R;a++){var X=r.fromArray(I,3*a,y),Z=f.geodeticSurfaceNormal(X,v);if(A.st){var K=t.negate(Z,E);t.magnitude(K)<h.EPSILON6&&(D=3*(a+w*Math.floor(.5*S)),D>I.length&&(D=3*(a-w*Math.floor(.5*S))),r.fromArray(I,D,K),f.geodeticSurfaceNormal(K,K),t.negate(K,K)),C[q++]=Math.atan2(K.y,K.x)/h.TWO_PI+.5,C[q++]=Math.asin(Z.z)/Math.PI+.5}if(A.normal&&(b[W++]=Z.x,b[W++]=Z.y,b[W++]=Z.z),A.tangent||A.binormal){var J=g;if(a<w||a>R-w-1?(r.cross(r.UNIT_X,Z,J),r.normalize(J,J)):(r.cross(r.UNIT_Z,Z,J),r.normalize(J,J)),A.tangent&&(M[Y++]=J.x,M[Y++]=J.y,M[Y++]=J.z),A.binormal){var Q=r.cross(Z,J,_);r.normalize(Q,Q),P[j++]=Q.x,P[j++]=Q.y,P[j++]=Q.z}}}A.st&&(V.st=new c({componentDatatype:n.FLOAT,componentsPerAttribute:2,values:C})),A.normal&&(V.normal=new c({componentDatatype:n.FLOAT,componentsPerAttribute:3,values:b})),A.tangent&&(V.tangent=new c({componentDatatype:n.FLOAT,componentsPerAttribute:3,values:M})),A.binormal&&(V.binormal=new c({componentDatatype:n.FLOAT,componentsPerAttribute:3,values:P}))}for(D=0,d=0;d<w-1;d++)O[D++]=w+d,O[D++]=w+d+1,O[D++]=d+1;var $,ee;for(a=1;a<S-2;a++)for($=a*w,ee=(a+1)*w,d=0;d<w-1;d++)O[D++]=ee+d,O[D++]=ee+d+1,O[D++]=$+d+1,O[D++]=ee+d,O[D++]=$+d+1,O[D++]=$+d;for(a=S-2,$=a*w,ee=(a+1)*w,d=0;d<w-1;d++)O[D++]=ee+d,O[D++]=$+d+1,O[D++]=$+d;return new u({attributes:V,indices:O,primitiveType:m.TRIANGLES,boundingSphere:e.fromEllipsoid(f)})}},f}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(7),r(4),r(9),r(3),r(1),r(2),r(6),r(10),r(11),r(14),r(15),r(5),r(12)],i=function(e,t,r,n,i,o,a,s,u,c,l,p,h){"use strict";function m(e){e=n(e,n.EMPTY_OBJECT);var r=n(e.radii,d),i=n(e.stackPartitions,10),o=n(e.slicePartitions,8),a=n(e.subdivisions,128);this._radii=t.clone(r),this._stackPartitions=i,this._slicePartitions=o,this._subdivisions=a,this._workerName="createEllipsoidOutlineGeometry"}var d=new t(1,1,1),f=Math.cos,y=Math.sin;m.packedLength=t.packedLength+3,m.pack=function(e,r,i){return i=n(i,0),t.pack(e._radii,r,i),i+=t.packedLength,r[i++]=e._stackPartitions,r[i++]=e._slicePartitions,r[i]=e._subdivisions,r};var v=new t,g={radii:v,stackPartitions:void 0,slicePartitions:void 0,subdivisions:void 0};return m.unpack=function(e,r,o){r=n(r,0);var a=t.unpack(e,r,v);r+=t.packedLength;var s=e[r++],u=e[r++],c=e[r++];return i(o)?(o._radii=t.clone(a,o._radii),o._stackPartitions=s,o._slicePartitions=u,o._subdivisions=c,o):(g.stackPartitions=s,g.slicePartitions=u,g.subdivisions=c,new m(g))},m.createGeometry=function(t){var n=t._radii;if(!(n.x<=0||n.y<=0||n.z<=0)){var i,o,m,d,v,g,_=a.fromCartesian3(n),E=t._stackPartitions,A=t._slicePartitions,x=t._subdivisions,T=x*(E+A-1),w=T-A+2,S=new Float64Array(3*w),R=l.createTypedArray(w,2*T),I=0,N=new Array(x),O=new Array(x);for(i=0;i<x;i++)m=p.TWO_PI*i/x,N[i]=f(m),O[i]=y(m);for(i=1;i<E;i++)for(d=Math.PI*i/E,v=f(d),g=y(d),o=0;o<x;o++)S[I++]=n.x*N[o]*g,S[I++]=n.y*O[o]*g,S[I++]=n.z*v;for(N.length=A,O.length=A,i=0;i<A;i++)m=p.TWO_PI*i/A,N[i]=f(m),O[i]=y(m);for(S[I++]=0,S[I++]=0,S[I++]=n.z,i=1;i<x;i++)for(d=Math.PI*i/x,v=f(d),g=y(d),o=0;o<A;o++)S[I++]=n.x*N[o]*g,S[I++]=n.y*O[o]*g,S[I++]=n.z*v;for(S[I++]=0,S[I++]=0,S[I++]=-n.z,I=0,i=0;i<E-1;++i){var b=i*x;for(o=0;o<x-1;++o)R[I++]=b+o,R[I++]=b+o+1;R[I++]=b+x-1,R[I++]=b}var M=x*(E-1);for(o=1;o<A+1;++o)R[I++]=M,R[I++]=M+o;for(i=0;i<x-2;++i){var P=i*A+1+M,C=(i+1)*A+1+M;for(o=0;o<A-1;++o)R[I++]=C+o,R[I++]=P+o;R[I++]=C+A-1,R[I++]=P+A-1}var L=S.length/3-1;for(o=L-1;o>L-A-1;--o)R[I++]=L,R[I++]=o;var F=new c({position:new u({componentDatatype:r.DOUBLE,componentsPerAttribute:3,values:S})});return new s({attributes:F,indices:R,primitiveType:h.LINES,boundingSphere:e.fromEllipsoid(_)})}},m}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(7),r(4),r(3),r(1),r(17),r(2),r(19)],i=function(e,t,r,n,i,o,a){"use strict";function s(e,r){this._ellipsoid=e,this._cameraPosition=new t,this._cameraPositionInScaledSpace=new t,this._distanceToLimbInScaledSpaceSquared=0,n(r)&&(this.cameraPosition=r)}function u(e,r,n){var i=e.transformPositionToScaledSpace(r,d),o=t.magnitudeSquared(i),a=Math.sqrt(o),s=t.divideByScalar(i,a,f);o=Math.max(1,o),a=Math.max(1,a);var u=t.dot(s,n),c=t.magnitude(t.cross(s,n,s)),l=1/a,p=Math.sqrt(o-1)*l;return 1/(u*l-c*p)}function c(e,r,n){if(!(r<=0||r===1/0||r!==r))return t.multiplyByScalar(e,r,n)}function l(e,r){return e.transformPositionToScaledSpace(r,y),t.normalize(y,y)}i(s.prototype,{ellipsoid:{get:function(){return this._ellipsoid}},cameraPosition:{get:function(){return this._cameraPosition},set:function(e){var r=this._ellipsoid,n=r.transformPositionToScaledSpace(e,this._cameraPositionInScaledSpace),i=t.magnitudeSquared(n)-1;t.clone(e,this._cameraPosition),this._cameraPositionInScaledSpace=n,this._distanceToLimbInScaledSpaceSquared=i}}});var p=new t;s.prototype.isPointVisible=function(e){var t=this._ellipsoid,r=t.transformPositionToScaledSpace(e,p);return this.isScaledSpacePointVisible(r)},s.prototype.isScaledSpacePointVisible=function(e){var r=this._cameraPositionInScaledSpace,n=this._distanceToLimbInScaledSpaceSquared,i=t.subtract(e,r,p),o=-t.dot(i,r),a=n<0?o>0:o>n&&o*o/t.magnitudeSquared(i)>n;return!a},s.prototype.computeHorizonCullingPoint=function(e,r,i){n(i)||(i=new t);for(var o=this._ellipsoid,a=l(o,e),s=0,p=0,h=r.length;p<h;++p){var m=r[p],d=u(o,m,a);s=Math.max(s,d)}return c(a,s,i)};var h=new t;s.prototype.computeHorizonCullingPointFromVertices=function(e,i,o,a,s){n(s)||(s=new t),a=r(a,t.ZERO);for(var p=this._ellipsoid,m=l(p,e),d=0,f=0,y=i.length;f<y;f+=o){h.x=i[f]+a.x,h.y=i[f+1]+a.y,h.z=i[f+2]+a.z;var v=u(p,h,m);d=Math.max(d,v)}return c(m,d,s)};var m=[];s.prototype.computeHorizonCullingPointFromRectangle=function(r,n,i){var o=a.subsample(r,n,0,m),s=e.fromPoints(o);if(!(t.magnitude(s.center)<.1*n.minimumRadius))return this.computeHorizonCullingPoint(s.center,o,i)};var d=new t,f=new t,y=new t;return s}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n;n=function(){"use strict";function e(e,t,r){this.x=e,this.y=t,this.s=r}return e}.call(t,r,t,e),!(void 0!==n&&(e.exports=n))},function(e,t,r){var n,i;n=[r(3)],i=function(e){"use strict";function t(t,r){this.start=e(t,0),this.stop=e(r,0)}return t}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n;n=function(){"use strict";function e(e,t){this.julianDate=e,this.offset=t}return e}.call(t,r,t,e),!(void 0!==n&&(e.exports=n))},function(e,t,r){var n,i;n=[r(13),r(3),r(1),r(17),r(2),r(8)],i=function(e,t,r,n,i,o){"use strict";function a(e,r,n,i){this[0]=t(e,0),this[1]=t(n,0),this[2]=t(r,0),this[3]=t(i,0)}a.packedLength=4,a.pack=function(e,r,n){return n=t(n,0),r[n++]=e[0],r[n++]=e[1],r[n++]=e[2],r[n++]=e[3],r},a.unpack=function(e,n,i){return n=t(n,0),r(i)||(i=new a),i[0]=e[n++],i[1]=e[n++],i[2]=e[n++],i[3]=e[n++],i},a.clone=function(e,t){if(r(e))return r(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):new a(e[0],e[2],e[1],e[3])},a.fromArray=function(e,n,i){return n=t(n,0),r(i)||(i=new a),i[0]=e[n],i[1]=e[n+1],i[2]=e[n+2],i[3]=e[n+3],i},a.fromColumnMajorArray=function(e,t){return a.clone(e,t)},a.fromRowMajorArray=function(e,t){return r(t)?(t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3],t):new a(e[0],e[1],e[2],e[3])},a.fromScale=function(e,t){return r(t)?(t[0]=e.x,t[1]=0,t[2]=0,t[3]=e.y,t):new a(e.x,0,0,e.y)},a.fromUniformScale=function(e,t){return r(t)?(t[0]=e,t[1]=0,t[2]=0,t[3]=e,t):new a(e,0,0,e)},a.fromRotation=function(e,t){var n=Math.cos(e),i=Math.sin(e);return r(t)?(t[0]=n,t[1]=i,t[2]=-i,t[3]=n,t):new a(n,-i,i,n)},a.toArray=function(e,t){return r(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):[e[0],e[1],e[2],e[3]]},a.getElementIndex=function(e,t){return 2*e+t},a.getColumn=function(e,t,r){var n=2*t,i=e[n],o=e[n+1];return r.x=i,r.y=o,r},a.setColumn=function(e,t,r,n){n=a.clone(e,n);var i=2*t;return n[i]=r.x,n[i+1]=r.y,n},a.getRow=function(e,t,r){var n=e[t],i=e[t+2];return r.x=n,r.y=i,r},a.setRow=function(e,t,r,n){return n=a.clone(e,n),n[t]=r.x,n[t+2]=r.y,n};var s=new e;a.getScale=function(t,r){return r.x=e.magnitude(e.fromElements(t[0],t[1],s)),r.y=e.magnitude(e.fromElements(t[2],t[3],s)),r};var u=new e;return a.getMaximumScale=function(t){return a.getScale(t,u),e.maximumComponent(u)},a.multiply=function(e,t,r){var n=e[0]*t[0]+e[2]*t[1],i=e[0]*t[2]+e[2]*t[3],o=e[1]*t[0]+e[3]*t[1],a=e[1]*t[2]+e[3]*t[3];
return r[0]=n,r[1]=o,r[2]=i,r[3]=a,r},a.add=function(e,t,r){return r[0]=e[0]+t[0],r[1]=e[1]+t[1],r[2]=e[2]+t[2],r[3]=e[3]+t[3],r},a.subtract=function(e,t,r){return r[0]=e[0]-t[0],r[1]=e[1]-t[1],r[2]=e[2]-t[2],r[3]=e[3]-t[3],r},a.multiplyByVector=function(e,t,r){var n=e[0]*t.x+e[2]*t.y,i=e[1]*t.x+e[3]*t.y;return r.x=n,r.y=i,r},a.multiplyByScalar=function(e,t,r){return r[0]=e[0]*t,r[1]=e[1]*t,r[2]=e[2]*t,r[3]=e[3]*t,r},a.multiplyByScale=function(e,t,r){return r[0]=e[0]*t.x,r[1]=e[1]*t.x,r[2]=e[2]*t.y,r[3]=e[3]*t.y,r},a.negate=function(e,t){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t},a.transpose=function(e,t){var r=e[0],n=e[2],i=e[1],o=e[3];return t[0]=r,t[1]=n,t[2]=i,t[3]=o,t},a.abs=function(e,t){return t[0]=Math.abs(e[0]),t[1]=Math.abs(e[1]),t[2]=Math.abs(e[2]),t[3]=Math.abs(e[3]),t},a.equals=function(e,t){return e===t||r(e)&&r(t)&&e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]},a.equalsArray=function(e,t,r){return e[0]===t[r]&&e[1]===t[r+1]&&e[2]===t[r+2]&&e[3]===t[r+3]},a.equalsEpsilon=function(e,t,n){return e===t||r(e)&&r(t)&&Math.abs(e[0]-t[0])<=n&&Math.abs(e[1]-t[1])<=n&&Math.abs(e[2]-t[2])<=n&&Math.abs(e[3]-t[3])<=n},a.IDENTITY=o(new a(1,0,0,1)),a.ZERO=o(new a(0,0,0,0)),a.COLUMN0ROW0=0,a.COLUMN0ROW1=1,a.COLUMN1ROW0=2,a.COLUMN1ROW1=3,n(a.prototype,{length:{get:function(){return a.packedLength}}}),a.prototype.clone=function(e){return a.clone(this,e)},a.prototype.equals=function(e){return a.equals(this,e)},a.prototype.equalsEpsilon=function(e,t){return a.equalsEpsilon(this,e,t)},a.prototype.toString=function(){return"("+this[0]+", "+this[2]+")\n("+this[1]+", "+this[3]+")"},a}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(28),r(13),r(4),r(9),r(3),r(1),r(6),r(24),r(10),r(11),r(14),r(25),r(15),r(5),r(22),r(12),r(51),r(27)],i=function(e,t,r,n,i,o,a,s,u,c,l,p,h,m,d,f,y,v){"use strict";function g(e,t,n,i){return r.subtract(t,e,E),r.multiplyByScalar(E,n/i,E),r.add(e,E,E),[E.x,E.y,E.z]}var _={};_.computeHierarchyPackedLength=function(e){for(var t=0,n=[e];n.length>0;){var i=n.pop();if(o(i)){t+=2;var a=i.positions,s=i.holes;if(o(a)&&(t+=a.length*r.packedLength),o(s))for(var u=s.length,c=0;c<u;++c)n.push(s[c])}}return t},_.packPolygonHierarchy=function(e,t,n){for(var i=[e];i.length>0;){var a=i.pop();if(o(a)){var s=a.positions,u=a.holes;if(t[n++]=o(s)?s.length:0,t[n++]=o(u)?u.length:0,o(s))for(var c=s.length,l=0;l<c;++l,n+=3)r.pack(s[l],t,n);if(o(u))for(var p=u.length,h=0;h<p;++h)i.push(u[h])}}return n},_.unpackPolygonHierarchy=function(e,t){for(var n=e[t++],i=e[t++],o=new Array(n),a=i>0?new Array(i):void 0,s=0;s<n;++s,t+=r.packedLength)o[s]=r.unpack(e,t);for(var u=0;u<i;++u)a[u]=_.unpackPolygonHierarchy(e,t),t=a[u].startingIndex,delete a[u].startingIndex;return{positions:o,holes:a,startingIndex:t}};var E=new r;_.subdivideLineCount=function(e,t,n){var i=r.distance(e,t),o=i/n,a=Math.max(0,Math.ceil(Math.log(o)/Math.log(2)));return Math.pow(2,a)},_.subdivideLine=function(e,t,n,i){var a=_.subdivideLineCount(e,t,n),s=r.distance(e,t),u=s/a;o(i)||(i=[]);var c=i;c.length=3*a;for(var l=0,p=0;p<a;p++){var h=g(e,t,p*u,s);c[l++]=h[0],c[l++]=h[1],c[l++]=h[2]}return c};var A=new r,x=new r,T=new r,w=new r;_.scaleToGeodeticHeightExtruded=function(e,t,n,s,u){s=i(s,a.WGS84);var c=A,l=x,p=T,h=w;if(o(e)&&o(e.attributes)&&o(e.attributes.position))for(var m=e.attributes.position.values,d=m.length/2,f=0;f<d;f+=3)r.fromArray(m,f,p),s.geodeticSurfaceNormal(p,c),h=s.scaleToGeodeticSurface(p,h),l=r.multiplyByScalar(c,n,l),l=r.add(h,l,l),m[f+d]=l.x,m[f+1+d]=l.y,m[f+2+d]=l.z,u&&(h=r.clone(p,h)),l=r.multiplyByScalar(c,t,l),l=r.add(h,l,l),m[f]=l.x,m[f+1]=l.y,m[f+2]=l.z;return e},_.polygonsFromHierarchy=function(t,n,i,a){var s=[],u=[],c=new y;for(c.enqueue(t);0!==c.length;){var l=c.dequeue(),p=l.positions,h=l.holes;if(p=e(p,r.equalsEpsilon,!0),!(p.length<3)){var m=i.projectPointsOntoPlane(p),f=[],g=d.computeWindingOrder2D(m);g===v.CLOCKWISE&&(m.reverse(),p=p.slice().reverse());var _,E,A=p.slice(),x=o(h)?h.length:0,T=[];for(_=0;_<x;_++){var w=h[_],S=e(w.positions,r.equalsEpsilon,!0);if(!(S.length<3)){var R=i.projectPointsOntoPlane(S);g=d.computeWindingOrder2D(R),g===v.CLOCKWISE&&(R.reverse(),S=S.slice().reverse()),T.push(S),f.push(A.length),A=A.concat(S),m=m.concat(R);var I=0;for(o(w.holes)&&(I=w.holes.length),E=0;E<I;E++)c.enqueue(w.holes[E])}}if(!n){for(_=0;_<p.length;_++)a.scaleToGeodeticSurface(p[_],p[_]);for(_=0;_<T.length;_++){var N=T[_];for(E=0;E<N.length;++E)a.scaleToGeodeticSurface(N[E],N[E])}}s.push({outerRing:p,holes:T}),u.push({positions:A,positions2D:m,holes:f})}}return{hierarchy:s,polygons:u}},_.createGeometryFromPositions=function(e,t,r,i,o){var a=d.triangulate(t.positions2D,t.holes);a.length<3&&(a=[0,1,2]);var s=t.positions;if(i){for(var l=s.length,h=new Array(3*l),m=0,y=0;y<l;y++){var v=s[y];h[m++]=v.x,h[m++]=v.y,h[m++]=v.z}var g=new u({attributes:{position:new c({componentDatatype:n.DOUBLE,componentsPerAttribute:3,values:h})},indices:a,primitiveType:f.TRIANGLES});return o.normal?p.computeNormal(g):g}return d.computeSubdivision(e,s,a,r)};var S=[],R=new r,I=new r;return _.computeWallGeometry=function(e,t,i,o){var a,s,p,d,y,v=e.length,g=0;if(o)for(s=3*v*2,a=new Array(2*s),p=0;p<v;p++)d=e[p],y=e[(p+1)%v],a[g]=a[g+s]=d.x,++g,a[g]=a[g+s]=d.y,++g,a[g]=a[g+s]=d.z,++g,a[g]=a[g+s]=y.x,++g,a[g]=a[g+s]=y.y,++g,a[g]=a[g+s]=y.z,++g;else{var E=m.chordLength(i,t.maximumRadius),A=0;for(p=0;p<v;p++)A+=_.subdivideLineCount(e[p],e[(p+1)%v],E);for(s=3*(A+v),a=new Array(2*s),p=0;p<v;p++){d=e[p],y=e[(p+1)%v];for(var x=_.subdivideLine(d,y,E,S),T=x.length,w=0;w<T;++w,++g)a[g]=x[w],a[g+s]=x[w];a[g]=y.x,a[g+s]=y.x,++g,a[g]=y.y,a[g+s]=y.y,++g,a[g]=y.z,a[g+s]=y.z,++g}}v=a.length;var N=h.createTypedArray(v/3,v-6*e.length),O=0;for(v/=6,p=0;p<v;p++){var b=p,M=b+1,P=b+v,C=P+1;d=r.fromArray(a,3*b,R),y=r.fromArray(a,3*M,I),r.equalsEpsilon(d,y,m.EPSILON14)||(N[O++]=b,N[O++]=P,N[O++]=M,N[O++]=M,N[O++]=P,N[O++]=C)}return new u({attributes:new l({position:new c({componentDatatype:n.DOUBLE,componentsPerAttribute:3,values:a})}),indices:N,primitiveType:f.TRIANGLES})},_}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(4),r(3),r(1),r(2)],i=function(e,t,r,n){"use strict";function i(r,n){n=e.clone(t(n,e.ZERO)),e.equals(n,e.ZERO)||e.normalize(n,n),this.origin=e.clone(t(r,e.ZERO)),this.direction=n}return i.getPoint=function(t,n,i){return r(i)||(i=new e),i=e.multiplyByScalar(t.direction,n,i),e.add(t.origin,i,i)},i}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(4),r(16),r(1),r(2),r(30),r(5),r(99),r(19)],i=function(e,t,r,n,i,o,a,s){"use strict";var u=Math.cos,c=Math.sin,l=Math.sqrt,p={};p.computePosition=function(e,t,n,i,o){var s=e.ellipsoid.radiiSquared,p=e.nwCorner,h=e.rectangle,m=p.latitude-e.granYCos*t+n*e.granXSin,d=u(m),f=c(m),y=s.z*f,v=p.longitude+t*e.granYSin+n*e.granXCos,g=d*u(v),_=d*c(v),E=s.x*g,A=s.y*_,x=l(E*g+A*_+y*f);i.x=E/x,i.y=A/x,i.z=y/x,r(e.vertexFormat)&&e.vertexFormat.st&&(o.x=(v-h.west)*e.lonScalar-.5,o.y=(m-h.south)*e.latScalar-.5,a.multiplyByVector(e.textureMatrix,o,o),o.x+=.5,o.y+=.5)};var h=new a,m=new e,d=new t,f=new e,y=new i;return p.computeOptions=function(t,i,u){var c,l,p,v,g,_=t._granularity,E=t._ellipsoid,A=t._surfaceHeight,x=t._rotation,T=t._extrudedHeight,w=i.east,S=i.west,R=i.north,I=i.south,N=R-I;S>w?(g=o.TWO_PI-S+w,c=Math.ceil(g/_)+1,l=Math.ceil(N/_)+1,p=g/(c-1),v=N/(l-1)):(g=w-S,c=Math.ceil(g/_)+1,l=Math.ceil(N/_)+1,p=g/(c-1),v=N/(l-1)),u=s.northwest(i,u);var O=s.center(i,d),b=v,M=p,P=0,C=0;if(r(x)&&0!==x){var L=Math.cos(x);b*=L,M*=L;var F=Math.sin(x);P=v*F,C=p*F,m=y.project(u,m),f=y.project(O,f),m=e.subtract(m,f,m);var D=a.fromRotation(x,h);m=a.multiplyByVector(D,m,m),m=e.add(m,f,m),u=y.unproject(m,u);var U=u.latitude,B=U+(c-1)*C,z=U-b*(l-1),G=U-b*(l-1)+(c-1)*C;R=Math.max(U,B,z,G),I=Math.min(U,B,z,G);var k=u.longitude,H=k+(c-1)*M,V=k+(l-1)*P,q=k+(l-1)*P+(c-1)*M;if(w=Math.max(k,H,V,q),S=Math.min(k,H,V,q),R<-o.PI_OVER_TWO||R>o.PI_OVER_TWO||I<-o.PI_OVER_TWO||I>o.PI_OVER_TWO)throw new n("Rotated rectangle is invalid.  It crosses over either the north or south pole.");i.north=R,i.south=I,i.east=w,i.west=S}return{granYCos:b,granYSin:P,granXCos:M,granXSin:C,ellipsoid:E,width:c,height:l,surfaceHeight:A,extrudedHeight:T,nwCorner:u,rectangle:i}},p}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(16),r(1),r(2),r(24),r(5),r(22),r(36),r(27)],i=function(e,t,r,n,i,o,a,s){"use strict";function u(e,t){return i.equalsEpsilon(e.latitude,t.latitude,i.EPSILON14)&&i.equalsEpsilon(e.longitude,t.longitude,i.EPSILON14)}function c(r,n,i,o){var a=n.length;if(!(a<2)){var s=t(o),c=t(i),l=!0,m=new Array(a),d=new Array(a),f=new Array(a),y=n[0];m[0]=y;var v=r.cartesianToCartographic(y,p);c&&(v.height=i[0]),l=l&&v.height<=0,d[0]=v.height,s?f[0]=o[0]:f[0]=0;for(var g=1,_=1;_<a;++_){var E=n[_],A=r.cartesianToCartographic(E,h);c&&(A.height=i[_]),l=l&&A.height<=0,u(v,A)?v.height<A.height&&(d[g-1]=A.height):(m[g]=E,d[g]=A.height,s?f[g]=o[_]:f[g]=0,e.clone(A,v),++g)}if(!(l||g<2))return m.length=g,d.length=g,f.length=g,{positions:m,topHeights:d,bottomHeights:f}}}var l={},p=new e,h=new e,m=new Array(2),d=new Array(2),f={positions:void 0,height:void 0,granularity:void 0,ellipsoid:void 0};return l.computePositions=function(e,r,u,l,p,h){var y=c(e,r,u,l);if(t(y)){if(r=y.positions,u=y.topHeights,l=y.bottomHeights,r.length>=3){var v=n.fromPoints(r,e),g=v.projectPointsOntoPlane(r);o.computeWindingOrder2D(g)===s.CLOCKWISE&&(r.reverse(),u.reverse(),l.reverse())}var _,E,A=r.length,x=A-2,T=i.chordLength(p,e.maximumRadius),w=f;if(w.minDistance=T,w.ellipsoid=e,h){var S,R=0;for(S=0;S<A-1;S++)R+=a.numberOfPoints(r[S],r[S+1],T)+1;_=new Float64Array(3*R),E=new Float64Array(3*R);var I=m,N=d;w.positions=I,w.height=N;var O=0;for(S=0;S<A-1;S++){I[0]=r[S],I[1]=r[S+1],N[0]=u[S],N[1]=u[S+1];var b=a.generateArc(w);_.set(b,O),N[0]=l[S],N[1]=l[S+1],E.set(a.generateArc(w),O),O+=b.length}}else w.positions=r,w.height=u,_=new Float64Array(a.generateArc(w)),w.height=l,E=new Float64Array(a.generateArc(w));return{bottomPositions:E,topPositions:_,numCorners:x}}},l}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(13),r(4),r(1),r(2)],i=function(e,t,r,n){"use strict";function i(n,i,u,c,l){r(l)||(l=new t);var p,h,m,d,f,y,v,g;r(i.z)?(p=t.subtract(u,i,o),h=t.subtract(c,i,a),m=t.subtract(n,i,s),d=t.dot(p,p),f=t.dot(p,h),y=t.dot(p,m),v=t.dot(h,h),g=t.dot(h,m)):(p=e.subtract(u,i,o),h=e.subtract(c,i,a),m=e.subtract(n,i,s),d=e.dot(p,p),f=e.dot(p,h),y=e.dot(p,m),v=e.dot(h,h),g=e.dot(h,m));var _=1/(d*v-f*f);return l.y=(v*y-f*g)*_,l.z=(d*g-f*y)*_,l.x=1-l.y-l.z,l}var o=new t,a=new t,s=new t;return i}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(1),r(2)],i=function(e,t){"use strict";function r(e,t,r){for(var n,i,o=0,a=e.length-1;o<=a;)if(n=~~((o+a)/2),i=r(e[n],t),i<0)o=n+1;else{if(!(i>0))return n;a=n-1}return~(a+1)}return r}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(1)],i=function(e){"use strict";var t=Array.isArray;return e(t)||(t=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),t}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(176),r(1),r(2),r(181)],i=function(e,t,r,n){"use strict";function i(r,i){return t(i)?t(i.Accept)||(i=e(i),i.Accept=o.Accept):i=o,n(r,i).then(function(e){return JSON.parse(e)})}var o={Accept:"application/json,*/*;q=0.01"};return i}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(4),r(1),r(2),r(5)],i=function(e,t,r,n){"use strict";function i(r,i,s,u,c){var l=r.x,p=r.y,h=r.z,m=i.x,d=i.y,f=i.z,y=l*l*m*m,v=p*p*d*d,g=h*h*f*f,_=y+v+g,E=Math.sqrt(1/_),A=e.multiplyByScalar(r,E,o);if(_<u)return isFinite(E)?e.clone(A,c):void 0;var x=s.x,T=s.y,w=s.z,S=a;S.x=A.x*x*2,S.y=A.y*T*2,S.z=A.z*w*2;var R,I,N,O,b,M,P,C,L,F,D,U=(1-E)*e.magnitude(r)/(.5*e.magnitude(S)),B=0;do{U-=B,N=1/(1+U*x),O=1/(1+U*T),b=1/(1+U*w),M=N*N,P=O*O,C=b*b,L=M*N,F=P*O,D=C*b,R=y*M+v*P+g*C-1,I=y*L*x+v*F*T+g*D*w;var z=-2*I;B=R/z}while(Math.abs(R)>n.EPSILON12);return t(c)?(c.x=l*N,c.y=p*O,c.z=h*b,c):new e(l*N,p*O,h*b)}var o=new e,a=new e;return i}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(7),r(44),r(9),r(3),r(1),r(2),r(6),r(39),r(30),r(10),r(11),r(14),r(25),r(15),r(20),r(175)],i=function(e,t,r,n,i,o,a,s,u,c,l,p,h,m,d,f){"use strict";function y(e,t,r){var n,i=!r,o=e.length;if(!i&&o>1){var a=e[0].modelMatrix;for(n=1;n<o;++n)if(!d.equals(a,e[n].modelMatrix)){i=!0;break}}if(i)for(n=0;n<o;++n)h.transformToWorldCoordinates(e[n]);else d.multiplyTransformation(t,e[0].modelMatrix,t)}function v(e,n){var i=e.attributes,o=i.position,a=4*(o.values.length/o.componentsPerAttribute);i.pickColor=new l({componentDatatype:r.UNSIGNED_BYTE,componentsPerAttribute:4,normalize:!0,values:new Uint8Array(a)});for(var s=t.floatToByte(n.red),u=t.floatToByte(n.green),c=t.floatToByte(n.blue),p=t.floatToByte(n.alpha),h=i.pickColor.values,m=0;m<a;m+=4)h[m]=s,h[m+1]=u,h[m+2]=c,h[m+3]=p}function g(e,t){for(var r=e.length,n=0;n<r;++n){var o=e[n],a=t[n];i(o.geometry)?v(o.geometry,a):(v(o.westHemisphereGeometry,a),v(o.eastHemisphereGeometry,a))}}function _(e){var t,r=e.length,n=[],o=e[0].attributes;for(t in o)if(o.hasOwnProperty(t)){for(var a=o[t],s=!0,u=1;u<r;++u){var c=e[u].attributes[t];if(!i(c)||a.componentDatatype!==c.componentDatatype||a.componentsPerAttribute!==c.componentsPerAttribute||a.normalize!==c.normalize){s=!1;break}}s&&n.push(t)}return n}function E(e,t,n){for(var i=c.computeNumberOfVertices(t),o=n.length,a=0;a<o;++a){for(var s=n[a],u=e[s],p=u.componentDatatype,h=u.value,m=u.componentsPerAttribute,d=r.createTypedArray(p,i*m),f=0;f<i;++f)d.set(h,f*m);t.attributes[s]=new l({componentDatatype:p,componentsPerAttribute:m,normalize:u.normalize,values:d})}}function A(e,t){for(var r=e.length,n=0;n<r;++n){var o=e[n],a=o.attributes;i(o.geometry)?E(a,o.geometry,t):(E(a,o.westHemisphereGeometry,t),E(a,o.eastHemisphereGeometry,t))}}function x(t){var n,o,a=t.instances,s=t.pickIds,u=t.projection,c=t.elementIndexUintSupported,l=t.scene3DOnly,p=t.allowPicking,m=t.vertexCacheOptimize,d=t.compressVertices,f=t.modelMatrix,v=a.length;a[0].geometry.primitiveType;if(y(a,f,l),!l)for(n=0;n<v;++n)h.splitLongitude(a[n]);p&&g(a,s);var E=_(a);if(A(a,E),m)for(n=0;n<v;++n){var x=a[n];i(x.geometry)?(h.reorderForPostVertexCache(x.geometry),h.reorderForPreVertexCache(x.geometry)):(h.reorderForPostVertexCache(x.westHemisphereGeometry),h.reorderForPreVertexCache(x.westHemisphereGeometry),h.reorderForPostVertexCache(x.eastHemisphereGeometry),h.reorderForPreVertexCache(x.eastHemisphereGeometry))}var T=h.combineInstances(a);for(v=T.length,n=0;n<v;++n){o=T[n];var w,S=o.attributes;if(l)for(w in S)S.hasOwnProperty(w)&&S[w].componentDatatype===r.DOUBLE&&h.encodeAttribute(o,w,w+"3DHigh",w+"3DLow");else for(w in S)if(S.hasOwnProperty(w)&&S[w].componentDatatype===r.DOUBLE){var R=w+"3D",I=w+"2D";h.projectTo2D(o,w,R,I,u),i(o.boundingSphere)&&"position"===w&&(o.boundingSphereCV=e.fromVertices(o.attributes.position2D.values)),h.encodeAttribute(o,R,R+"High",R+"Low"),h.encodeAttribute(o,I,I+"High",I+"Low")}d&&h.compressVertices(o)}if(!c){var N=[];for(v=T.length,n=0;n<v;++n)o=T[n],N=N.concat(h.fitToUnsignedShortIndices(o));T=N}return T}function T(e,t,n){for(var i=[],o=e.attributes,a=n.length,s=0;s<a;++s){var u=n[s],c=o[u],l=c.componentDatatype;l===r.DOUBLE&&(l=r.FLOAT);var p=r.createTypedArray(l,c.values);i.push({index:t[u],componentDatatype:l,componentsPerAttribute:c.componentsPerAttribute,normalize:c.normalize,values:p}),delete o[u]}return i}function w(e,t,r,o,a,s,u,l,p){var h=c.computeNumberOfVertices(t);i(u[e])||(u[e]={boundingSphere:t.boundingSphere,boundingSphereCV:t.boundingSphereCV});for(var m=o.length,d=0;d<m;++d)for(var f=o[d],y=a[f],v=h;v>0;){for(var g,_=n(p[f],0),E=s[_],A=E.length,x=0;x<A&&(g=E[x],g.index!==y);++x);i(u[e][f])||(u[e][f]={dirty:!1,valid:!0,value:r[f].value,indices:[]});var T,w=g.values.length/g.componentsPerAttribute,S=n(l[f],0);S+v<w?(T=v,u[e][f].indices.push({attribute:g,offset:S,count:T}),l[f]=S+v):(T=w-S,u[e][f].indices.push({attribute:g,offset:S,count:T}),l[f]=0,p[f]=_+1),v-=T}}function S(e,t,r,n,o){var a,s,u,c=[],l=e.length,p={},h={};for(a=0;a<l;++a)s=e[a],u=s.attributes,i(s.geometry)&&w(a,s.geometry,u,o,n,r,c,p,h);for(a=0;a<l;++a)s=e[a],u=s.attributes,i(s.westHemisphereGeometry)&&w(a,s.westHemisphereGeometry,u,o,n,r,c,p,h);for(a=0;a<l;++a)s=e[a],u=s.attributes,i(s.eastHemisphereGeometry)&&w(a,s.eastHemisphereGeometry,u,o,n,r,c,p,h);for(l=t.length,a=0;a<l;++a){s=t[a],u=s.attributes;var m={};c.push(m);for(var d=o.length,f=0;f<d;++f){var y=o[f];m[y]={dirty:!1,valid:!1,value:u[y].value,indices:[]}}}return c}function R(e,t,r,n){var o,a,s,u=n.length-1;if(u>=0){var c=n[u];o=c.offset+c.count,s=c.index,a=r[s].indices.length}else o=0,s=0,a=r[s].indices.length;for(var l=e.length,p=0;p<l;++p){var h=e[p],m=h[t];if(i(m)){var d=m.indices.length;o+d>a&&(o=0,a=r[++s].indices.length),n.push({index:s,offset:o,count:d}),o+=d}}}function I(e,t){var r=[];return R(e,"geometry",t,r),R(e,"westHemisphereGeometry",t,r),R(e,"eastHemisphereGeometry",t,r),r}function N(e,t){var r=e.attributes;for(var n in r)if(r.hasOwnProperty(n)){var o=r[n];i(o)&&i(o.values)&&t.push(o.values.buffer)}i(e.indices)&&t.push(e.indices.buffer)}function O(e,t){for(var r=e.length,n=0;n<r;++n)N(e[n],t)}function b(e,t){for(var r=e.length,n=0;n<r;++n)for(var i=e[n],o=i.length,a=0;a<o;++a)t.push(i[a].values.buffer)}function M(t){for(var r=1,n=t.length,o=0;o<n;o++){var a=t[o];if(++r,i(a)){var s=a.attributes;r+=6+2*e.packedLength+(i(a.indices)?a.indices.length:0);for(var u in s)if(s.hasOwnProperty(u)&&i(s[u])){var c=s[u];r+=5+c.values.length}}}return r}function P(e,t){for(var r=e.length,n=new Uint32Array(e.length),i=0;i<r;++i)n[i]=e[i].toRgba();return t.push(n.buffer),n}function C(e){for(var r=e.length,n=new Array(r),i=0;i<r;i++)n[i]=t.fromRgba(e[i]);return n}function L(e){for(var t=e.length,r=1+17*t,n=0;n<t;n++){var o=e[n].attributes;for(var a in o)if(o.hasOwnProperty(a)&&i(o[a])){var s=o[a];r+=5+s.value.length}}return r}function F(e,t){var r=new Float64Array(L(e)),n={},o=[],a=e.length,s=0;r[s++]=a;for(var u=0;u<a;u++){var c=e[u];d.pack(c.modelMatrix,r,s),s+=d.packedLength;var l=c.attributes,p=[];for(var h in l)l.hasOwnProperty(h)&&i(l[h])&&(p.push(h),i(n[h])||(n[h]=o.length,o.push(h)));r[s++]=p.length;for(var m=0;m<p.length;m++){var f=p[m],y=l[f];r[s++]=n[f],r[s++]=y.componentDatatype,r[s++]=y.componentsPerAttribute,r[s++]=y.normalize,r[s++]=y.value.length,r.set(y.value,s),s+=y.value.length}}return t.push(r.buffer),{stringTable:o,packedData:r}}function D(e){for(var t=e.packedData,n=e.stringTable,i=new Array(t[0]),o=0,a=1;a<t.length;){var s=d.unpack(t,a);a+=d.packedLength;for(var u={},c=t[a++],l=0;l<c;l++){for(var p=n[t[a++]],h=t[a++],m=t[a++],f=0!==t[a++],y=t[a++],v=r.createTypedArray(h,y),g=0;g<y;g++)v[g]=t[a++];u[p]={componentDatatype:h,componentsPerAttribute:m,normalize:f,value:v}}i[o++]={attributes:u,modelMatrix:s}}return i}function U(t){for(var r=t.length,n=1+r,o=0;o<r;o++){var a=t[o];n+=2,n+=i(a.boundingSphere)?e.packedLength:0,n+=i(a.boundingSphereCV)?e.packedLength:0;for(var s in a)if(a.hasOwnProperty(s)&&i(a[s])&&"boundingSphere"!==s&&"boundingSphereCV"!==s){var u=a[s];n+=4+3*u.indices.length+u.value.length}}return n}function B(t,r){var n=new Float64Array(U(t)),o=[],a=[],s={},u=t.length,c=0;n[c++]=u;for(var l=0;l<u;l++){var p=t[l],h=p.boundingSphere,m=i(h);n[c++]=m?1:0,m&&(e.pack(h,n,c),c+=e.packedLength),h=p.boundingSphereCV,m=i(h),n[c++]=m?1:0,m&&(e.pack(h,n,c),c+=e.packedLength);var d=[];for(var f in p)p.hasOwnProperty(f)&&i(p[f])&&"boundingSphere"!==f&&"boundingSphereCV"!==f&&(d.push(f),i(s[f])||(s[f]=o.length,o.push(f)));n[c++]=d.length;for(var y=0;y<d.length;y++){var v=d[y],g=p[v];n[c++]=s[v],n[c++]=g.valid?1:0;var _=g.indices,E=_.length;n[c++]=E;for(var A=0;A<E;A++){var x=_[A];n[c++]=x.count,n[c++]=x.offset;var T=a.indexOf(x.attribute);T===-1&&(T=a.length,a.push(x.attribute)),n[c++]=T}n[c++]=g.value.length,n.set(g.value,c),c+=g.value.length}}return r.push(n.buffer),{stringTable:o,packedData:n,attributeTable:a}}function z(t,n){for(var i=t.stringTable,o=t.attributeTable,a=t.packedData,s=new Array(a[0]),u=0,c=1,l=a.length;c<l;){var p={},h=1===a[c++];h&&(p.boundingSphere=e.unpack(a,c),c+=e.packedLength),h=1===a[c++],h&&(p.boundingSphereCV=e.unpack(a,c),c+=e.packedLength);for(var m=a[c++],d=0;d<m;d++){for(var f=i[a[c++]],y=1===a[c++],v=a[c++],g=v>0?new Array(v):void 0,_=0;_<v;_++){var E={};E.count=a[c++],E.offset=a[c++],E.attribute=o[a[c++]],g[_]=E}for(var A=a[c++],x=y?r.createTypedArray(g[0].attribute.componentDatatype,A):new Array(A),T=0;T<A;T++)x[T]=a[c++];p[f]={dirty:!1,valid:y,indices:g,value:x}}s[u++]=p}return s}if(!s.supportsTypedArrays())return{};var G={};return G.combineGeometry=function(e){var t,r,n,o,a,s=e.instances,u=e.invalidInstances;if(s.length>0){t=x(e),r=h.createAttributeLocations(t[0]),o=_(s),n=[],a=t.length;for(var c=0;c<a;++c){var l=t[c];n.push(T(l,r,o))}}o=i(o)?o:_(u);var p,m=S(s,u,n,r,o);return e.createPickOffsets&&i(t)&&(p=I(s,t)),{geometries:t,modelMatrix:e.modelMatrix,attributeLocations:r,vaAttributes:n,vaAttributeLocations:m,validInstancesIndices:e.validInstancesIndices,invalidInstancesIndices:e.invalidInstancesIndices,pickOffsets:p}},G.packCreateGeometryResults=function(t,r){var n=new Float64Array(M(t)),o=[],a={},s=t.length,u=0;n[u++]=s;for(var c=0;c<s;c++){var l=t[c],p=i(l);if(n[u++]=p?1:0,p){n[u++]=l.primitiveType,n[u++]=l.geometryType;var h=i(l.boundingSphere)?1:0;n[u++]=h,h&&e.pack(l.boundingSphere,n,u),u+=e.packedLength;var m=i(l.boundingSphereCV)?1:0;n[u++]=m,m&&e.pack(l.boundingSphereCV,n,u),u+=e.packedLength;var d=l.attributes,f=[];for(var y in d)d.hasOwnProperty(y)&&i(d[y])&&(f.push(y),i(a[y])||(a[y]=o.length,o.push(y)));n[u++]=f.length;for(var v=0;v<f.length;v++){var g=f[v],_=d[g];n[u++]=a[g],n[u++]=_.componentDatatype,n[u++]=_.componentsPerAttribute,n[u++]=_.normalize?1:0,n[u++]=_.values.length,n.set(_.values,u),u+=_.values.length}var E=i(l.indices)?l.indices.length:0;n[u++]=E,E>0&&(n.set(l.indices,u),u+=E)}}return r.push(n.buffer),{stringTable:o,packedData:n}},G.unpackCreateGeometryResults=function(t){for(var n,i=t.stringTable,o=t.packedData,a=new Array(o[0]),s=0,u=1;u<o.length;){var h=1===o[u++];if(h){var d,f,y=o[u++],v=o[u++],g=1===o[u++];g&&(d=e.unpack(o,u)),u+=e.packedLength;var _=1===o[u++];_&&(f=e.unpack(o,u)),u+=e.packedLength;var E,A,x,T=new p,w=o[u++];for(n=0;n<w;n++){var S=i[o[u++]],R=o[u++];x=o[u++];var I=0!==o[u++];E=o[u++],A=r.createTypedArray(R,E);for(var N=0;N<E;N++)A[N]=o[u++];T[S]=new l({componentDatatype:R,componentsPerAttribute:x,normalize:I,values:A})}var O;if(E=o[u++],E>0){var b=A.length/x;for(O=m.createTypedArray(b,E),n=0;n<E;n++)O[n]=o[u++]}a[s++]=new c({primitiveType:y,geometryType:v,boundingSphere:d,indices:O,attributes:T})}else a[s++]=void 0}return a},G.packCombineGeometryParameters=function(e,t){for(var r=e.createGeometryResults,n=r.length,i=0;i<n;i++)t.push(r[i].packedData.buffer);var o;return e.allowPicking&&(o=P(e.pickIds,t)),{createGeometryResults:e.createGeometryResults,packedInstances:F(e.instances,t),packedPickIds:o,ellipsoid:e.ellipsoid,isGeographic:e.projection instanceof u,elementIndexUintSupported:e.elementIndexUintSupported,scene3DOnly:e.scene3DOnly,allowPicking:e.allowPicking,vertexCacheOptimize:e.vertexCacheOptimize,compressVertices:e.compressVertices,modelMatrix:e.modelMatrix,createPickOffsets:e.createPickOffsets}},G.unpackCombineGeometryParameters=function(e){for(var t=D(e.packedInstances),r=e.allowPicking,n=r?C(e.packedPickIds):void 0,o=e.createGeometryResults,s=o.length,c=0,l=[],p=[],h=[],m=[],y=[],v=0;v<s;v++)for(var g=G.unpackCreateGeometryResults(o[v]),_=g.length,E=0;E<_;E++){var A=g[E],x=t[c];i(A)?(x.geometry=A,l.push(x),h.push(c),r&&y.push(n[c])):(p.push(x),m.push(c)),++c}var T=a.clone(e.ellipsoid),w=e.isGeographic?new u(T):new f(T);return{instances:l,invalidInstances:p,validInstancesIndices:h,invalidInstancesIndices:m,pickIds:y,ellipsoid:T,projection:w,elementIndexUintSupported:e.elementIndexUintSupported,scene3DOnly:e.scene3DOnly,allowPicking:e.allowPicking,vertexCacheOptimize:e.vertexCacheOptimize,compressVertices:e.compressVertices,modelMatrix:d.clone(e.modelMatrix),createPickOffsets:e.createPickOffsets}},G.packCombineGeometryResults=function(e,t){return i(e.geometries)&&(O(e.geometries,t),b(e.vaAttributes,t)),{geometries:e.geometries,attributeLocations:e.attributeLocations,vaAttributes:e.vaAttributes,packedVaAttributeLocations:B(e.vaAttributeLocations,t),modelMatrix:e.modelMatrix,validInstancesIndices:e.validInstancesIndices,invalidInstancesIndices:e.invalidInstancesIndices,pickOffsets:e.pickOffsets}},G.unpackCombineGeometryResults=function(e){return{geometries:e.geometries,attributeLocations:e.attributeLocations,vaAttributes:e.vaAttributes,perInstanceAttributeLocations:z(e.packedVaAttributeLocations,e.vaAttributes),modelMatrix:e.modelMatrix,pickOffsets:e.pickOffsets}},G}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){e.exports=r.p+"2d5795098960cdf313dd4ae92036218a.json"},function(e,t,r){e.exports=r.p+"ea2e3cf86ccbfd9b05b9cde7dbd52a44.json"},function(e,t,r){e.exports=r.p+"3d510d30d03cf9d5e7ffd7b9c3937e72.json"},function(e,t,r){e.exports=r.p+"c2628933a3686121808a28cc4ed8efc1.json"},function(e,t,r){e.exports=r.p+"cd58ab10a7c600da1463f2be116cb9ce.json"},function(e,t,r){e.exports=r.p+"363b177dd76c36aeee3b3fd6bd1462f0.json"},function(e,t,r){e.exports=r.p+"b2d57dcf896b8a3920db6b619b0fffe8.json"},function(e,t,r){e.exports=r.p+"581f1910c93dae37eb2176a3d902402a.json"},function(e,t,r){e.exports=r.p+"6edb05d078b53896f322264ce227819a.json"},function(e,t,r){e.exports=r.p+"f8064c6ae49b2db0a316810cd68a9054.json"},function(e,t,r){e.exports=r.p+"e3f956b4a063bb71c1eec434df9e1c19.json"},function(e,t,r){e.exports=r.p+"b779d797f43643f2f9c47843bd8cf435.json"},function(e,t,r){e.exports=r.p+"03fab32f0c41feab85d13041b841417c.json"},function(e,t,r){e.exports=r.p+"edb8718796e889c3f97bde2f44004bbc.json"},function(e,t,r){e.exports=r.p+"dc0674ed14d4470b12330b1eac6abf7b.json"},function(e,t,r){e.exports=r.p+"bfd2f4888524be41b193a3141cb4a844.json"},function(e,t,r){e.exports=r.p+"3a9aff5435f0f40c03aef6157a3edb30.json"},function(e,t,r){e.exports=r.p+"2b1a5690332ecd6f460ab35b09cfe941.json"},function(e,t,r){e.exports=r.p+"9ac20655e300dbc01432966a539f10df.json"},function(e,t,r){e.exports=r.p+"a6d1fb54cead2318e8573c0430a298bc.json"},function(e,t,r){e.exports=r.p+"b98b703803507f23762805b6c5995f5b.json"},function(e,t,r){e.exports=r.p+"541a21bdf0bd42030b7297230a2c3fc1.json"},function(e,t,r){e.exports=r.p+"31ab38fd8a409a5f223ed2aa97e26bcc.json"},function(e,t,r){e.exports=r.p+"10eb5070ec6da3dce77ac9bba37514c2.json"},function(e,t,r){e.exports=r.p+"3628bb25d432b2c9f23eae256eb79ce3.json"},function(e,t,r){e.exports=r.p+"bfc02c7a602192c7123f3e6b71daa9bf.json"},function(e,t,r){e.exports=r.p+"1c227b3cfcf2bdef4b4aa8d5a6965110.json"},function(e,t,r){e.exports=r.p+"9ad9f606869aa9952331953522602c2b.json"},function(e,t,r){var n,i;n=[],i=function(){"use strict";function e(e,r,i){i=i||2;var o=r&&r.length,a=o?r[0]*i:e.length,s=t(e,0,a,i,!0),c=[];if(!s)return c;var l,p,h,m,d,f,y;if(o&&(s=u(e,r,s,i)),e.length>80*i){l=h=e[0],p=m=e[1];for(var v=i;v<a;v+=i)d=e[v],f=e[v+1],d<l&&(l=d),f<p&&(p=f),d>h&&(h=d),f>m&&(m=f);y=Math.max(h-l,m-p)}return n(s,c,i,l,p,y),c}function t(e,t,r,n,i){var o,a;if(i===N(e,t,r,n)>0)for(o=t;o<r;o+=n)a=S(o,e[o],e[o+1],a);else for(o=r-n;o>=t;o-=n)a=S(o,e[o],e[o+1],a);return a&&_(a,a.next)&&(R(a),a=a.next),a}function r(e,t){if(!e)return e;t||(t=e);var r,n=e;do if(r=!1,n.steiner||!_(n,n.next)&&0!==g(n.prev,n,n.next))n=n.next;else{if(R(n),n=t=n.prev,n===n.next)return null;r=!0}while(r||n!==t);return t}function n(e,t,u,c,l,p,m){if(e){!m&&p&&h(e,c,l,p);for(var d,f,y=e;e.prev!==e.next;)if(d=e.prev,f=e.next,p?o(e,c,l,p):i(e))t.push(d.i/u),t.push(e.i/u),t.push(f.i/u),R(e),e=f.next,y=f.next;else if(e=f,e===y){m?1===m?(e=a(e,t,u),n(e,t,u,c,l,p,2)):2===m&&s(e,t,u,c,l,p):n(r(e),t,u,c,l,p,1);break}}}function i(e){var t=e.prev,r=e,n=e.next;if(g(t,r,n)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(y(t.x,t.y,r.x,r.y,n.x,n.y,i.x,i.y)&&g(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function o(e,t,r,n){var i=e.prev,o=e,a=e.next;if(g(i,o,a)>=0)return!1;for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,u=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,c=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,l=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,p=d(s,u,t,r,n),h=d(c,l,t,r,n),m=e.nextZ;m&&m.z<=h;){if(m!==e.prev&&m!==e.next&&y(i.x,i.y,o.x,o.y,a.x,a.y,m.x,m.y)&&g(m.prev,m,m.next)>=0)return!1;m=m.nextZ}for(m=e.prevZ;m&&m.z>=p;){if(m!==e.prev&&m!==e.next&&y(i.x,i.y,o.x,o.y,a.x,a.y,m.x,m.y)&&g(m.prev,m,m.next)>=0)return!1;m=m.prevZ}return!0}function a(e,t,r){var n=e;do{var i=n.prev,o=n.next.next;!_(i,o)&&E(i,n,n.next,o)&&x(i,o)&&x(o,i)&&(t.push(i.i/r),t.push(n.i/r),t.push(o.i/r),R(n),R(n.next),n=e=o),n=n.next}while(n!==e);return n}function s(e,t,i,o,a,s){var u=e;do{for(var c=u.next.next;c!==u.prev;){if(u.i!==c.i&&v(u,c)){var l=w(u,c);return u=r(u,u.next),l=r(l,l.next),n(u,t,i,o,a,s),void n(l,t,i,o,a,s)}c=c.next}u=u.next}while(u!==e)}function u(e,n,i,o){var a,s,u,p,h,m=[];for(a=0,s=n.length;a<s;a++)u=n[a]*o,p=a<s-1?n[a+1]*o:e.length,h=t(e,u,p,o,!1),h===h.next&&(h.steiner=!0),m.push(f(h));for(m.sort(c),a=0;a<m.length;a++)l(m[a],i),i=r(i,i.next);return i}function c(e,t){return e.x-t.x}function l(e,t){if(t=p(e,t)){var n=w(t,e);r(n,n.next)}}function p(e,t){var r,n=t,i=e.x,o=e.y,a=-(1/0);do{if(o<=n.y&&o>=n.next.y){var s=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(s<=i&&s>a){if(a=s,s===i){if(o===n.y)return n;if(o===n.next.y)return n.next}r=n.x<n.next.x?n:n.next}}n=n.next}while(n!==t);if(!r)return null;if(i===a)return r.prev;var u,c=r,l=r.x,p=r.y,h=1/0;for(n=r.next;n!==c;)i>=n.x&&n.x>=l&&y(o<p?i:a,o,l,p,o<p?a:i,o,n.x,n.y)&&(u=Math.abs(o-n.y)/(i-n.x),(u<h||u===h&&n.x>r.x)&&x(n,e)&&(r=n,h=u)),n=n.next;return r}function h(e,t,r,n){var i=e;do null===i.z&&(i.z=d(i.x,i.y,t,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,m(i)}function m(e){var t,r,n,i,o,a,s,u,c=1;do{for(r=e,e=null,o=null,a=0;r;){for(a++,n=r,s=0,t=0;t<c&&(s++,n=n.nextZ,n);t++);for(u=c;s>0||u>0&&n;)0===s?(i=n,n=n.nextZ,u--):0!==u&&n?r.z<=n.z?(i=r,r=r.nextZ,s--):(i=n,n=n.nextZ,u--):(i=r,r=r.nextZ,s--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;r=n}o.nextZ=null,c*=2}while(a>1);return e}function d(e,t,r,n,i){return e=32767*(e-r)/i,t=32767*(t-n)/i,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e|t<<1}function f(e){var t=e,r=e;do t.x<r.x&&(r=t),t=t.next;while(t!==e);return r}function y(e,t,r,n,i,o,a,s){return(i-a)*(t-s)-(e-a)*(o-s)>=0&&(e-a)*(n-s)-(r-a)*(t-s)>=0&&(r-a)*(o-s)-(i-a)*(n-s)>=0}function v(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!A(e,t)&&x(e,t)&&x(t,e)&&T(e,t)}function g(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y)}function _(e,t){return e.x===t.x&&e.y===t.y}function E(e,t,r,n){return!!(_(e,t)&&_(r,n)||_(e,n)&&_(r,t))||g(e,t,r)>0!=g(e,t,n)>0&&g(r,n,e)>0!=g(r,n,t)>0}function A(e,t){var r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==t.i&&r.next.i!==t.i&&E(r,r.next,e,t))return!0;r=r.next}while(r!==e);return!1}function x(e,t){return g(e.prev,e,e.next)<0?g(e,t,e.next)>=0&&g(e,e.prev,t)>=0:g(e,t,e.prev)<0||g(e,e.next,t)<0}function T(e,t){var r=e,n=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do r.y>o!=r.next.y>o&&i<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==e);return n}function w(e,t){var r=new I(e.i,e.x,e.y),n=new I(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,r.next=i,i.prev=r,n.next=r,r.prev=n,o.next=n,n.prev=o,n}function S(e,t,r,n){var i=new I(e,t,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function R(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function I(e,t,r){this.i=e,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function N(e,t,r,n){
for(var i=0,o=t,a=r-n;o<r;o+=n)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}return e.deviation=function(e,t,r,n){var i=t&&t.length,o=i?t[0]*r:e.length,a=Math.abs(N(e,0,o,r));if(i)for(var s=0,u=t.length;s<u;s++){var c=t[s]*r,l=s<u-1?t[s+1]*r:e.length;a-=Math.abs(N(e,c,l,r))}var p=0;for(s=0;s<n.length;s+=3){var h=n[s]*r,m=n[s+1]*r,d=n[s+2]*r;p+=Math.abs((e[h]-e[d])*(e[m+1]-e[h+1])-(e[h]-e[m])*(e[d+1]-e[h+1]))}return 0===a&&0===p?0:Math.abs((p-a)/a)},e.flatten=function(e){for(var t=e[0][0].length,r={vertices:[],holes:[],dimensions:t},n=0,i=0;i<e.length;i++){for(var o=0;o<e[i].length;o++)for(var a=0;a<t;a++)r.vertices.push(e[i][o][a]);i>0&&(n+=e[i-1].length,r.holes.push(n))}return r},e}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n;n=function(){var e=function(e){void 0==e&&(e=(new Date).getTime()),this.N=624,this.M=397,this.MATRIX_A=2567483615,this.UPPER_MASK=2147483648,this.LOWER_MASK=2147483647,this.mt=new Array(this.N),this.mti=this.N+1,this.init_genrand(e)};return e.prototype.init_genrand=function(e){for(this.mt[0]=e>>>0,this.mti=1;this.mti<this.N;this.mti++){var e=this.mt[this.mti-1]^this.mt[this.mti-1]>>>30;this.mt[this.mti]=(1812433253*((4294901760&e)>>>16)<<16)+1812433253*(65535&e)+this.mti,this.mt[this.mti]>>>=0}},e.prototype.genrand_int32=function(){var e,t=new Array(0,this.MATRIX_A);if(this.mti>=this.N){var r;for(this.mti==this.N+1&&this.init_genrand(5489),r=0;r<this.N-this.M;r++)e=this.mt[r]&this.UPPER_MASK|this.mt[r+1]&this.LOWER_MASK,this.mt[r]=this.mt[r+this.M]^e>>>1^t[1&e];for(;r<this.N-1;r++)e=this.mt[r]&this.UPPER_MASK|this.mt[r+1]&this.LOWER_MASK,this.mt[r]=this.mt[r+(this.M-this.N)]^e>>>1^t[1&e];e=this.mt[this.N-1]&this.UPPER_MASK|this.mt[0]&this.LOWER_MASK,this.mt[this.N-1]=this.mt[this.M-1]^e>>>1^t[1&e],this.mti=0}return e=this.mt[this.mti++],e^=e>>>11,e^=e<<7&2636928640,e^=e<<15&4022730752,e^=e>>>18,e>>>0},e.prototype.random=function(){return this.genrand_int32()*(1/4294967296)},e}.call(t,r,t,e),/**
@license
mersenne-twister.js - https-colon-slashslash gist.github.com/banksean/300494

   Copyright (C) 1997 - 2002, Makoto Matsumoto and Takuji Nishimura,
   All rights reserved.

   Redistribution and use in source and binary forms, with or without
   modification, are permitted provided that the following conditions
   are met:

     1. Redistributions of source code must retain the above copyright
        notice, this list of conditions and the following disclaimer.

     2. Redistributions in binary form must reproduce the above copyright
        notice, this list of conditions and the following disclaimer in the
        documentation and/or other materials provided with the distribution.

     3. The names of its contributors may not be used to endorse or promote
        products derived from this software without specific prior written
        permission.

   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
   "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
   LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
   A PARTICULAR PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR
   CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
   EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
   PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
   PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
   LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
   NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
   SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/
!(void 0!==n&&(e.exports=n))},function(e,t,r){var n;n=function(){function e(){var e=/%%|%(\d+\$)?([-+\'#0 ]*)(\*\d+\$|\*|\d+)?(\.(\*\d+\$|\*|\d+))?([scboxXuideEfFgG])/g,t=arguments,r=0,n=t[r++],i=function(e,t,r,n){r||(r=" ");var i=e.length>=t?"":Array(1+t-e.length>>>0).join(r);return n?e+i:i+e},o=function(e,t,r,n,o,a){var s=n-e.length;return s>0&&(e=r||!o?i(e,n,a,r):e.slice(0,t.length)+i("",s,"0",!0)+e.slice(t.length)),e},a=function(e,t,r,n,a,s,u){var c=e>>>0;return r=r&&c&&{2:"0b",8:"0",16:"0x"}[t]||"",e=r+i(c.toString(t),s||0,"0",!1),o(e,r,n,a,u)},s=function(e,t,r,n,i,a){return null!=n&&(e=e.slice(0,n)),o(e,"",t,r,i,a)},u=function(e,n,u,c,l,p,h){var m,d,f,y,v;if("%%"==e)return"%";for(var g=!1,_="",E=!1,A=!1,x=" ",T=u.length,w=0;u&&w<T;w++)switch(u.charAt(w)){case" ":_=" ";break;case"+":_="+";break;case"-":g=!0;break;case"'":x=u.charAt(w+1);break;case"0":E=!0;break;case"#":A=!0}if(c=c?"*"==c?+t[r++]:"*"==c.charAt(0)?+t[c.slice(1,-1)]:+c:0,c<0&&(c=-c,g=!0),!isFinite(c))throw new Error("sprintf: (minimum-)width must be finite");switch(p=p?"*"==p?+t[r++]:"*"==p.charAt(0)?+t[p.slice(1,-1)]:+p:"fFeE".indexOf(h)>-1?6:"d"==h?0:void 0,v=n?t[n.slice(0,-1)]:t[r++],h){case"s":return s(String(v),g,c,p,E,x);case"c":return s(String.fromCharCode(+v),g,c,p,E);case"b":return a(v,2,A,g,c,p,E);case"o":return a(v,8,A,g,c,p,E);case"x":return a(v,16,A,g,c,p,E);case"X":return a(v,16,A,g,c,p,E).toUpperCase();case"u":return a(v,10,A,g,c,p,E);case"i":case"d":return m=+v||0,m=Math.round(m-m%1),d=m<0?"-":_,v=d+i(String(Math.abs(m)),p,"0",!1),o(v,d,g,c,E);case"e":case"E":case"f":case"F":case"g":case"G":return m=+v,d=m<0?"-":_,f=["toExponential","toFixed","toPrecision"]["efg".indexOf(h.toLowerCase())],y=["toString","toUpperCase"]["eEfFgG".indexOf(h)%2],v=d+Math.abs(m)[f](p),o(v,d,g,c,E)[y]();default:return e}};return n.replace(e,u)}return e}.call(t,r,t,e),/**
@license
sprintf.js from the php.js project - https-colon-slashslash github.com/kvz/phpjs
Directly from https-colon-slashslash github.com/kvz/phpjs/blob/master/functions/strings/sprintf.js

php.js is copyright 2012 Kevin van Zonneveld.

Portions copyright Brett Zamir (http-colon-slashslash brett-zamir.me), Kevin van Zonneveld
(http-colon-slashslash kevin.vanzonneveld.net), Onno Marsman, Theriault, Michael White
(http-colon-slashslash getsprink.com), Waldo Malqui Silva, Paulo Freitas, Jack, Jonas
Raoni Soares Silva (http-colon-slashslash www.jsfromhell.com), Philip Peterson, Legaev
Andrey, Ates Goral (http-colon-slashslash magnetiq.com), Alex, Ratheous, Martijn Wieringa,
Rafa? Kukawski (http-colon-slashslash blog.kukawski.pl), lmeyrick
(https-colon-slashslash sourceforge.net/projects/bcmath-js/), Nate, Philippe Baumann,
Enrique Gonzalez, Webtoolkit.info (http-colon-slashslash www.webtoolkit.info/), Carlos R.
L. Rodrigues (http-colon-slashslash www.jsfromhell.com), Ash Searle
(http-colon-slashslash hexmen.com/blog/), Jani Hartikainen, travc, Ole Vrijenhoek,
Erkekjetter, Michael Grier, Rafa? Kukawski (http-colon-slashslash kukawski.pl), Johnny
Mast (http-colon-slashslash www.phpvrouwen.nl), T.Wild, d3x,
http-colon-slashslash stackoverflow.com/questions/57803/how-to-convert-decimal-to-hex-in-javascript,
Rafa? Kukawski (http-colon-slashslash blog.kukawski.pl/), stag019, pilus, WebDevHobo
(http-colon-slashslash webdevhobo.blogspot.com/), marrtins, GeekFG
(http-colon-slashslash geekfg.blogspot.com), Andrea Giammarchi
(http-colon-slashslash webreflection.blogspot.com), Arpad Ray (mailto:arpad@php.net),
gorthaur, Paul Smith, Tim de Koning (http-colon-slashslash www.kingsquare.nl), Joris, Oleg
Eremeev, Steve Hilder, majak, gettimeofday, KELAN, Josh Fraser
(http-colon-slashslash onlineaspect.com/2007/06/08/auto-detect-a-time-zone-with-javascript/),
Marc Palau, Martin
(http-colon-slashslash www.erlenwiese.de/), Breaking Par Consulting Inc
(http-colon-slashslash www.breakingpar.com/bkp/home.nsf/0/87256B280015193F87256CFB006C45F7),
Chris, Mirek Slugen, saulius, Alfonso Jimenez
(http-colon-slashslash www.alfonsojimenez.com), Diplom@t (http-colon-slashslash difane.com/), felix,
Mailfaker (http-colon-slashslash www.weedem.fr/), Tyler Akins (http-colon-slashslash rumkin.com), Caio
Ariede (http-colon-slashslash caioariede.com), Robin, Kankrelune
(http-colon-slashslash www.webfaktory.info/), Karol Kowalski, Imgen Tata
(http-colon-slashslash www.myipdf.com/), mdsjack (http-colon-slashslash www.mdsjack.bo.it), Dreamer,
Felix Geisendoerfer (http-colon-slashslash www.debuggable.com/felix), Lars Fischer, AJ,
David, Aman Gupta, Michael White, Public Domain
(http-colon-slashslash www.json.org/json2.js), Steven Levithan
(http-colon-slashslash blog.stevenlevithan.com), Sakimori, Pellentesque Malesuada,
Thunder.m, Dj (http-colon-slashslash phpjs.org/functions/htmlentities:425#comment_134018),
Steve Clay, David James, Francois, class_exists, nobbler, T. Wild, Itsacon
(http-colon-slashslash www.itsacon.net/), date, Ole Vrijenhoek (http-colon-slashslash www.nervous.nl/),
Fox, Raphael (Ao RUDLER), Marco, noname, Mateusz "loonquawl" Zalega, Frank
Forte, Arno, ger, mktime, john (http-colon-slashslash www.jd-tech.net), Nick Kolosov
(http-colon-slashslash sammy.ru), marc andreu, Scott Cariss, Douglas Crockford
(http-colon-slashslash javascript.crockford.com), madipta, Slawomir Kaniecki,
ReverseSyntax, Nathan, Alex Wilson, kenneth, Bayron Guevara, Adam Wallner
(http-colon-slashslash web2.bitbaro.hu/), paulo kuong, jmweb, Lincoln Ramsay, djmix,
Pyerre, Jon Hohle, Thiago Mata (http-colon-slashslash thiagomata.blog.com), lmeyrick
(https-colon-slashslash sourceforge.net/projects/bcmath-js/this.), Linuxworld, duncan,
Gilbert, Sanjoy Roy, Shingo, sankai, Oskar Larsson H?gfeldt
(http-colon-slashslash oskar-lh.name/), Denny Wardhana, 0m3r, Everlasto, Subhasis Deb,
josh, jd, Pier Paolo Ramon (http-colon-slashslash www.mastersoup.com/), P, merabi, Soren
Hansen, Eugene Bulkin (http-colon-slashslash doubleaw.com/), Der Simon
(http-colon-slashslash innerdom.sourceforge.net/), echo is bad, Ozh, XoraX
(http-colon-slashslash www.xorax.info), EdorFaus, JB, J A R, Marc Jansen, Francesco, LH,
Stoyan Kyosev (http-colon-slashslash www.svest.org/), nord_ua, omid
(http-colon-slashslash phpjs.org/functions/380:380#comment_137122), Brad Touesnard, MeEtc
(http-colon-slashslash yass.meetcweb.com), Peter-Paul Koch
(http-colon-slashslash www.quirksmode.org/js/beat.html), Olivier Louvignes
(http-colon-slashslash mg-crea.com/), T0bsn, Tim Wiel, Bryan Elliott, Jalal Berrami,
Martin, JT, David Randall, Thomas Beaucourt (http-colon-slashslash www.webapp.fr), taith,
vlado houba, Pierre-Luc Paour, Kristof Coomans (SCK-CEN Belgian Nucleair
Research Centre), Martin Pool, Kirk Strobeck, Rick Waldron, Brant Messenger
(http-colon-slashslash www.brantmessenger.com/), Devan Penner-Woelk, Saulo Vallory, Wagner
B. Soares, Artur Tchernychev, Valentina De Rosa, Jason Wong
(http-colon-slashslash carrot.org/), Christoph, Daniel Esteban, strftime, Mick@el, rezna,
Simon Willison (http-colon-slashslash simonwillison.net), Anton Ongson, Gabriel Paderni,
Marco van Oort, penutbutterjelly, Philipp Lenssen, Bjorn Roesbeke
(http-colon-slashslash www.bjornroesbeke.be/), Bug?, Eric Nagel, Tomasz Wesolowski,
Evertjan Garretsen, Bobby Drake, Blues (http-colon-slashslash tech.bluesmoon.info/), Luke
Godfrey, Pul, uestla, Alan C, Ulrich, Rafal Kukawski, Yves Sucaet,
sowberry, Norman "zEh" Fuchs, hitwork, Zahlii, johnrembo, Nick Callen,
Steven Levithan (stevenlevithan.com), ejsanders, Scott Baker, Brian Tafoya
(http-colon-slashslash www.premasolutions.com/), Philippe Jausions
(http-colon-slashslash pear.php.net/user/jausions), Aidan Lister
(http-colon-slashslash aidanlister.com/), Rob, e-mike, HKM, ChaosNo1, metjay, strcasecmp,
strcmp, Taras Bogach, jpfle, Alexander Ermolaev
(http-colon-slashslash snippets.dzone.com/user/AlexanderErmolaev), DxGx, kilops, Orlando,
dptr1988, Le Torbi, James (http-colon-slashslash www.james-bell.co.uk/), Pedro Tainha
(http-colon-slashslash www.pedrotainha.com), James, Arnout Kazemier
(http-colon-slashslash www.3rd-Eden.com), Chris McMacken, gabriel paderni, Yannoo,
FGFEmperor, baris ozdil, Tod Gentille, Greg Frazier, jakes, 3D-GRAF, Allan
Jensen (http-colon-slashslash www.winternet.no), Howard Yeend, Benjamin Lupton, davook,
daniel airton wermann (http-colon-slashslash wermann.com.br), Atli T¨®r, Maximusya, Ryan
W Tenney (http-colon-slashslash ryan.10e.us), Alexander M Beedie, fearphage
(http-colon-slashslash http/my.opera.com/fearphage/), Nathan Sepulveda, Victor, Matteo,
Billy, stensi, Cord, Manish, T.J. Leahy, Riddler
(http-colon-slashslash www.frontierwebdev.com/), Rafa? Kukawski, FremyCompany, Matt
Bradley, Tim de Koning, Luis Salazar (http-colon-slashslash www.freaky-media.com/), Diogo
Resende, Rival, Andrej Pavlovic, Garagoth, Le Torbi
(http-colon-slashslash www.letorbi.de/), Dino, Josep Sanz (http-colon-slashslash www.ws3.es/), rem,
Russell Walker (http-colon-slashslash www.nbill.co.uk/), Jamie Beck
(http-colon-slashslash www.terabit.ca/), setcookie, Michael, YUI Library:
http-colon-slashslash developer.yahoo.com/yui/docs/YAHOO.util.DateLocale.html, Blues at
http-colon-slashslash hacks.bluesmoon.info/strftime/strftime.js, Ben
(http-colon-slashslash benblume.co.uk/), DtTvB
(http-colon-slashslash dt.in.th/2008-09-16.string-length-in-bytes.html), Andreas, William,
meo, incidence, Cagri Ekin, Amirouche, Amir Habibi
(http-colon-slashslash www.residence-mixte.com/), Luke Smith (http-colon-slashslash lucassmith.name),
Kheang Hok Chin (http-colon-slashslash www.distantia.ca/), Jay Klehr, Lorenzo Pisani,
Tony, Yen-Wei Liu, Greenseed, mk.keck, Leslie Hoare, dude, booeyOH, Ben
Bryan

Licensed under the MIT (MIT-LICENSE.txt) license.

Permission is hereby granted, free of charge, to any person obtaining a
copy of this software and associated documentation files (the
"Software"), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be included
in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL KEVIN VAN ZONNEVELD BE LIABLE FOR ANY CLAIM, DAMAGES
OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,
ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
OTHER DEALINGS IN THE SOFTWARE.
*/
!(void 0!==n&&(e.exports=n))},function(e,t,r){var n,i;n=[r(7),r(4),r(9),r(3),r(1),r(2),r(10),r(11),r(14),r(12),r(21)],i=function(e,t,r,n,i,o,a,s,u,c,l){"use strict";function p(e){e=n(e,n.EMPTY_OBJECT);var r=e.minimum,i=e.maximum,o=n(e.vertexFormat,l.DEFAULT);this._minimum=t.clone(r),this._maximum=t.clone(i),this._vertexFormat=o,this._workerName="createBoxGeometry"}var h=new t;p.fromDimensions=function(e){e=n(e,n.EMPTY_OBJECT);var r=e.dimensions,i=t.multiplyByScalar(r,.5,new t);return new p({minimum:t.negate(i,new t),maximum:i,vertexFormat:e.vertexFormat})},p.fromAxisAlignedBoundingBox=function(e){if(!i(e))throw new o("boundingBox is required.");return new p({minimum:e.minimum,maximum:e.maximum})},p.packedLength=2*t.packedLength+l.packedLength,p.pack=function(e,r,i){return i=n(i,0),t.pack(e._minimum,r,i),t.pack(e._maximum,r,i+t.packedLength),l.pack(e._vertexFormat,r,i+2*t.packedLength),r};var m=new t,d=new t,f=new l,y={minimum:m,maximum:d,vertexFormat:f};return p.unpack=function(e,r,o){r=n(r,0);var a=t.unpack(e,r,m),s=t.unpack(e,r+t.packedLength,d),u=l.unpack(e,r+2*t.packedLength,f);return i(o)?(o._minimum=t.clone(a,o._minimum),o._maximum=t.clone(s,o._maximum),o._vertexFormat=l.clone(u,o._vertexFormat),o):new p(y)},p.createGeometry=function(n){var i=n._minimum,o=n._maximum,l=n._vertexFormat;if(!t.equals(i,o)){var p,m,d=new u;if(l.position&&(l.st||l.normal||l.binormal||l.tangent)){if(l.position&&(m=new Float64Array(72),m[0]=i.x,m[1]=i.y,m[2]=o.z,m[3]=o.x,m[4]=i.y,m[5]=o.z,m[6]=o.x,m[7]=o.y,m[8]=o.z,m[9]=i.x,m[10]=o.y,m[11]=o.z,m[12]=i.x,m[13]=i.y,m[14]=i.z,m[15]=o.x,m[16]=i.y,m[17]=i.z,m[18]=o.x,m[19]=o.y,m[20]=i.z,m[21]=i.x,m[22]=o.y,m[23]=i.z,m[24]=o.x,m[25]=i.y,m[26]=i.z,m[27]=o.x,m[28]=o.y,m[29]=i.z,m[30]=o.x,m[31]=o.y,m[32]=o.z,m[33]=o.x,m[34]=i.y,m[35]=o.z,m[36]=i.x,m[37]=i.y,m[38]=i.z,m[39]=i.x,m[40]=o.y,m[41]=i.z,m[42]=i.x,m[43]=o.y,m[44]=o.z,m[45]=i.x,m[46]=i.y,m[47]=o.z,m[48]=i.x,m[49]=o.y,m[50]=i.z,m[51]=o.x,m[52]=o.y,m[53]=i.z,m[54]=o.x,m[55]=o.y,m[56]=o.z,m[57]=i.x,m[58]=o.y,m[59]=o.z,m[60]=i.x,m[61]=i.y,m[62]=i.z,m[63]=o.x,m[64]=i.y,m[65]=i.z,m[66]=o.x,m[67]=i.y,m[68]=o.z,m[69]=i.x,m[70]=i.y,m[71]=o.z,d.position=new s({componentDatatype:r.DOUBLE,componentsPerAttribute:3,values:m})),l.normal){var f=new Float32Array(72);f[0]=0,f[1]=0,f[2]=1,f[3]=0,f[4]=0,f[5]=1,f[6]=0,f[7]=0,f[8]=1,f[9]=0,f[10]=0,f[11]=1,f[12]=0,f[13]=0,f[14]=-1,f[15]=0,f[16]=0,f[17]=-1,f[18]=0,f[19]=0,f[20]=-1,f[21]=0,f[22]=0,f[23]=-1,f[24]=1,f[25]=0,f[26]=0,f[27]=1,f[28]=0,f[29]=0,f[30]=1,f[31]=0,f[32]=0,f[33]=1,f[34]=0,f[35]=0,f[36]=-1,f[37]=0,f[38]=0,f[39]=-1,f[40]=0,f[41]=0,f[42]=-1,f[43]=0,f[44]=0,f[45]=-1,f[46]=0,f[47]=0,f[48]=0,f[49]=1,f[50]=0,f[51]=0,f[52]=1,f[53]=0,f[54]=0,f[55]=1,f[56]=0,f[57]=0,f[58]=1,f[59]=0,f[60]=0,f[61]=-1,f[62]=0,f[63]=0,f[64]=-1,f[65]=0,f[66]=0,f[67]=-1,f[68]=0,f[69]=0,f[70]=-1,f[71]=0,d.normal=new s({componentDatatype:r.FLOAT,componentsPerAttribute:3,values:f})}if(l.st){var y=new Float32Array(48);y[0]=0,y[1]=0,y[2]=1,y[3]=0,y[4]=1,y[5]=1,y[6]=0,y[7]=1,y[8]=1,y[9]=0,y[10]=0,y[11]=0,y[12]=0,y[13]=1,y[14]=1,y[15]=1,y[16]=0,y[17]=0,y[18]=1,y[19]=0,y[20]=1,y[21]=1,y[22]=0,y[23]=1,y[24]=1,y[25]=0,y[26]=0,y[27]=0,y[28]=0,y[29]=1,y[30]=1,y[31]=1,y[32]=1,y[33]=0,y[34]=0,y[35]=0,y[36]=0,y[37]=1,y[38]=1,y[39]=1,y[40]=0,y[41]=0,y[42]=1,y[43]=0,y[44]=1,y[45]=1,y[46]=0,y[47]=1,d.st=new s({componentDatatype:r.FLOAT,componentsPerAttribute:2,values:y})}if(l.tangent){var v=new Float32Array(72);v[0]=1,v[1]=0,v[2]=0,v[3]=1,v[4]=0,v[5]=0,v[6]=1,v[7]=0,v[8]=0,v[9]=1,v[10]=0,v[11]=0,v[12]=-1,v[13]=0,v[14]=0,v[15]=-1,v[16]=0,v[17]=0,v[18]=-1,v[19]=0,v[20]=0,v[21]=-1,v[22]=0,v[23]=0,v[24]=0,v[25]=1,v[26]=0,v[27]=0,v[28]=1,v[29]=0,v[30]=0,v[31]=1,v[32]=0,v[33]=0,v[34]=1,v[35]=0,v[36]=0,v[37]=-1,v[38]=0,v[39]=0,v[40]=-1,v[41]=0,v[42]=0,v[43]=-1,v[44]=0,v[45]=0,v[46]=-1,v[47]=0,v[48]=-1,v[49]=0,v[50]=0,v[51]=-1,v[52]=0,v[53]=0,v[54]=-1,v[55]=0,v[56]=0,v[57]=-1,v[58]=0,v[59]=0,v[60]=1,v[61]=0,v[62]=0,v[63]=1,v[64]=0,v[65]=0,v[66]=1,v[67]=0,v[68]=0,v[69]=1,v[70]=0,v[71]=0,d.tangent=new s({componentDatatype:r.FLOAT,componentsPerAttribute:3,values:v})}if(l.binormal){var g=new Float32Array(72);g[0]=0,g[1]=1,g[2]=0,g[3]=0,g[4]=1,g[5]=0,g[6]=0,g[7]=1,g[8]=0,g[9]=0,g[10]=1,g[11]=0,g[12]=0,g[13]=1,g[14]=0,g[15]=0,g[16]=1,g[17]=0,g[18]=0,g[19]=1,g[20]=0,g[21]=0,g[22]=1,g[23]=0,g[24]=0,g[25]=0,g[26]=1,g[27]=0,g[28]=0,g[29]=1,g[30]=0,g[31]=0,g[32]=1,g[33]=0,g[34]=0,g[35]=1,g[36]=0,g[37]=0,g[38]=1,g[39]=0,g[40]=0,g[41]=1,g[42]=0,g[43]=0,g[44]=1,g[45]=0,g[46]=0,g[47]=1,g[48]=0,g[49]=0,g[50]=1,g[51]=0,g[52]=0,g[53]=1,g[54]=0,g[55]=0,g[56]=1,g[57]=0,g[58]=0,g[59]=1,g[60]=0,g[61]=0,g[62]=1,g[63]=0,g[64]=0,g[65]=1,g[66]=0,g[67]=0,g[68]=1,g[69]=0,g[70]=0,g[71]=1,d.binormal=new s({componentDatatype:r.FLOAT,componentsPerAttribute:3,values:g})}p=new Uint16Array(36),p[0]=0,p[1]=1,p[2]=2,p[3]=0,p[4]=2,p[5]=3,p[6]=6,p[7]=5,p[8]=4,p[9]=7,p[10]=6,p[11]=4,p[12]=8,p[13]=9,p[14]=10,p[15]=8,p[16]=10,p[17]=11,p[18]=14,p[19]=13,p[20]=12,p[21]=15,p[22]=14,p[23]=12,p[24]=18,p[25]=17,p[26]=16,p[27]=19,p[28]=18,p[29]=16,p[30]=20,p[31]=21,p[32]=22,p[33]=20,p[34]=22,p[35]=23}else m=new Float64Array(24),m[0]=i.x,m[1]=i.y,m[2]=i.z,m[3]=o.x,m[4]=i.y,m[5]=i.z,m[6]=o.x,m[7]=o.y,m[8]=i.z,m[9]=i.x,m[10]=o.y,m[11]=i.z,m[12]=i.x,m[13]=i.y,m[14]=o.z,m[15]=o.x,m[16]=i.y,m[17]=o.z,m[18]=o.x,m[19]=o.y,m[20]=o.z,m[21]=i.x,m[22]=o.y,m[23]=o.z,d.position=new s({componentDatatype:r.DOUBLE,componentsPerAttribute:3,values:m}),p=new Uint16Array(36),p[0]=4,p[1]=5,p[2]=6,p[3]=4,p[4]=6,p[5]=7,p[6]=1,p[7]=0,p[8]=3,p[9]=1,p[10]=3,p[11]=2,p[12]=1,p[13]=6,p[14]=5,p[15]=1,p[16]=2,p[17]=6,p[18]=2,p[19]=3,p[20]=7,p[21]=2,p[22]=7,p[23]=6,p[24]=3,p[25]=0,p[26]=4,p[27]=3,p[28]=4,p[29]=7,p[30]=0,p[31]=1,p[32]=5,p[33]=0,p[34]=5,p[35]=4;var _=t.subtract(o,i,h),E=.5*t.magnitude(_);return new a({attributes:d,indices:p,primitiveType:c.TRIANGLES,boundingSphere:new e(t.ZERO,E)})}},p}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(7),r(4),r(9),r(3),r(1),r(2),r(10),r(11),r(14),r(12)],i=function(e,t,r,n,i,o,a,s,u,c){"use strict";function l(e){e=n(e,n.EMPTY_OBJECT);var r=e.minimum,i=e.maximum;this._min=t.clone(r),this._max=t.clone(i),this._workerName="createBoxOutlineGeometry"}var p=new t;l.fromDimensions=function(e){e=n(e,n.EMPTY_OBJECT);var r=e.dimensions,i=t.multiplyByScalar(r,.5,new t);return new l({minimum:t.negate(i,new t),maximum:i})},l.fromAxisAlignedBoundingBox=function(e){if(!i(e))throw new o("boundingBox is required.");return new l({minimum:e.minimum,maximum:e.maximum})},l.packedLength=2*t.packedLength,l.pack=function(e,r,i){return i=n(i,0),t.pack(e._min,r,i),t.pack(e._max,r,i+t.packedLength),r};var h=new t,m=new t,d={minimum:h,maximum:m};return l.unpack=function(e,r,o){r=n(r,0);var a=t.unpack(e,r,h),s=t.unpack(e,r+t.packedLength,m);return i(o)?(o._min=t.clone(a,o._min),o._max=t.clone(s,o._max),o):new l(d)},l.createGeometry=function(n){var i=n._min,o=n._max;if(!t.equals(i,o)){var l=new u,h=new Uint16Array(24),m=new Float64Array(24);m[0]=i.x,m[1]=i.y,m[2]=i.z,m[3]=o.x,m[4]=i.y,m[5]=i.z,m[6]=o.x,m[7]=o.y,m[8]=i.z,m[9]=i.x,m[10]=o.y,m[11]=i.z,m[12]=i.x,m[13]=i.y,m[14]=o.z,m[15]=o.x,m[16]=i.y,m[17]=o.z,m[18]=o.x,m[19]=o.y,m[20]=o.z,m[21]=i.x,m[22]=o.y,m[23]=o.z,l.position=new s({componentDatatype:r.DOUBLE,componentsPerAttribute:3,values:m}),h[0]=4,h[1]=5,h[2]=5,h[3]=6,h[4]=6,h[5]=7,h[6]=7,h[7]=4,h[8]=0,h[9]=1,h[10]=1,h[11]=2,h[12]=2,h[13]=3,h[14]=3,h[15]=0,h[16]=0,h[17]=4,h[18]=1,h[19]=5,h[20]=2,h[21]=6,h[22]=3,h[23]=7;var d=t.subtract(o,i,p),f=.5*t.magnitude(d);return new a({attributes:l,indices:h,primitiveType:c.LINES,boundingSphere:new e(t.ZERO,f)})}},l}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(4),r(3),r(1),r(17),r(2),r(90),r(6),r(5),r(21)],i=function(e,t,r,n,i,o,a,s,u){"use strict";function c(e){e=t(e,t.EMPTY_OBJECT);var r=e.radius,n={center:e.center,semiMajorAxis:r,semiMinorAxis:r,ellipsoid:e.ellipsoid,height:e.height,extrudedHeight:e.extrudedHeight,granularity:e.granularity,vertexFormat:e.vertexFormat,stRotation:e.stRotation};this._ellipseGeometry=new o(n),this._workerName="createCircleGeometry"}c.packedLength=o.packedLength,c.pack=function(e,t,r){return o.pack(e._ellipseGeometry,t,r)};var l=new o({center:new e,semiMajorAxis:1,semiMinorAxis:1}),p={center:new e,radius:void 0,ellipsoid:a.clone(a.UNIT_SPHERE),height:void 0,extrudedHeight:void 0,granularity:void 0,vertexFormat:new u,stRotation:void 0,semiMajorAxis:void 0,semiMinorAxis:void 0};return c.unpack=function(t,n,i){var s=o.unpack(t,n,l);return p.center=e.clone(s._center,p.center),p.ellipsoid=a.clone(s._ellipsoid,p.ellipsoid),p.height=s._height,p.extrudedHeight=s._extrudedHeight,p.granularity=s._granularity,p.vertexFormat=u.clone(s._vertexFormat,p.vertexFormat),p.stRotation=s._stRotation,r(i)?(p.semiMajorAxis=s._semiMajorAxis,p.semiMinorAxis=s._semiMinorAxis,i._ellipseGeometry=new o(p),i):(p.radius=s._semiMajorAxis,new c(p))},c.createGeometry=function(e){return o.createGeometry(e._ellipseGeometry)},c.createShadowVolume=function(e,t,r){var n=e._ellipseGeometry._granularity,i=e._ellipseGeometry._ellipsoid,o=t(n,i),a=r(n,i);return new c({center:e._ellipseGeometry._center,radius:e._ellipseGeometry._semiMajorAxis,ellipsoid:i,stRotation:e._ellipseGeometry._stRotation,granularity:n,extrudedHeight:o,height:a,vertexFormat:u.POSITION_ONLY})},n(c.prototype,{rectangle:{get:function(){return this._ellipseGeometry.rectangle}}}),c}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(4),r(3),r(1),r(2),r(92),r(6)],i=function(e,t,r,n,i,o){"use strict";function a(e){e=t(e,t.EMPTY_OBJECT);var r=e.radius,n={center:e.center,semiMajorAxis:r,semiMinorAxis:r,ellipsoid:e.ellipsoid,height:e.height,extrudedHeight:e.extrudedHeight,granularity:e.granularity,numberOfVerticalLines:e.numberOfVerticalLines};this._ellipseGeometry=new i(n),this._workerName="createCircleOutlineGeometry"}a.packedLength=i.packedLength,a.pack=function(e,t,r){return i.pack(e._ellipseGeometry,t,r)};var s=new i({center:new e,semiMajorAxis:1,semiMinorAxis:1}),u={center:new e,radius:void 0,ellipsoid:o.clone(o.UNIT_SPHERE),height:void 0,extrudedHeight:void 0,granularity:void 0,numberOfVerticalLines:void 0,semiMajorAxis:void 0,semiMinorAxis:void 0};return a.unpack=function(t,n,c){var l=i.unpack(t,n,s);return u.center=e.clone(l._center,u.center),u.ellipsoid=o.clone(l._ellipsoid,u.ellipsoid),u.height=l._height,u.extrudedHeight=l._extrudedHeight,u.granularity=l._granularity,u.numberOfVerticalLines=l._numberOfVerticalLines,r(c)?(u.semiMajorAxis=l._semiMajorAxis,u.semiMinorAxis=l._semiMinorAxis,c._ellipseGeometry=new i(u),c):(u.radius=l._semiMajorAxis,new a(u))},a.createGeometry=function(e){return i.createGeometry(e._ellipseGeometry)},a}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(28),r(7),r(4),r(16),r(9),r(29),r(87),r(3),r(1),r(17),r(2),r(6),r(10),r(11),r(14),r(15),r(5),r(22),r(12),r(19),r(21)],i=function(e,t,r,n,i,o,a,s,u,c,l,p,h,m,d,f,y,v,g,_,E){"use strict";function A(e,t,n,i,o,s){var u=e.normals,c=e.tangents,l=e.binormals,p=r.normalize(r.cross(n,t,F),F);s.normal&&a.addAttribute(u,t,i,o),s.binormal&&a.addAttribute(l,n,i,o),s.tangent&&a.addAttribute(c,p,i,o)}function x(e,t,n){var o,s,c,l=e.positions,p=e.corners,h=e.endPositions,v=e.lefts,g=e.normals,_=new d,E=0,x=0,T=0;for(s=0;s<l.length;s+=2)c=l[s].length-3,E+=c,T+=2*c,x+=l[s+1].length-3;for(E+=3,x+=3,s=0;s<p.length;s++){o=p[s];var w=p[s].leftPositions;u(w)?(c=w.length,E+=c,T+=c):(c=p[s].rightPositions.length,x+=c,T+=c)}var S,R=u(h);R&&(S=h[0].length-3,E+=S,x+=S,S/=3,T+=6*S);var I,N,C,U,B,z,G=E+x,k=new Float64Array(G),H=t.normal?new Float32Array(G):void 0,V=t.tangent?new Float32Array(G):void 0,q=t.binormal?new Float32Array(G):void 0,W={normals:H,tangents:V,binormals:q},Y=0,j=G-1,X=O,Z=b,K=S/2,J=f.createTypedArray(G/3,T),Q=0;if(R){z=M,B=P;var $=h[0];for(X=r.fromArray(g,0,X),Z=r.fromArray(v,0,Z),s=0;s<K;s++)z=r.fromArray($,3*(K-1-s),z),B=r.fromArray($,3*(K+s),B),a.addAttribute(k,B,Y),a.addAttribute(k,z,void 0,j),A(W,X,Z,Y,j,t),N=Y/3,U=N+1,I=(j-2)/3,C=I-1,J[Q++]=I,J[Q++]=N,J[Q++]=C,J[Q++]=C,J[Q++]=N,J[Q++]=U,Y+=3,j-=3}var ee=0,te=0,re=l[ee++],ne=l[ee++];k.set(re,Y),k.set(ne,j-ne.length+1),Z=r.fromArray(v,te,Z);var ie,oe;for(c=ne.length-3,s=0;s<c;s+=3)ie=n.geodeticSurfaceNormal(r.fromArray(re,s,F),F),oe=n.geodeticSurfaceNormal(r.fromArray(ne,c-s,D),D),X=r.normalize(r.add(ie,oe,X),X),A(W,X,Z,Y,j,t),N=Y/3,U=N+1,I=(j-2)/3,C=I-1,J[Q++]=I,J[Q++]=N,J[Q++]=C,J[Q++]=C,J[Q++]=N,J[Q++]=U,Y+=3,j-=3;for(ie=n.geodeticSurfaceNormal(r.fromArray(re,c,F),F),oe=n.geodeticSurfaceNormal(r.fromArray(ne,c,D),D),X=r.normalize(r.add(ie,oe,X),X),te+=3,s=0;s<p.length;s++){var ae;o=p[s];var se,ue,ce=o.leftPositions,le=o.rightPositions,pe=L,he=M,me=P;if(X=r.fromArray(g,te,X),u(ce)){for(A(W,X,Z,void 0,j,t),j-=3,se=U,ue=C,ae=0;ae<ce.length/3;ae++)pe=r.fromArray(ce,3*ae,pe),J[Q++]=se,J[Q++]=ue-ae-1,J[Q++]=ue-ae,a.addAttribute(k,pe,void 0,j),he=r.fromArray(k,3*(ue-ae-1),he),me=r.fromArray(k,3*se,me),Z=r.normalize(r.subtract(he,me,Z),Z),A(W,X,Z,void 0,j,t),j-=3;pe=r.fromArray(k,3*se,pe),he=r.subtract(r.fromArray(k,3*ue,he),pe,he),me=r.subtract(r.fromArray(k,3*(ue-ae),me),pe,me),Z=r.normalize(r.add(he,me,Z),Z),A(W,X,Z,Y,void 0,t),Y+=3}else{for(A(W,X,Z,Y,void 0,t),Y+=3,se=C,ue=U,ae=0;ae<le.length/3;ae++)pe=r.fromArray(le,3*ae,pe),J[Q++]=se,J[Q++]=ue+ae,J[Q++]=ue+ae+1,a.addAttribute(k,pe,Y),he=r.fromArray(k,3*se,he),me=r.fromArray(k,3*(ue+ae),me),Z=r.normalize(r.subtract(he,me,Z),Z),A(W,X,Z,Y,void 0,t),Y+=3;pe=r.fromArray(k,3*se,pe),he=r.subtract(r.fromArray(k,3*(ue+ae),he),pe,he),me=r.subtract(r.fromArray(k,3*ue,me),pe,me),Z=r.normalize(r.negate(r.add(me,he,Z),Z),Z),A(W,X,Z,void 0,j,t),j-=3}for(re=l[ee++],ne=l[ee++],re.splice(0,3),ne.splice(ne.length-3,3),k.set(re,Y),k.set(ne,j-ne.length+1),c=ne.length-3,te+=3,Z=r.fromArray(v,te,Z),ae=0;ae<ne.length;ae+=3)ie=n.geodeticSurfaceNormal(r.fromArray(re,ae,F),F),oe=n.geodeticSurfaceNormal(r.fromArray(ne,c-ae,D),D),X=r.normalize(r.add(ie,oe,X),X),A(W,X,Z,Y,j,t),U=Y/3,N=U-1,C=(j-2)/3,I=C+1,J[Q++]=I,J[Q++]=N,J[Q++]=C,J[Q++]=C,J[Q++]=N,J[Q++]=U,Y+=3,j-=3;Y-=3,j+=3}if(X=r.fromArray(g,g.length-3,X),A(W,X,Z,Y,j,t),R){Y+=3,j-=3,z=M,B=P;var de=h[1];for(s=0;s<K;s++)z=r.fromArray(de,3*(S-s-1),z),B=r.fromArray(de,3*s,B),a.addAttribute(k,z,void 0,j),a.addAttribute(k,B,Y),A(W,X,Z,Y,j,t),U=Y/3,N=U-1,C=(j-2)/3,I=C+1,J[Q++]=I,J[Q++]=N,J[Q++]=C,J[Q++]=C,J[Q++]=N,J[Q++]=U,Y+=3,j-=3}if(_.position=new m({componentDatatype:i.DOUBLE,componentsPerAttribute:3,values:k}),t.st){var fe,ye,ve=new Float32Array(G/3*2),ge=0;if(R){E/=3,x/=3;var _e=Math.PI/(S+1);ye=1/(E-S+1),fe=1/(x-S+1);var Ee,Ae=S/2;for(s=Ae+1;s<S+1;s++)Ee=y.PI_OVER_TWO+_e*s,ve[ge++]=fe*(1+Math.cos(Ee)),ve[ge++]=.5*(1+Math.sin(Ee));for(s=1;s<x-S+1;s++)ve[ge++]=s*fe,ve[ge++]=0;for(s=S;s>Ae;s--)Ee=y.PI_OVER_TWO-s*_e,ve[ge++]=1-fe*(1+Math.cos(Ee)),ve[ge++]=.5*(1+Math.sin(Ee));for(s=Ae;s>0;s--)Ee=y.PI_OVER_TWO-_e*s,ve[ge++]=1-ye*(1+Math.cos(Ee)),ve[ge++]=.5*(1+Math.sin(Ee));for(s=E-S;s>0;s--)ve[ge++]=s*ye,ve[ge++]=1;for(s=1;s<Ae+1;s++)Ee=y.PI_OVER_TWO+_e*s,ve[ge++]=ye*(1+Math.cos(Ee)),ve[ge++]=.5*(1+Math.sin(Ee))}else{for(E/=3,x/=3,ye=1/(E-1),fe=1/(x-1),s=0;s<x;s++)ve[ge++]=s*fe,ve[ge++]=0;for(s=E;s>0;s--)ve[ge++]=(s-1)*ye,ve[ge++]=1}_.st=new m({componentDatatype:i.FLOAT,componentsPerAttribute:2,values:ve})}return t.normal&&(_.normal=new m({componentDatatype:i.FLOAT,componentsPerAttribute:3,values:W.normals})),t.tangent&&(_.tangent=new m({componentDatatype:i.FLOAT,componentsPerAttribute:3,values:W.tangents})),t.binormal&&(_.binormal=new m({componentDatatype:i.FLOAT,componentsPerAttribute:3,values:W.binormals})),{attributes:_,indices:J}}function T(e,t){if(!(t.normal||t.binormal||t.tangent||t.st))return e;var n,i,o=e.position.values;(t.normal||t.binormal)&&(n=e.normal.values,i=e.binormal.values);var s,u=e.position.values.length/18,c=3*u,l=2*u,p=2*c;if(t.normal||t.binormal||t.tangent){var h=t.normal?new Float32Array(6*c):void 0,m=t.binormal?new Float32Array(6*c):void 0,d=t.tangent?new Float32Array(6*c):void 0,f=O,y=b,v=M,g=P,_=C,E=L,A=p;for(s=0;s<c;s+=3){var x=A+p;f=r.fromArray(o,s,f),y=r.fromArray(o,s+c,y),v=r.fromArray(o,(s+3)%c,v),y=r.subtract(y,f,y),v=r.subtract(v,f,v),g=r.normalize(r.cross(y,v,g),g),t.normal&&(a.addAttribute(h,g,x),a.addAttribute(h,g,x+3),a.addAttribute(h,g,A),a.addAttribute(h,g,A+3)),(t.tangent||t.binormal)&&(E=r.fromArray(n,s,E),t.binormal&&(a.addAttribute(m,E,x),a.addAttribute(m,E,x+3),a.addAttribute(m,E,A),a.addAttribute(m,E,A+3)),t.tangent&&(_=r.normalize(r.cross(E,g,_),_),a.addAttribute(d,_,x),a.addAttribute(d,_,x+3),a.addAttribute(d,_,A),a.addAttribute(d,_,A+3))),A+=6}if(t.normal){for(h.set(n),s=0;s<c;s+=3)h[s+c]=-n[s],h[s+c+1]=-n[s+1],h[s+c+2]=-n[s+2];e.normal.values=h}else e.normal=void 0;if(t.binormal?(m.set(i),m.set(i,c),e.binormal.values=m):e.binormal=void 0,t.tangent){var T=e.tangent.values;d.set(T),d.set(T,c),e.tangent.values=d}}if(t.st){var w=e.st.values,S=new Float32Array(6*l);S.set(w),S.set(w,l);for(var R=2*l,I=0;I<2;I++){for(S[R++]=w[0],S[R++]=w[1],s=2;s<l;s+=2){var N=w[s],F=w[s+1];S[R++]=N,S[R++]=F,S[R++]=N,S[R++]=F}S[R++]=w[0],S[R++]=w[1]}e.st.values=S}return e}function w(e,t,r){r[t++]=e[0],r[t++]=e[1],r[t++]=e[2];for(var n=3;n<e.length;n+=3){var i=e[n],o=e[n+1],a=e[n+2];r[t++]=i,r[t++]=o,r[t++]=a,r[t++]=i,r[t++]=o,r[t++]=a}return r[t++]=e[0],r[t++]=e[1],r[t++]=e[2],r}function S(e,t){var r=new E({position:t.positon,normal:t.normal||t.binormal,tangent:t.tangent,binormal:t.normal||t.binormal,st:t.st}),n=e.ellipsoid,i=a.computePositions(e),o=x(i,r,n),s=e.height,u=e.extrudedHeight,c=o.attributes,l=o.indices,p=c.position.values,h=p.length,m=new Float64Array(6*h),d=new Float64Array(h);d.set(p);var y=new Float64Array(4*h);p=v.scaleToGeodeticHeight(p,s,n),y=w(p,0,y),d=v.scaleToGeodeticHeight(d,u,n),y=w(d,2*h,y),m.set(p),m.set(d,h),m.set(y,2*h),c.position.values=m,h/=3;var g,_=l.length,A=h+h,S=f.createTypedArray(m.length/3,2*_+3*A);S.set(l);var R=_;for(g=0;g<_;g+=3){var I=l[g],N=l[g+1],O=l[g+2];S[R++]=O+h,S[R++]=N+h,S[R++]=I+h}c=T(c,t);var b,M,P,C;for(g=0;g<A;g+=2)b=g+A,M=b+A,P=b+1,C=M+1,S[R++]=b,S[R++]=M,S[R++]=P,S[R++]=P,S[R++]=M,S[R++]=C;return{attributes:c,indices:S}}function R(e,t,n,i,o,a){var s=r.subtract(t,e,U);r.normalize(s,s);var u=n.geodeticSurfaceNormal(e,B),c=r.cross(s,u,U);r.multiplyByScalar(c,i,c);var l=o.latitude,p=o.longitude,h=a.latitude,m=a.longitude;r.add(e,c,B),n.cartesianToCartographic(B,z);var d=z.latitude,f=z.longitude;l=Math.min(l,d),p=Math.min(p,f),h=Math.max(h,d),m=Math.max(m,f),r.subtract(e,c,B),n.cartesianToCartographic(B,z),d=z.latitude,f=z.longitude,l=Math.min(l,d),p=Math.min(p,f),h=Math.max(h,d),m=Math.max(m,f),o.latitude=l,o.longitude=p,a.latitude=h,a.longitude=m}function I(e,t,n,i){var a=e.length-1;if(0===a)return new _;var s=.5*n;H.latitude=Number.POSITIVE_INFINITY,H.longitude=Number.POSITIVE_INFINITY,V.latitude=Number.NEGATIVE_INFINITY,V.longitude=Number.NEGATIVE_INFINITY;var u,c;if(i===o.ROUNDED){var l=e[0];r.subtract(l,e[1],G),r.normalize(G,G),r.multiplyByScalar(G,s,G),r.add(l,G,k),t.cartesianToCartographic(k,z),u=z.latitude,c=z.longitude,H.latitude=Math.min(H.latitude,u),H.longitude=Math.min(H.longitude,c),V.latitude=Math.max(V.latitude,u),V.longitude=Math.max(V.longitude,c)}for(var p=0;p<a;++p)R(e[p],e[p+1],t,s,H,V);var h=e[a];r.subtract(h,e[a-1],G),r.normalize(G,G),r.multiplyByScalar(G,s,G),r.add(h,G,k),R(h,k,t,s,H,V),i===o.ROUNDED&&(t.cartesianToCartographic(k,z),u=z.latitude,c=z.longitude,H.latitude=Math.min(H.latitude,u),H.longitude=Math.min(H.longitude,c),V.latitude=Math.max(V.latitude,u),V.longitude=Math.max(V.longitude,c));var m=new _;return m.north=V.latitude,m.south=H.latitude,m.east=V.longitude,m.west=H.longitude,m}function N(e){e=s(e,s.EMPTY_OBJECT);var t=e.positions,n=e.width;this._positions=t,this._ellipsoid=p.clone(s(e.ellipsoid,p.WGS84)),this._vertexFormat=E.clone(s(e.vertexFormat,E.DEFAULT)),this._width=n,this._height=s(e.height,0),this._extrudedHeight=s(e.extrudedHeight,this._height),this._cornerType=s(e.cornerType,o.ROUNDED),this._granularity=s(e.granularity,y.RADIANS_PER_DEGREE),this._workerName="createCorridorGeometry",this._rectangle=I(t,this._ellipsoid,n,this._cornerType),this.packedLength=1+t.length*r.packedLength+p.packedLength+E.packedLength+_.packedLength+5}var O=new r,b=new r,M=new r,P=new r,C=new r,L=new r,F=new r,D=new r,U=new r,B=new r,z=new n,G=new r,k=new r,H=new n,V=new n;N.pack=function(e,t,n){n=s(n,0);var i=e._positions,o=i.length;t[n++]=o;for(var a=0;a<o;++a,n+=r.packedLength)r.pack(i[a],t,n);return p.pack(e._ellipsoid,t,n),n+=p.packedLength,E.pack(e._vertexFormat,t,n),n+=E.packedLength,_.pack(e._rectangle,t,n),n+=_.packedLength,t[n++]=e._width,t[n++]=e._height,t[n++]=e._extrudedHeight,t[n++]=e._cornerType,t[n]=e._granularity,t};var q=p.clone(p.UNIT_SPHERE),W=new E,Y=new _,j={positions:void 0,ellipsoid:q,vertexFormat:W,width:void 0,height:void 0,extrudedHeight:void 0,cornerType:void 0,granularity:void 0};return N.unpack=function(e,t,n){t=s(t,0);for(var i=e[t++],o=new Array(i),a=0;a<i;++a,t+=r.packedLength)o[a]=r.unpack(e,t);var c=p.unpack(e,t,q);t+=p.packedLength;var l=E.unpack(e,t,W);t+=E.packedLength;var h=_.unpack(e,t,Y);t+=_.packedLength;var m=e[t++],d=e[t++],f=e[t++],y=e[t++],v=e[t];return u(n)?(n._positions=o,n._ellipsoid=p.clone(c,n._ellipsoid),n._vertexFormat=E.clone(l,n._vertexFormat),n._width=m,n._height=d,n._extrudedHeight=f,n._cornerType=y,n._granularity=v,n._rectangle=_.clone(h),n):(j.positions=o,j.width=m,j.height=d,j.extrudedHeight=f,j.cornerType=y,j.granularity=v,new N(j))},N.createGeometry=function(n){var i=n._positions,o=n._height,s=n._width,u=n._extrudedHeight,c=o!==u,l=e(i,r.equalsEpsilon);if(!(l.length<2||s<=0)){var p,m=n._ellipsoid,d=n._vertexFormat,f={ellipsoid:m,positions:l,width:s,cornerType:n._cornerType,granularity:n._granularity,saveAttributes:!0};if(c){var y=Math.max(o,u);u=Math.min(o,u),o=y,f.height=o,f.extrudedHeight=u,p=S(f,d)}else{var _=a.computePositions(f);p=x(_,d,m),p.attributes.position.values=v.scaleToGeodeticHeight(p.attributes.position.values,o,m)}var E=p.attributes,A=t.fromVertices(E.position.values,void 0,3);return d.position||(p.attributes.position.values=void 0),new h({attributes:E,indices:p.indices,primitiveType:g.TRIANGLES,boundingSphere:A})}},N.createShadowVolume=function(e,t,r){var n=e._granularity,i=e._ellipsoid,o=t(n,i),a=r(n,i);return new N({positions:e._positions,width:e._width,cornerType:e._cornerType,ellipsoid:i,granularity:n,extrudedHeight:o,height:a,vertexFormat:E.POSITION_ONLY})},c(N.prototype,{rectangle:{get:function(){return this._rectangle}}}),N}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(28),r(7),r(4),r(9),r(29),r(87),r(3),r(1),r(2),r(6),r(10),r(11),r(14),r(15),r(5),r(22),r(12)],i=function(e,t,r,n,i,o,a,s,u,c,l,p,h,m,d,f,y){"use strict";function v(e,t){var a,u,c,l=[],d=e.positions,f=e.corners,y=e.endPositions,v=new h,g=0,_=0,T=0;for(u=0;u<d.length;u+=2)c=d[u].length-3,g+=c,T+=c/3*4,_+=d[u+1].length-3;for(g+=3,_+=3,u=0;u<f.length;u++){a=f[u];var w=f[u].leftPositions;s(w)?(c=w.length,g+=c,T+=c/3*2):(c=f[u].rightPositions.length,_+=c,T+=c/3*2)}var S,R=s(y);R&&(S=y[0].length-3,g+=S,_+=S,S/=3,T+=4*S);var I,N,O,b,M,P,C=g+_,L=new Float64Array(C),F=0,D=C-1,U=S/2,B=m.createTypedArray(C/3,T+4),z=0;if(B[z++]=F/3,B[z++]=(D-2)/3,R){l.push(F/3),P=E,M=A;var G=y[0];for(u=0;u<U;u++)P=r.fromArray(G,3*(U-1-u),P),M=r.fromArray(G,3*(U+u),M),o.addAttribute(L,M,F),o.addAttribute(L,P,void 0,D),N=F/3,b=N+1,I=(D-2)/3,O=I-1,B[z++]=I,B[z++]=O,B[z++]=N,B[z++]=b,F+=3,D-=3}var k=0,H=d[k++],V=d[k++];for(L.set(H,F),L.set(V,D-V.length+1),c=V.length-3,l.push(F/3,(D-2)/3),u=0;u<c;u+=3)N=F/3,b=N+1,I=(D-2)/3,O=I-1,B[z++]=I,B[z++]=O,B[z++]=N,B[z++]=b,F+=3,D-=3;for(u=0;u<f.length;u++){var q;a=f[u];var W,Y=a.leftPositions,j=a.rightPositions,X=x;if(s(Y)){for(D-=3,W=O,l.push(b),q=0;q<Y.length/3;q++)X=r.fromArray(Y,3*q,X),B[z++]=W-q-1,B[z++]=W-q,o.addAttribute(L,X,void 0,D),D-=3;l.push(W-Math.floor(Y.length/6)),t===i.BEVELED&&l.push((D-2)/3+1),F+=3}else{for(F+=3,W=b,l.push(O),q=0;q<j.length/3;q++)X=r.fromArray(j,3*q,X),B[z++]=W+q,B[z++]=W+q+1,o.addAttribute(L,X,F),F+=3;l.push(W+Math.floor(j.length/6)),t===i.BEVELED&&l.push(F/3-1),D-=3}for(H=d[k++],V=d[k++],H.splice(0,3),V.splice(V.length-3,3),L.set(H,F),L.set(V,D-V.length+1),c=V.length-3,q=0;q<V.length;q+=3)b=F/3,N=b-1,O=(D-2)/3,I=O+1,B[z++]=I,B[z++]=O,B[z++]=N,B[z++]=b,F+=3,D-=3;F-=3,D+=3,l.push(F/3,(D-2)/3)}if(R){F+=3,D-=3,P=E,M=A;var Z=y[1];for(u=0;u<U;u++)P=r.fromArray(Z,3*(S-u-1),P),M=r.fromArray(Z,3*u,M),o.addAttribute(L,P,void 0,D),o.addAttribute(L,M,F),b=F/3,N=b-1,O=(D-2)/3,I=O+1,B[z++]=I,B[z++]=O,B[z++]=N,B[z++]=b,F+=3,D-=3;l.push(F/3)}else l.push(F/3,(D-2)/3);return B[z++]=F/3,B[z++]=(D-2)/3,v.position=new p({componentDatatype:n.DOUBLE,componentsPerAttribute:3,values:L}),{attributes:v,indices:B,wallIndices:l}}function g(e){var t=e.ellipsoid,r=o.computePositions(e),n=v(r,e.cornerType),i=n.wallIndices,a=e.height,s=e.extrudedHeight,u=n.attributes,c=n.indices,l=u.position.values,p=l.length,h=new Float64Array(p);h.set(l);var d=new Float64Array(2*p);l=f.scaleToGeodeticHeight(l,a,t),h=f.scaleToGeodeticHeight(h,s,t),d.set(l),d.set(h,p),u.position.values=d,p/=3;var y,g=c.length,_=m.createTypedArray(d.length/3,2*(g+i.length));_.set(c);var E=g;for(y=0;y<g;y+=2){var A=c[y],x=c[y+1];_[E++]=A+p,_[E++]=x+p}var T,w;for(y=0;y<i.length;y++)T=i[y],w=T+p,_[E++]=T,_[E++]=w;return{attributes:u,indices:_}}function _(e){e=a(e,a.EMPTY_OBJECT);var t=e.positions,n=e.width;this._positions=t,this._ellipsoid=c.clone(a(e.ellipsoid,c.WGS84)),this._width=n,this._height=a(e.height,0),this._extrudedHeight=a(e.extrudedHeight,this._height),this._cornerType=a(e.cornerType,i.ROUNDED),this._granularity=a(e.granularity,d.RADIANS_PER_DEGREE),this._workerName="createCorridorOutlineGeometry",this.packedLength=1+t.length*r.packedLength+c.packedLength+5}var E=new r,A=new r,x=new r;_.pack=function(e,t,n){n=a(n,0);var i=e._positions,o=i.length;t[n++]=o;for(var s=0;s<o;++s,n+=r.packedLength)r.pack(i[s],t,n);return c.pack(e._ellipsoid,t,n),n+=c.packedLength,t[n++]=e._width,t[n++]=e._height,t[n++]=e._extrudedHeight,t[n++]=e._cornerType,t[n]=e._granularity,t};var T=c.clone(c.UNIT_SPHERE),w={positions:void 0,ellipsoid:T,width:void 0,height:void 0,extrudedHeight:void 0,cornerType:void 0,granularity:void 0};return _.unpack=function(e,t,n){t=a(t,0);for(var i=e[t++],o=new Array(i),u=0;u<i;++u,t+=r.packedLength)o[u]=r.unpack(e,t);var l=c.unpack(e,t,T);t+=c.packedLength;var p=e[t++],h=e[t++],m=e[t++],d=e[t++],f=e[t];return s(n)?(n._positions=o,n._ellipsoid=c.clone(l,n._ellipsoid),n._width=p,n._height=h,n._extrudedHeight=m,n._cornerType=d,n._granularity=f,n):(w.positions=o,w.width=p,w.height=h,w.extrudedHeight=m,w.cornerType=d,w.granularity=f,new _(w))},_.createGeometry=function(n){var i=n._positions,a=n._height,s=n._width,u=n._extrudedHeight,c=a!==u,p=e(i,r.equalsEpsilon);if(!(p.length<2||s<=0)){var h,m=n._ellipsoid,d={ellipsoid:m,positions:p,width:s,cornerType:n._cornerType,granularity:n._granularity,saveAttributes:!1};if(c){var _=Math.max(a,u);u=Math.min(a,u),a=_,d.height=a,d.extrudedHeight=u,h=g(d)}else{var E=o.computePositions(d);h=v(E,d.cornerType),h.attributes.position.values=f.scaleToGeodeticHeight(h.attributes.position.values,a,m)}var A=h.attributes,x=t.fromVertices(A.position.values,void 0,3);return new l({attributes:A,indices:h.indices,primitiveType:y.LINES,boundingSphere:x})}},_}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(2),r(50)],i=function(e,t){"use strict";function r(e,t,r,n){var i,o,a=e,s=t/3,u=r/3,c=n,l=a*u,p=s*c,h=s*s,m=u*u,d=a*u-h,f=a*c-s*u,y=s*c-m,v=4*d*y-f*f;if(v<0){var g,_,E;h*p>=l*m?(g=a,_=d,E=-2*s*d+a*f):(g=c,_=y,E=-c*f+2*u*y);var A=E<0?-1:1,x=-A*Math.abs(g)*Math.sqrt(-v);o=-E+x;var T=o/2,w=T<0?-Math.pow(-T,1/3):Math.pow(T,1/3),S=o===x?-w:-_/w;return i=_<=0?w+S:-E/(w*w+S*S+_),h*p>=l*m?[(i-s)/a]:[-c/(i+u)]}var R=d,I=-2*s*d+a*f,N=y,O=-c*f+2*u*y,b=Math.sqrt(v),M=Math.sqrt(3)/2,P=Math.abs(Math.atan2(a*b,-I)/3);i=2*Math.sqrt(-R);var C=Math.cos(P);o=i*C;var L=i*(-C/2-M*Math.sin(P)),F=o+L>2*s?o-s:L-s,D=a,U=F/D;P=Math.abs(Math.atan2(c*b,-O)/3),i=2*Math.sqrt(-N),C=Math.cos(P),o=i*C,L=i*(-C/2-M*Math.sin(P));var B=-c,z=o+L<2*u?o+u:L+u,G=B/z,k=D*z,H=-F*z-D*B,V=F*B,q=(u*H-s*V)/(-s*H+u*k);return U<=q?U<=G?q<=G?[U,q,G]:[U,G,q]:[G,U,q]:U<=G?[q,U,G]:q<=G?[q,G,U]:[G,q,U]}var n={};return n.computeDiscriminant=function(e,t,r,n){var i=e*e,o=t*t,a=r*r,s=n*n,u=18*e*t*r*n+o*a-27*i*s-4*(e*a*r+o*t*n);return u},n.computeRealRoots=function(e,n,i,o){var a,s;if(0===e)return t.computeRealRoots(n,i,o);if(0===n){if(0===i){if(0===o)return[0,0,0];s=-o/e;var u=s<0?-Math.pow(-s,1/3):Math.pow(s,1/3);return[u,u,u]}return 0===o?(a=t.computeRealRoots(e,0,i),0===a.Length?[0]:[a[0],0,a[1]]):r(e,0,i,o)}return 0===i?0===o?(s=-n/e,s<0?[s,0,0]:[0,0,s]):r(e,n,0,o):0===o?(a=t.computeRealRoots(e,n,i),0===a.length?[0]:a[1]<=0?[a[0],a[1],0]:a[0]>=0?[0,a[0],a[1]]:[a[0],0,a[1]]):r(e,n,i,o)},n}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(7),r(13),r(4),r(9),r(88),r(3),r(1),r(2),r(10),r(11),r(14),r(15),r(5),r(12),r(21)],i=function(e,t,r,n,i,o,a,s,u,c,l,p,h,m,d){"use strict";function f(e){e=o(e,o.EMPTY_OBJECT);var t=e.length,r=e.topRadius,n=e.bottomRadius,i=o(e.vertexFormat,d.DEFAULT),a=o(e.slices,128);this._length=t,this._topRadius=r,this._bottomRadius=n,this._vertexFormat=d.clone(i),this._slices=a,this._workerName="createCylinderGeometry"}var y=new t,v=new r,g=new r,_=new r,E=new r;f.packedLength=d.packedLength+4,f.pack=function(e,t,r){return r=o(r,0),d.pack(e._vertexFormat,t,r),r+=d.packedLength,t[r++]=e._length,t[r++]=e._topRadius,t[r++]=e._bottomRadius,t[r]=e._slices,t};var A=new d,x={vertexFormat:A,length:void 0,topRadius:void 0,bottomRadius:void 0,slices:void 0};return f.unpack=function(e,t,r){t=o(t,0);var n=d.unpack(e,t,A);t+=d.packedLength;var i=e[t++],s=e[t++],u=e[t++],c=e[t];return a(r)?(r._vertexFormat=d.clone(n,r._vertexFormat),r._length=i,r._topRadius=s,r._bottomRadius=u,r._slices=c,r):(x.length=i,x.topRadius=s,x.bottomRadius=u,x.slices=c,new f(x))},f.createGeometry=function(o){var a=o._length,s=o._topRadius,d=o._bottomRadius,f=o._vertexFormat,A=o._slices;if(!(a<=0||s<0||d<0||0===s&&0===d)){var x,T=A+A,w=A+T,S=T+T,R=i.computePositions(a,s,d,A,!0),I=f.st?new Float32Array(2*S):void 0,N=f.normal?new Float32Array(3*S):void 0,O=f.tangent?new Float32Array(3*S):void 0,b=f.binormal?new Float32Array(3*S):void 0,M=f.normal||f.tangent||f.binormal;if(M){var P=f.tangent||f.binormal,C=0,L=0,F=0,D=v;D.z=0;var U=_,B=g;for(x=0;x<A;x++){var z=x/A*h.TWO_PI,G=Math.cos(z),k=Math.sin(z);M&&(D.x=G,D.y=k,P&&(U=r.normalize(r.cross(r.UNIT_Z,D,U),U)),f.normal&&(N[C++]=G,N[C++]=k,N[C++]=0,N[C++]=G,N[C++]=k,N[C++]=0),f.tangent&&(O[L++]=U.x,O[L++]=U.y,O[L++]=U.z,O[L++]=U.x,O[L++]=U.y,O[L++]=U.z),f.binormal&&(B=r.normalize(r.cross(D,U,B),B),b[F++]=B.x,b[F++]=B.y,b[F++]=B.z,b[F++]=B.x,b[F++]=B.y,b[F++]=B.z))}for(x=0;x<A;x++)f.normal&&(N[C++]=0,N[C++]=0,N[C++]=-1),f.tangent&&(O[L++]=1,O[L++]=0,O[L++]=0),f.binormal&&(b[F++]=0,b[F++]=-1,b[F++]=0);for(x=0;x<A;x++)f.normal&&(N[C++]=0,N[C++]=0,N[C++]=1),f.tangent&&(O[L++]=1,O[L++]=0,O[L++]=0),f.binormal&&(b[F++]=0,b[F++]=1,b[F++]=0)}var H=12*A-12,V=p.createTypedArray(S,H),q=0,W=0;for(x=0;x<A-1;x++)V[q++]=W,V[q++]=W+2,V[q++]=W+3,V[q++]=W,V[q++]=W+3,V[q++]=W+1,W+=2;for(V[q++]=T-2,V[q++]=0,V[q++]=1,V[q++]=T-2,V[q++]=1,V[q++]=T-1,x=1;x<A-1;x++)V[q++]=T+x+1,V[q++]=T+x,V[q++]=T;for(x=1;x<A-1;x++)V[q++]=w,V[q++]=w+x,V[q++]=w+x+1;var Y=0;if(f.st){var j=Math.max(s,d);for(x=0;x<S;x++){var X=r.fromArray(R,3*x,E);I[Y++]=(X.x+j)/(2*j),I[Y++]=(X.y+j)/(2*j)}}var Z=new l;f.position&&(Z.position=new c({componentDatatype:n.DOUBLE,componentsPerAttribute:3,values:R})),f.normal&&(Z.normal=new c({componentDatatype:n.FLOAT,componentsPerAttribute:3,values:N})),f.tangent&&(Z.tangent=new c({componentDatatype:n.FLOAT,componentsPerAttribute:3,values:O})),f.binormal&&(Z.binormal=new c({componentDatatype:n.FLOAT,componentsPerAttribute:3,values:b})),f.st&&(Z.st=new c({componentDatatype:n.FLOAT,componentsPerAttribute:2,values:I})),
y.x=.5*a,y.y=Math.max(d,s);var K=new e(r.ZERO,t.magnitude(y));return new u({attributes:Z,indices:V,primitiveType:m.TRIANGLES,boundingSphere:K})}},f}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(7),r(13),r(4),r(9),r(88),r(3),r(1),r(2),r(10),r(11),r(14),r(15),r(12)],i=function(e,t,r,n,i,o,a,s,u,c,l,p,h){"use strict";function m(e){e=o(e,o.EMPTY_OBJECT);var t=e.length,r=e.topRadius,n=e.bottomRadius,i=o(e.slices,128),a=Math.max(o(e.numberOfVerticalLines,16),0);this._length=t,this._topRadius=r,this._bottomRadius=n,this._slices=i,this._numberOfVerticalLines=a,this._workerName="createCylinderOutlineGeometry"}var d=new t;m.packedLength=5,m.pack=function(e,t,r){return r=o(r,0),t[r++]=e._length,t[r++]=e._topRadius,t[r++]=e._bottomRadius,t[r++]=e._slices,t[r]=e._numberOfVerticalLines,t};var f={length:void 0,topRadius:void 0,bottomRadius:void 0,slices:void 0,numberOfVerticalLines:void 0};return m.unpack=function(e,t,r){t=o(t,0);var n=e[t++],i=e[t++],s=e[t++],u=e[t++],c=e[t];return a(r)?(r._length=n,r._topRadius=i,r._bottomRadius=s,r._slices=u,r._numberOfVerticalLines=c,r):(f.length=n,f.topRadius=i,f.bottomRadius=s,f.slices=u,f.numberOfVerticalLines=c,new m(f))},m.createGeometry=function(o){var a=o._length,s=o._topRadius,m=o._bottomRadius,f=o._slices,y=o._numberOfVerticalLines;if(!(a<=0||s<0||m<0||0===s&&0===m)){var v,g=2*f,_=i.computePositions(a,s,m,f,!1),E=2*f;if(y>0){var A=Math.min(y,f);v=Math.round(f/A),E+=A}for(var x=p.createTypedArray(g,2*E),T=0,w=0;w<f-1;w++)x[T++]=w,x[T++]=w+1,x[T++]=w+f,x[T++]=w+1+f;if(x[T++]=f-1,x[T++]=0,x[T++]=f+f-1,x[T++]=f,y>0)for(w=0;w<f;w+=v)x[T++]=w,x[T++]=w+f;var S=new l;S.position=new c({componentDatatype:n.DOUBLE,componentsPerAttribute:3,values:_}),d.x=.5*a,d.y=Math.max(m,s);var R=new e(r.ZERO,t.magnitude(d));return new u({attributes:S,indices:x,primitiveType:h.LINES,boundingSphere:R})}},m}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(31),r(105),r(3),r(1),r(89),r(8),r(47),r(98),r(107),r(52),r(54),r(55)],i=function(e,t,r,n,i,o,a,s,u,c,l,p){"use strict";function h(t){if(t=r(t,r.EMPTY_OBJECT),this._dates=void 0,this._samples=void 0,this._dateColumn=-1,this._xPoleWanderRadiansColumn=-1,this._yPoleWanderRadiansColumn=-1,this._ut1MinusUtcSecondsColumn=-1,this._xCelestialPoleOffsetRadiansColumn=-1,this._yCelestialPoleOffsetRadiansColumn=-1,this._taiMinusUtcSecondsColumn=-1,this._columnCount=0,this._lastIndex=-1,this._downloadPromise=void 0,this._dataError=void 0,this._addNewLeapSeconds=r(t.addNewLeapSeconds,!0),n(t.data))d(this,t.data);else if(n(t.url)){var i=this;this._downloadPromise=e(u(t.url),function(e){d(i,e)},function(){i._dataError="An error occurred while retrieving the EOP data from the URL "+t.url+"."})}else d(this,{columnNames:["dateIso8601","modifiedJulianDateUtc","xPoleWanderRadians","yPoleWanderRadians","ut1MinusUtcSeconds","lengthOfDayCorrectionSeconds","xCelestialPoleOffsetRadians","yCelestialPoleOffsetRadians","taiMinusUtcSeconds"],samples:[]})}function m(e,t){return a.compare(e.julianDate,t)}function d(e,r){if(!n(r.columnNames))return void(e._dataError="Error in loaded EOP data: The columnNames property is required.");if(!n(r.samples))return void(e._dataError="Error in loaded EOP data: The samples property is required.");var i=r.columnNames.indexOf("modifiedJulianDateUtc"),o=r.columnNames.indexOf("xPoleWanderRadians"),u=r.columnNames.indexOf("yPoleWanderRadians"),c=r.columnNames.indexOf("ut1MinusUtcSeconds"),h=r.columnNames.indexOf("xCelestialPoleOffsetRadians"),d=r.columnNames.indexOf("yCelestialPoleOffsetRadians"),f=r.columnNames.indexOf("taiMinusUtcSeconds");if(i<0||o<0||u<0||c<0||h<0||d<0||f<0)return void(e._dataError="Error in loaded EOP data: The columnNames property must include modifiedJulianDateUtc, xPoleWanderRadians, yPoleWanderRadians, ut1MinusUtcSeconds, xCelestialPoleOffsetRadians, yCelestialPoleOffsetRadians, and taiMinusUtcSeconds columns");var y=e._samples=r.samples,v=e._dates=[];e._dateColumn=i,e._xPoleWanderRadiansColumn=o,e._yPoleWanderRadiansColumn=u,e._ut1MinusUtcSecondsColumn=c,e._xCelestialPoleOffsetRadiansColumn=h,e._yCelestialPoleOffsetRadiansColumn=d,e._taiMinusUtcSecondsColumn=f,e._columnCount=r.columnNames.length,e._lastIndex=void 0;for(var g,_=e._addNewLeapSeconds,E=0,A=y.length;E<A;E+=e._columnCount){var x=y[E+i],T=y[E+f],w=x+l.MODIFIED_JULIAN_DATE_DIFFERENCE,S=new a(w,T,p.TAI);if(v.push(S),_){if(T!==g&&n(g)){var R=a.leapSeconds,I=t(R,S,m);if(I<0){var N=new s(S,T);R.splice(~I,0,N)}}g=T}}}function f(e,t,r,n,i){var o=r*n;i.xPoleWander=t[o+e._xPoleWanderRadiansColumn],i.yPoleWander=t[o+e._yPoleWanderRadiansColumn],i.xPoleOffset=t[o+e._xCelestialPoleOffsetRadiansColumn],i.yPoleOffset=t[o+e._yCelestialPoleOffsetRadiansColumn],i.ut1MinusUtc=t[o+e._ut1MinusUtcSecondsColumn]}function y(e,t,r){return t+e*(r-t)}function v(e,t,r,n,i,o,s){var u=e._columnCount;if(o>t.length-1)return s.xPoleWander=0,s.yPoleWander=0,s.xPoleOffset=0,s.yPoleOffset=0,s.ut1MinusUtc=0,s;var c=t[i],l=t[o];if(c.equals(l)||n.equals(c))return f(e,r,i,u,s),s;if(n.equals(l))return f(e,r,o,u,s),s;var p=a.secondsDifference(n,c)/a.secondsDifference(l,c),h=i*u,m=o*u,d=r[h+e._ut1MinusUtcSecondsColumn],v=r[m+e._ut1MinusUtcSecondsColumn],g=v-d;if(g>.5||g<-.5){var _=r[h+e._taiMinusUtcSecondsColumn],E=r[m+e._taiMinusUtcSecondsColumn];_!==E&&(l.equals(n)?d=v:v-=E-_)}return s.xPoleWander=y(p,r[h+e._xPoleWanderRadiansColumn],r[m+e._xPoleWanderRadiansColumn]),s.yPoleWander=y(p,r[h+e._yPoleWanderRadiansColumn],r[m+e._yPoleWanderRadiansColumn]),s.xPoleOffset=y(p,r[h+e._xCelestialPoleOffsetRadiansColumn],r[m+e._xCelestialPoleOffsetRadiansColumn]),s.yPoleOffset=y(p,r[h+e._yCelestialPoleOffsetRadiansColumn],r[m+e._yCelestialPoleOffsetRadiansColumn]),s.ut1MinusUtc=y(p,d,v),s}return h.NONE=o({getPromiseToLoad:function(){return e()},compute:function(e,t){return n(t)?(t.xPoleWander=0,t.yPoleWander=0,t.xPoleOffset=0,t.yPoleOffset=0,t.ut1MinusUtc=0):t=new i(0,0,0,0,0),t}}),h.prototype.getPromiseToLoad=function(){return e(this._downloadPromise)},h.prototype.compute=function(e,r){if(n(this._samples)){if(n(r)||(r=new i(0,0,0,0,0)),0===this._samples.length)return r.xPoleWander=0,r.yPoleWander=0,r.xPoleOffset=0,r.yPoleOffset=0,r.ut1MinusUtc=0,r;var o=this._dates,s=this._lastIndex,u=0,l=0;if(n(s)){var p=o[s],h=o[s+1],m=a.lessThanOrEquals(p,e),d=!n(h),f=d||a.greaterThanOrEquals(h,e);if(m&&f)return u=s,!d&&h.equals(e)&&++u,l=u+1,v(this,o,this._samples,e,u,l,r),r}var y=t(o,e,a.compare,this._dateColumn);return y>=0?(y<o.length-1&&o[y+1].equals(e)&&++y,u=y,l=y):(l=~y,u=l-1,u<0&&(u=0)),this._lastIndex=u,v(this,o,this._samples,e,u,l,r),r}if(n(this._dataError))throw new c(this._dataError)},h}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(4),r(16),r(3),r(1),r(17),r(2),r(6),r(5)],i=function(e,t,r,n,i,o,a,s){"use strict";function u(e){var t=e._uSquared,r=e._ellipsoid.maximumRadius,n=e._ellipsoid.minimumRadius,i=(r-n)/r,o=Math.cos(e._startHeading),a=Math.sin(e._startHeading),s=(1-i)*Math.tan(e._start.latitude),u=1/Math.sqrt(1+s*s),c=u*s,l=Math.atan2(s,o),p=u*a,h=p*p,m=1-h,d=Math.sqrt(m),f=t/4,y=f*f,v=y*f,g=y*y,_=1+f-3*y/4+5*v/4-175*g/64,E=1-f+15*y/8-35*v/8,A=1-3*f+35*y/4,x=1-5*f,T=_*l-E*Math.sin(2*l)*f/2-A*Math.sin(4*l)*y/16-x*Math.sin(6*l)*v/48-5*Math.sin(8*l)*g/512,w=e._constants;w.a=r,w.b=n,w.f=i,w.cosineHeading=o,w.sineHeading=a,w.tanU=s,w.cosineU=u,w.sineU=c,w.sigma=l,w.sineAlpha=p,w.sineSquaredAlpha=h,w.cosineSquaredAlpha=m,w.cosineAlpha=d,w.u2Over4=f,w.u4Over16=y,w.u6Over64=v,w.u8Over256=g,w.a0=_,w.a1=E,w.a2=A,w.a3=x,w.distanceRatio=T}function c(e,t){return e*t*(4+e*(4-3*t))/16}function l(e,t,r,n,i,o,a){var s=c(e,r);return(1-s)*e*t*(n+s*i*(a+s*o*(2*a*a-1)))}function p(e,t,r,n,i,o,a){var u,c,p,h,m,d=(t-r)/t,f=o-n,y=Math.atan((1-d)*Math.tan(i)),v=Math.atan((1-d)*Math.tan(a)),g=Math.cos(y),_=Math.sin(y),E=Math.cos(v),A=Math.sin(v),x=g*E,T=g*A,w=_*A,S=_*E,R=f,I=s.TWO_PI,N=Math.cos(R),O=Math.sin(R);do{N=Math.cos(R),O=Math.sin(R);var b=T-S*N;p=Math.sqrt(E*E*O*O+b*b),c=w+x*N,u=Math.atan2(p,c);var M;0===p?(M=0,h=1):(M=x*O/p,h=1-M*M),I=R,m=c-2*w/h,isNaN(m)&&(m=0),R=f+l(d,M,h,u,p,c,m)}while(Math.abs(R-I)>s.EPSILON12);var P=h*(t*t-r*r)/(r*r),C=1+P*(4096+P*(P*(320-175*P)-768))/16384,L=P*(256+P*(P*(74-47*P)-128))/1024,F=m*m,D=L*p*(m+L*(c*(2*F-1)-L*m*(4*p*p-3)*(4*F-3)/6)/4),U=r*C*(u-D),B=Math.atan2(E*O,T-S*N),z=Math.atan2(g*O,T*N-S);e._distance=U,e._startHeading=B,e._endHeading=z,e._uSquared=P}function h(r,n,i,o){e.normalize(o.cartographicToCartesian(n,f),d),e.normalize(o.cartographicToCartesian(i,f),f);p(r,o.maximumRadius,o.minimumRadius,n.longitude,n.latitude,i.longitude,i.latitude),r._start=t.clone(n,r._start),r._end=t.clone(i,r._end),r._start.height=0,r._end.height=0,u(r)}function m(e,i,o){var s=r(o,a.WGS84);this._ellipsoid=s,this._start=new t,this._end=new t,this._constants={},this._startHeading=void 0,this._endHeading=void 0,this._distance=void 0,this._uSquared=void 0,n(e)&&n(i)&&h(this,e,i,s)}var d=new e,f=new e;return i(m.prototype,{ellipsoid:{get:function(){return this._ellipsoid}},surfaceDistance:{get:function(){return this._distance}},start:{get:function(){return this._start}},end:{get:function(){return this._end}},startHeading:{get:function(){return this._startHeading}},endHeading:{get:function(){return this._endHeading}}}),m.prototype.setEndPoints=function(e,t){h(this,e,t,this._ellipsoid)},m.prototype.interpolateUsingFraction=function(e,t){return this.interpolateUsingSurfaceDistance(this._distance*e,t)},m.prototype.interpolateUsingSurfaceDistance=function(e,r){var i=this._constants,o=i.distanceRatio+e/i.b,a=Math.cos(2*o),s=Math.cos(4*o),u=Math.cos(6*o),c=Math.sin(2*o),p=Math.sin(4*o),h=Math.sin(6*o),m=Math.sin(8*o),d=o*o,f=o*d,y=i.u8Over256,v=i.u2Over4,g=i.u6Over64,_=i.u4Over16,E=2*f*y*a/3+o*(1-v+7*_/4-15*g/4+579*y/64-(_-15*g/4+187*y/16)*a-(5*g/4-115*y/16)*s-29*y*u/16)+(v/2-_+71*g/32-85*y/16)*c+(5*_/16-5*g/4+383*y/96)*p-d*((g-11*y/2)*c+5*y*p/2)+(29*g/96-29*y/16)*h+539*y*m/1536,A=Math.asin(Math.sin(E)*i.cosineAlpha),x=Math.atan(i.a/i.b*Math.tan(A));E-=i.sigma;var T=Math.cos(2*i.sigma+E),w=Math.sin(E),S=Math.cos(E),R=i.cosineU*S,I=i.sineU*w,N=Math.atan2(w*i.sineHeading,R-I*i.cosineHeading),O=N-l(i.f,i.sineAlpha,i.cosineSquaredAlpha,E,w,S,T);return n(r)?(r.longitude=this._start.longitude+O,r.latitude=x,r.height=0,r):new t(this._start.longitude+O,x,0)},m}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(4),r(1),r(2)],i=function(e,t,r){"use strict";function n(){this.high=e.clone(e.ZERO),this.low=e.clone(e.ZERO)}n.encode=function(e,r){t(r)||(r={high:0,low:0});var n;return e>=0?(n=65536*Math.floor(e/65536),r.high=n,r.low=e-n):(n=65536*Math.floor(-e/65536),r.high=-n,r.low=e+n),r};var i={high:0,low:0};n.fromCartesian=function(e,r){t(r)||(r=new n);var o=r.high,a=r.low;return n.encode(e.x,i),o.x=i.high,a.x=i.low,n.encode(e.y,i),o.y=i.high,a.y=i.low,n.encode(e.z,i),o.z=i.high,a.z=i.low,r};var o=new n;return n.writeElements=function(e,t,r){n.fromCartesian(e,o);var i=o.high,a=o.low;t[r]=i.x,t[r+1]=i.y,t[r+2]=i.z,t[r+3]=a.x,t[r+4]=a.y,t[r+5]=a.z},n}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(1),r(17)],i=function(e,t){"use strict";var r,n={requestFullscreen:void 0,exitFullscreen:void 0,fullscreenEnabled:void 0,fullscreenElement:void 0,fullscreenchange:void 0,fullscreenerror:void 0},i={};return t(i,{element:{get:function(){if(i.supportsFullscreen())return document[n.fullscreenElement]}},changeEventName:{get:function(){if(i.supportsFullscreen())return n.fullscreenchange}},errorEventName:{get:function(){if(i.supportsFullscreen())return n.fullscreenerror}},enabled:{get:function(){if(i.supportsFullscreen())return document[n.fullscreenEnabled]}},fullscreen:{get:function(){if(i.supportsFullscreen())return null!==i.element}}}),i.supportsFullscreen=function(){if(e(r))return r;r=!1;var t=document.body;if("function"==typeof t.requestFullscreen)return n.requestFullscreen="requestFullscreen",n.exitFullscreen="exitFullscreen",n.fullscreenEnabled="fullscreenEnabled",n.fullscreenElement="fullscreenElement",n.fullscreenchange="fullscreenchange",n.fullscreenerror="fullscreenerror",r=!0;for(var i,o=["webkit","moz","o","ms","khtml"],a=0,s=o.length;a<s;++a){var u=o[a];i=u+"RequestFullscreen","function"==typeof t[i]?(n.requestFullscreen=i,r=!0):(i=u+"RequestFullScreen","function"==typeof t[i]&&(n.requestFullscreen=i,r=!0)),i=u+"ExitFullscreen","function"==typeof document[i]?n.exitFullscreen=i:(i=u+"CancelFullScreen","function"==typeof document[i]&&(n.exitFullscreen=i)),i=u+"FullscreenEnabled",void 0!==document[i]?n.fullscreenEnabled=i:(i=u+"FullScreenEnabled",void 0!==document[i]&&(n.fullscreenEnabled=i)),i=u+"FullscreenElement",void 0!==document[i]?n.fullscreenElement=i:(i=u+"FullScreenElement",void 0!==document[i]&&(n.fullscreenElement=i)),i=u+"fullscreenchange",void 0!==document["on"+i]&&("ms"===u&&(i="MSFullscreenChange"),n.fullscreenchange=i),i=u+"fullscreenerror",void 0!==document["on"+i]&&("ms"===u&&(i="MSFullscreenError"),n.fullscreenerror=i)}return r},i.requestFullscreen=function(e,t){i.supportsFullscreen()&&e[n.requestFullscreen]({vrDisplay:t})},i.exitFullscreen=function(){i.supportsFullscreen()&&document[n.exitFullscreen]()},i}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n;n=function(){"use strict";function e(e,t,r,n,i,o,a,s){this.year=e,this.month=t,this.day=r,this.hour=n,this.minute=i,this.second=o,this.millisecond=a,this.isLeapSecond=s}return e}.call(t,r,t,e),!(void 0!==n&&(e.exports=n))},function(e,t,r){var n,i;n=[r(42),r(7),r(13),r(4),r(3),r(1),r(2),r(6),r(95),r(8),r(5),r(20),r(48),r(19),r(53),r(37)],i=function(e,t,r,n,i,o,a,s,u,c,l,p,h,m,d,f){"use strict";var y={};y.DEFAULT_STRUCTURE=c({heightScale:1,heightOffset:0,elementsPerHeight:1,stride:1,elementMultiplier:256,isBigEndian:!1});var v=new n,g=new p,_=new n,E=new n;return y.computeVertices=function(a){var c,A,x,T,w=Math.cos,S=Math.sin,R=Math.sqrt,I=Math.atan,N=Math.exp,O=l.PI_OVER_TWO,b=l.toRadians,M=a.heightmap,P=a.width,C=a.height,L=a.skirtHeight,F=i(a.isGeographic,!0),D=i(a.ellipsoid,s.WGS84),U=1/D.maximumRadius,B=a.nativeRectangle,z=a.rectangle;o(z)?(c=z.west,A=z.south,x=z.east,T=z.north):F?(c=b(B.west),A=b(B.south),x=b(B.east),T=b(B.north)):(c=B.west*U,A=O-2*I(N(-B.south*U)),x=B.east*U,T=O-2*I(N(-B.north*U)));var G=i(a.relativeToCenter,n.ZERO),k=i(a.exaggeration,1),H=i(a.structure,y.DEFAULT_STRUCTURE),V=i(H.heightScale,y.DEFAULT_STRUCTURE.heightScale),q=i(H.heightOffset,y.DEFAULT_STRUCTURE.heightOffset),W=i(H.elementsPerHeight,y.DEFAULT_STRUCTURE.elementsPerHeight),Y=i(H.stride,y.DEFAULT_STRUCTURE.stride),j=i(H.elementMultiplier,y.DEFAULT_STRUCTURE.elementMultiplier),X=i(H.isBigEndian,y.DEFAULT_STRUCTURE.isBigEndian),Z=m.computeWidth(B)/(P-1),K=m.computeHeight(B)/(C-1),J=D.radiiSquared,Q=J.x,$=J.y,ee=J.z,te=65536,re=-65536,ne=f.eastNorthUpToFixedFrame(G,D),ie=p.inverseTransformation(ne,g),oe=_;oe.x=Number.POSITIVE_INFINITY,oe.y=Number.POSITIVE_INFINITY,oe.z=Number.POSITIVE_INFINITY;var ae=E;ae.x=Number.NEGATIVE_INFINITY,ae.y=Number.NEGATIVE_INFINITY,ae.z=Number.NEGATIVE_INFINITY;var se=Number.POSITIVE_INFINITY,ue=P+(L>0?2:0),ce=C+(L>0?2:0),le=ue*ce,pe=new Array(le),he=new Array(le),me=new Array(le),de=0,fe=C,ye=0,ve=P;L>0&&(--de,++fe,--ye,++ve);for(var ge=0,_e=de;_e<fe;++_e){var Ee=_e;Ee<0&&(Ee=0),Ee>=C&&(Ee=C-1);var Ae=B.north-K*Ee;Ae=F?b(Ae):O-2*I(N(-Ae*U));var xe=w(Ae),Te=S(Ae),we=ee*Te,Se=(Ae-A)/(T-A);Se=l.clamp(Se,0,1);for(var Re=ye;Re<ve;++Re){var Ie=Re;Ie<0&&(Ie=0),Ie>=P&&(Ie=P-1);var Ne=B.west+Z*Ie;F?Ne=b(Ne):Ne*=U;var Oe,be=Ee*(P*Y)+Ie*Y;if(1===W)Oe=M[be];else{Oe=0;var Me;if(X)for(Me=0;Me<W;++Me)Oe=Oe*j+M[be+Me];else for(Me=W-1;Me>=0;--Me)Oe=Oe*j+M[be+Me]}Oe=(Oe*V+q)*k,re=Math.max(re,Oe),te=Math.min(te,Oe),Re===Ie&&_e===Ee||(Oe-=L);var Pe=xe*w(Ne),Ce=xe*S(Ne),Le=Q*Pe,Fe=$*Ce,De=R(Le*Pe+Fe*Ce+we*Te),Ue=1/De,Be=Le*Ue,ze=Fe*Ue,Ge=we*Ue,ke=new n;ke.x=Be+Pe*Oe,ke.y=ze+Ce*Oe,ke.z=Ge+Te*Oe,pe[ge]=ke,he[ge]=Oe;var He=(Ne-c)/(x-c);He=l.clamp(He,0,1),me[ge]=new r(He,Se),ge++,p.multiplyByPoint(ie,ke,v),n.minimumByComponent(v,oe,oe),n.maximumByComponent(v,ae,ae),se=Math.min(se,Oe)}}var Ve,qe=t.fromPoints(pe);o(z)&&z.width<l.PI_OVER_TWO+l.EPSILON5&&(Ve=h.fromRectangle(z,te,re,D));var We,Ye=a.relativetoCenter;if(o(Ye)){var je=new u(D);We=je.computeHorizonCullingPoint(Ye,pe)}for(var Xe=new e(oe,ae,G),Ze=new d(Xe,se,re,ne,!1),Ke=new Float32Array(le*Ze.getStride()),Je=0,Qe=0;Qe<le;++Qe)Je=Ze.encode(Ke,Je,pe[Qe],me[Qe],he[Qe]);return{vertices:Ke,maximumHeight:re,minimumHeight:te,encoding:Ze,boundingSphere3D:qe,orientedBoundingBox:Ve,occludeePointInScaledSpace:We}},y}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(31),r(188),r(3),r(1),r(96),r(47),r(107),r(55)],i=function(e,t,n,i,o,a,s,u){"use strict";function c(e){e=n(e,n.EMPTY_OBJECT),this._xysFileUrlTemplate=e.xysFileUrlTemplate,this._interpolationOrder=n(e.interpolationOrder,9),this._sampleZeroJulianEphemerisDate=n(e.sampleZeroJulianEphemerisDate,2442396.5),this._sampleZeroDateTT=new a(this._sampleZeroJulianEphemerisDate,0,u.TAI),this._stepSizeDays=n(e.stepSizeDays,1),this._samplesPerXysFile=n(e.samplesPerXysFile,1e3),this._totalSamples=n(e.totalSamples,27426),this._samples=new Array(3*this._totalSamples),this._chunkDownloadsInProgress=[];for(var t=this._interpolationOrder,r=this._denominators=new Array(t+1),i=this._xTable=new Array(t+1),o=Math.pow(this._stepSizeDays,t),s=0;s<=t;++s){r[s]=o,i[s]=s*this._stepSizeDays;for(var c=0;c<=t;++c)c!==s&&(r[s]*=s-c);r[s]=1/r[s]}this._work=new Array(t+1),this._coef=new Array(t+1)}function l(e,t,r){var n=h;return n.dayNumber=t,n.secondsOfDay=r,a.daysDifference(n,e._sampleZeroDateTT)}function p(t,n){if(t._chunkDownloadsInProgress[n])return t._chunkDownloadsInProgress[n];var o=e.defer();t._chunkDownloadsInProgress[n]=o;var a,u=t._xysFileUrlTemplate;return a=i(u)?u.replace("{0}",n):r(185)("./IAU2006_XYS_"+n+".json"),e(s(a),function(e){t._chunkDownloadsInProgress[n]=!1;for(var r=t._samples,i=e.samples,a=n*t._samplesPerXysFile*3,s=0,u=i.length;s<u;++s)r[a+s]=i[s];o.resolve()}),o.promise}var h=new a(0,0,u.TAI);return c.prototype.preload=function(t,r,n,i){var o=l(this,t,r),a=l(this,n,i),s=o/this._stepSizeDays-this._interpolationOrder/2|0;s<0&&(s=0);var u=a/this._stepSizeDays-this._interpolationOrder/2|0+this._interpolationOrder;u>=this._totalSamples&&(u=this._totalSamples-1);for(var c=s/this._samplesPerXysFile|0,h=u/this._samplesPerXysFile|0,m=[],d=c;d<=h;++d)m.push(p(this,d));return e.all(m)},c.prototype.computeXysRadians=function(e,t,r){var n=l(this,e,t);if(!(n<0)){var a=n/this._stepSizeDays|0;if(!(a>=this._totalSamples)){var s=this._interpolationOrder,u=a-(s/2|0);u<0&&(u=0);var c=u+s;c>=this._totalSamples&&(c=this._totalSamples-1,u=c-s,u<0&&(u=0));var h=!1,m=this._samples;if(i(m[3*u])||(p(this,u/this._samplesPerXysFile|0),h=!0),i(m[3*c])||(p(this,c/this._samplesPerXysFile|0),h=!0),!h){i(r)?(r.x=0,r.y=0,r.s=0):r=new o(0,0,0);var d,f,y=n-u*this._stepSizeDays,v=this._work,g=this._denominators,_=this._coef,E=this._xTable;for(d=0;d<=s;++d)v[d]=y-E[d];for(d=0;d<=s;++d){for(_[d]=1,f=0;f<=s;++f)f!==d&&(_[d]*=v[f]);_[d]*=g[d];var A=3*(u+d);r.x+=_[d]*m[A++],r.y+=_[d]*m[A++],r.s+=_[d]*m[A]}return r}}}},c}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(4),r(1),r(2)],i=function(e,t,r){"use strict";var n={};return n.clipTriangleAtAxisAlignedThreshold=function(e,r,n,i,o,a){t(a)?a.length=0:a=[];var s,u,c;r?(s=n<e,u=i<e,c=o<e):(s=n>e,u=i>e,c=o>e);var l,p,h,m,d,f,y=s+u+c;return 1===y?s?(l=(e-n)/(i-n),p=(e-n)/(o-n),a.push(1),a.push(2),1!==p&&(a.push(-1),a.push(0),a.push(2),a.push(p)),1!==l&&(a.push(-1),a.push(0),a.push(1),a.push(l))):u?(h=(e-i)/(o-i),m=(e-i)/(n-i),a.push(2),a.push(0),1!==m&&(a.push(-1),a.push(1),a.push(0),a.push(m)),1!==h&&(a.push(-1),a.push(1),a.push(2),a.push(h))):c&&(d=(e-o)/(n-o),f=(e-o)/(i-o),a.push(0),a.push(1),1!==f&&(a.push(-1),a.push(2),a.push(1),a.push(f)),1!==d&&(a.push(-1),a.push(2),a.push(0),a.push(d))):2===y?s||n===e?u||i===e?c||o===e||(p=(e-n)/(o-n),h=(e-i)/(o-i),a.push(2),a.push(-1),a.push(0),a.push(2),a.push(p),a.push(-1),a.push(1),a.push(2),a.push(h)):(f=(e-o)/(i-o),l=(e-n)/(i-n),a.push(1),a.push(-1),a.push(2),a.push(1),a.push(f),a.push(-1),a.push(0),a.push(1),a.push(l)):(m=(e-i)/(n-i),d=(e-o)/(n-o),a.push(0),a.push(-1),a.push(1),a.push(0),a.push(m),a.push(-1),a.push(2),a.push(0),a.push(d)):3!==y&&(a.push(0),a.push(1),a.push(2)),a},n.computeBarycentricCoordinates=function(r,n,i,o,a,s,u,c,l){var p=i-u,h=u-a,m=s-c,d=o-c,f=1/(m*p+h*d),y=n-c,v=r-u,g=(m*v+h*y)*f,_=(-d*v+p*y)*f,E=1-g-_;return t(l)?(l.x=g,l.y=_,l.z=E,l):new e(g,_,E)},n}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(7),r(9),r(3),r(1),r(2),r(10),r(11),r(14),r(12)],i=function(e,t,r,n,i,o,a,s,u){"use strict";function c(t){t=r(t,r.EMPTY_OBJECT),this._positionsTypedArray=t.positionsTypedArray,this._colorsTypedArray=t.colorsTypedArray,this._boundingSphere=e.clone(t.boundingSphere),this._workerName="createPointGeometry"}return c.createGeometry=function(r){var i=r._positionsTypedArray,c=i.byteLength/i.length,l=4===c?t.FLOAT:t.DOUBLE,p=new s;p.position=new a({componentDatatype:l,componentsPerAttribute:3,values:i}),p.color=new a({componentDatatype:t.UNSIGNED_BYTE,componentsPerAttribute:3,values:r._colorsTypedArray,normalize:!0});var h=r._boundingSphere;return n(h)||(h=e.fromVertices(i)),new o({attributes:p,primitiveType:u.POINTS,boundingSphere:h})},c}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(43),r(7),r(13),r(4),r(16),r(9),r(3),r(1),r(17),r(2),r(6),r(24),r(10),r(11),r(14),r(33),r(25),r(15),r(5),r(18),r(100),r(22),r(26),r(19),r(21),r(27)],i=function(e,t,r,n,i,o,a,s,u,c,l,p,h,m,d,f,y,v,g,_,E,A,x,T,w,S){"use strict";function R(e,t,r,i){for(var o=x.fromAxisAngle(e._plane.normal,r,C),a=_.fromQuaternion(o,L),u=Number.POSITIVE_INFINITY,c=Number.NEGATIVE_INFINITY,l=Number.POSITIVE_INFINITY,p=Number.NEGATIVE_INFINITY,h=t.length,m=0;m<h;++m){var d=n.clone(t[m],P);_.multiplyByVector(a,d,d);var f=e.projectPointOntoPlane(d,M);s(f)&&(u=Math.min(u,f.x),c=Math.max(c,f.x),l=Math.min(l,f.y),p=Math.max(p,f.y))}return i.x=u,i.y=l,i.width=c-u,i.height=p-l,i}function I(e,t,r,n){var i=n.cartesianToCartographic(e,F),o=i.height,a=n.cartesianToCartographic(t,D);a.height=o,n.cartographicToCartesian(a,t);var s=n.cartesianToCartographic(r,D);s.height=o-100,n.cartographicToCartesian(s,r)}function N(e){var t=e.vertexFormat,i=e.geometry;if(t.st||t.normal||t.tangent||t.binormal){var a=e.boundingRectangle,s=e.tangentPlane,u=e.ellipsoid,c=e.stRotation,l=e.wall,p=e.top||l,h=e.bottom||l,d=e.perPositionHeight,f=j;f.x=a.x,f.y=a.y;var y,v=i.attributes.position.values,E=v.length,A=t.st?new Float32Array(2*(E/3)):void 0;t.normal&&(y=d&&p&&!l?i.attributes.normal.values:new Float32Array(E));var T=t.tangent?new Float32Array(E):void 0,w=t.binormal?new Float32Array(E):void 0,S=0,R=0,N=z,O=G,b=k,M=!0,P=x.fromAxisAngle(s._plane.normal,c,K),C=_.fromQuaternion(P,J),L=0,F=0;p&&h&&(L=E/2,F=E/3,E/=2);for(var D=0;D<E;D+=3){var U=n.fromArray(v,D,Z);if(t.st){var Q=_.multiplyByVector(C,U,B);Q=u.scaleToGeodeticSurface(Q,Q);var $=s.projectPointOntoPlane(Q,X);r.subtract($,f,$);var ee=g.clamp($.x/a.width,0,1),te=g.clamp($.y/a.height,0,1);h&&(A[S+F]=ee,A[S+1+F]=te),p&&(A[S]=ee,A[S+1]=te),S+=2}if(t.normal||t.tangent||t.binormal){var re=R+1,ne=R+2;if(l){if(D+3<E){var ie=n.fromArray(v,D+3,H);if(M){var oe=n.fromArray(v,D+E,V);d&&I(U,ie,oe,u),n.subtract(ie,U,ie),n.subtract(oe,U,oe),N=n.normalize(n.cross(oe,ie,N),N),M=!1}n.equalsEpsilon(ie,U,g.EPSILON10)&&(M=!0)}(t.tangent||t.binormal)&&(b=u.geodeticSurfaceNormal(U,b),t.tangent&&(O=n.normalize(n.cross(b,N,O),O)))}else N=u.geodeticSurfaceNormal(U,N),(t.tangent||t.binormal)&&(d&&(q=n.fromArray(y,R,q),W=n.cross(n.UNIT_Z,q,W),W=n.normalize(_.multiplyByVector(C,W,W),W),t.binormal&&(Y=n.normalize(n.cross(q,W,Y),Y))),O=n.cross(n.UNIT_Z,N,O),O=n.normalize(_.multiplyByVector(C,O,O),O),t.binormal&&(b=n.normalize(n.cross(N,O,b),b)));t.normal&&(e.wall?(y[R+L]=N.x,y[re+L]=N.y,y[ne+L]=N.z):h&&(y[R+L]=-N.x,y[re+L]=-N.y,y[ne+L]=-N.z),(p&&!d||l)&&(y[R]=N.x,y[re]=N.y,y[ne]=N.z)),t.tangent&&(e.wall?(T[R+L]=O.x,T[re+L]=O.y,T[ne+L]=O.z):h&&(T[R+L]=-O.x,T[re+L]=-O.y,T[ne+L]=-O.z),p&&(d?(T[R]=W.x,T[re]=W.y,T[ne]=W.z):(T[R]=O.x,T[re]=O.y,T[ne]=O.z))),t.binormal&&(h&&(w[R+L]=b.x,w[re+L]=b.y,w[ne+L]=b.z),p&&(d?(w[R]=Y.x,w[re]=Y.y,w[ne]=Y.z):(w[R]=b.x,w[re]=b.y,w[ne]=b.z))),R+=3}}t.st&&(i.attributes.st=new m({componentDatatype:o.FLOAT,componentsPerAttribute:2,values:A})),t.normal&&(i.attributes.normal=new m({componentDatatype:o.FLOAT,componentsPerAttribute:3,values:y})),t.tangent&&(i.attributes.tangent=new m({componentDatatype:o.FLOAT,componentsPerAttribute:3,values:T})),t.binormal&&(i.attributes.binormal=new m({componentDatatype:o.FLOAT,componentsPerAttribute:3,values:w}))}return i}function O(e,t,r,n,i,o,a,s){var u,c={walls:[]};if(o||a){var l,h,m=E.createGeometryFromPositions(e,t,r,i,s),d=m.attributes.position.values,y=m.indices;if(o&&a){var g=d.concat(d);l=g.length/3,h=v.createTypedArray(l,2*y.length),h.set(y);var _=y.length,x=l/2;for(u=0;u<_;u+=3){var T=h[u]+x,w=h[u+1]+x,R=h[u+2]+x;h[u+_]=R,h[u+1+_]=w,h[u+2+_]=T}if(m.attributes.position.values=g,i){var I=m.attributes.normal.values;m.attributes.normal.values=new Float32Array(g.length),m.attributes.normal.values.set(I)}m.indices=h}else if(a){for(l=d.length/3,h=v.createTypedArray(l,y.length),u=0;u<y.length;u+=3)h[u]=y[u+2],h[u+1]=y[u+1],h[u+2]=y[u];m.indices=h}c.topAndBottom=new f({geometry:m})}var N=n.outerRing,O=p.fromPoints(N,e),b=O.projectPointsOntoPlane(N,Q),M=A.computeWindingOrder2D(b);M===S.CLOCKWISE&&(N=N.slice().reverse());var P=E.computeWallGeometry(N,e,r,i);c.walls.push(new f({geometry:P}));var C=n.holes;for(u=0;u<C.length;u++){var L=C[u];O=p.fromPoints(L,e),b=O.projectPointsOntoPlane(L,Q),M=A.computeWindingOrder2D(b),M===S.COUNTER_CLOCKWISE&&(L=L.slice().reverse()),P=E.computeWallGeometry(L,e,r),c.walls.push(new f({geometry:P}))}return c}function b(e){var t=e.polygonHierarchy,r=a(e.vertexFormat,w.DEFAULT),n=a(e.ellipsoid,l.WGS84),i=a(e.granularity,g.RADIANS_PER_DEGREE),o=a(e.stRotation,0),u=a(e.height,0),c=a(e.perPositionHeight,!1),p=e.extrudedHeight,h=s(p);if(!c&&h)if(g.equalsEpsilon(u,p,g.EPSILON10))p=void 0,h=!1;else{var m=p;p=Math.min(m,u),u=Math.max(m,u)}this._vertexFormat=w.clone(r),this._ellipsoid=l.clone(n),this._granularity=i,this._stRotation=o,this._height=u,this._extrudedHeight=a(p,0),this._extrude=h,this._closeTop=a(e.closeTop,!0),this._closeBottom=a(e.closeBottom,!0),this._polygonHierarchy=t,this._perPositionHeight=c,this._workerName="createPolygonGeometry";var d=t.positions;!s(d)||d.length<3?this._rectangle=new T:this._rectangle=T.fromCartesianArray(d,n),this.packedLength=E.computeHierarchyPackedLength(t)+l.packedLength+w.packedLength+T.packedLength+9}var M=new r,P=new n,C=new x,L=new _,F=new i,D=new i,U=new e,B=new n,z=new n,G=new n,k=new n,H=new n,V=new n,q=new n,W=new n,Y=new n,j=new r,X=new r,Z=new n,K=new x,J=new _,Q=[];b.fromPositions=function(e){e=a(e,a.EMPTY_OBJECT);var t={polygonHierarchy:{positions:e.positions},height:e.height,extrudedHeight:e.extrudedHeight,vertexFormat:e.vertexFormat,stRotation:e.stRotation,ellipsoid:e.ellipsoid,granularity:e.granularity,perPositionHeight:e.perPositionHeight,closeTop:e.closeTop,closeBottom:e.closeBottom};return new b(t)},b.pack=function(e,t,r){return r=a(r,0),r=E.packPolygonHierarchy(e._polygonHierarchy,t,r),l.pack(e._ellipsoid,t,r),r+=l.packedLength,w.pack(e._vertexFormat,t,r),r+=w.packedLength,T.pack(e._rectangle,t,r),r+=T.packedLength,t[r++]=e._height,t[r++]=e._extrudedHeight,t[r++]=e._granularity,t[r++]=e._stRotation,t[r++]=e._extrude?1:0,t[r++]=e._perPositionHeight?1:0,t[r++]=e._closeTop?1:0,t[r++]=e._closeBottom?1:0,t[r]=e.packedLength,t};var $=l.clone(l.UNIT_SPHERE),ee=new w,te=new T,re={polygonHierarchy:{}};return b.unpack=function(e,t,r){t=a(t,0);var n=E.unpackPolygonHierarchy(e,t);t=n.startingIndex,delete n.startingIndex;var i=l.unpack(e,t,$);t+=l.packedLength;var o=w.unpack(e,t,ee);t+=w.packedLength;var u=T.unpack(e,t,te);t+=T.packedLength;var c=e[t++],p=e[t++],h=e[t++],m=e[t++],d=1===e[t++],f=1===e[t++],y=1===e[t++],v=1===e[t++],g=e[t];return s(r)||(r=new b(re)),r._polygonHierarchy=n,r._ellipsoid=l.clone(i,r._ellipsoid),r._vertexFormat=w.clone(o,r._vertexFormat),r._height=c,r._extrudedHeight=p,r._granularity=h,r._stRotation=m,r._extrude=d,r._perPositionHeight=f,r._closeTop=y,r._closeBottom=v,r._rectangle=T.clone(u),r.packedLength=g,r},b.createGeometry=function(e){var r=e._vertexFormat,n=e._ellipsoid,i=e._granularity,o=e._stRotation,a=e._height,s=e._extrudedHeight,u=e._extrude,c=e._polygonHierarchy,l=e._perPositionHeight,m=e._closeTop,d=e._closeBottom,g=c.positions;if(!(g.length<3)){var _=p.fromPoints(g,n),x=E.polygonsFromHierarchy(c,l,_,n),T=x.hierarchy,w=x.polygons;if(0!==T.length){g=T[0].outerRing;var S,I,b=R(_,g,o,U),M=[],P={perPositionHeight:l,vertexFormat:r,geometry:void 0,tangentPlane:_,boundingRectangle:b,ellipsoid:n,stRotation:o,bottom:!1,top:!0,wall:!1};if(u)for(P.top=m,P.bottom=d,I=0;I<w.length;I++){S=O(n,w[I],i,T[I],l,m,d,r);var C;m&&d?(C=S.topAndBottom,P.geometry=E.scaleToGeodeticHeightExtruded(C.geometry,a,s,n,l)):m?(C=S.topAndBottom,C.geometry.attributes.position.values=A.scaleToGeodeticHeight(C.geometry.attributes.position.values,a,n,!l),P.geometry=C.geometry):d&&(C=S.topAndBottom,C.geometry.attributes.position.values=A.scaleToGeodeticHeight(C.geometry.attributes.position.values,s,n,!0),P.geometry=C.geometry),(m||d)&&(P.wall=!1,C.geometry=N(P),M.push(C));var L=S.walls;P.wall=!0;for(var F=0;F<L.length;F++){var D=L[F];P.geometry=E.scaleToGeodeticHeightExtruded(D.geometry,a,s,n,l),D.geometry=N(P),M.push(D)}}else for(I=0;I<w.length;I++)S=new f({geometry:E.createGeometryFromPositions(n,w[I],i,l,r)}),S.geometry.attributes.position.values=A.scaleToGeodeticHeight(S.geometry.attributes.position.values,a,n,!l),P.geometry=S.geometry,S.geometry=N(P),M.push(S);S=y.combineInstances(M)[0],S.attributes.position.values=new Float64Array(S.attributes.position.values),S.indices=v.createTypedArray(S.attributes.position.values.length/3,S.indices);var B=S.attributes,z=t.fromVertices(B.position.values);return r.position||delete B.position,new h({attributes:B,indices:S.indices,primitiveType:S.primitiveType,boundingSphere:z})}}},b.createShadowVolume=function(e,t,r){var n=e._granularity,i=e._ellipsoid,o=t(n,i),a=r(n,i);return new b({polygonHierarchy:e._polygonHierarchy,ellipsoid:i,stRotation:e._stRotation,granularity:n,perPositionHeight:!1,extrudedHeight:o,height:a,vertexFormat:w.POSITION_ONLY})},u(b.prototype,{rectangle:{get:function(){return this._rectangle}}}),b}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(28),r(7),r(4),r(9),r(3),r(1),r(2),r(6),r(24),r(10),r(11),r(14),r(33),r(25),r(15),r(5),r(100),r(22),r(12),r(51),r(27)],i=function(e,t,r,n,i,o,a,s,u,c,l,p,h,m,d,f,y,v,g,_,E){"use strict";function A(e,t,r,i){var o=u.fromPoints(t,e),a=o.projectPointsOntoPlane(t,w),s=v.computeWindingOrder2D(a);s===E.CLOCKWISE&&(a.reverse(),t=t.slice().reverse());var m,f,_=t.length,A=0;if(i)for(m=new Float64Array(2*_*3),f=0;f<_;f++){var x=t[f],T=t[(f+1)%_];m[A++]=x.x,m[A++]=x.y,m[A++]=x.z,m[A++]=T.x,m[A++]=T.y,m[A++]=T.z}else{var R=0;for(f=0;f<_;f++)R+=y.subdivideLineCount(t[f],t[(f+1)%_],r);for(m=new Float64Array(3*R),f=0;f<_;f++)for(var I=y.subdivideLine(t[f],t[(f+1)%_],r,S),N=I.length,O=0;O<N;++O)m[A++]=I[O]}_=m.length/3;var b=2*_,M=d.createTypedArray(_,b);for(A=0,f=0;f<_-1;f++)M[A++]=f,M[A++]=f+1;return M[A++]=_-1,M[A++]=0,new h({geometry:new c({attributes:new p({position:new l({componentDatatype:n.DOUBLE,componentsPerAttribute:3,values:m})}),indices:M,primitiveType:g.LINES})})}function x(e,t,r,i){var o=u.fromPoints(t,e),a=o.projectPointsOntoPlane(t,w),s=v.computeWindingOrder2D(a);s===E.CLOCKWISE&&(a.reverse(),t=t.slice().reverse());var m,f,_=t.length,A=new Array(_),x=0;if(i)for(m=new Float64Array(2*_*3*2),f=0;f<_;++f){A[f]=x/3;var T=t[f],R=t[(f+1)%_];m[x++]=T.x,m[x++]=T.y,m[x++]=T.z,m[x++]=R.x,m[x++]=R.y,m[x++]=R.z}else{var I=0;for(f=0;f<_;f++)I+=y.subdivideLineCount(t[f],t[(f+1)%_],r);for(m=new Float64Array(3*I*2),
f=0;f<_;++f){A[f]=x/3;for(var N=y.subdivideLine(t[f],t[(f+1)%_],r,S),O=N.length,b=0;b<O;++b)m[x++]=N[b]}}_=m.length/6;var M=A.length,P=2*(2*_+M),C=d.createTypedArray(_,P);for(x=0,f=0;f<_;++f)C[x++]=f,C[x++]=(f+1)%_,C[x++]=f+_,C[x++]=(f+1)%_+_;for(f=0;f<M;f++){var L=A[f];C[x++]=L,C[x++]=L+_}return new h({geometry:new c({attributes:new p({position:new l({componentDatatype:n.DOUBLE,componentsPerAttribute:3,values:m})}),indices:C,primitiveType:g.LINES})})}function T(e){var t=e.polygonHierarchy,r=i(e.ellipsoid,s.WGS84),n=i(e.granularity,f.RADIANS_PER_DEGREE),a=i(e.height,0),u=i(e.perPositionHeight,!1),c=e.extrudedHeight,l=o(c);if(l&&!u){var p=c;c=Math.min(p,a),a=Math.max(p,a)}this._ellipsoid=s.clone(r),this._granularity=n,this._height=a,this._extrudedHeight=i(c,0),this._extrude=l,this._polygonHierarchy=t,this._perPositionHeight=u,this._workerName="createPolygonOutlineGeometry",this.packedLength=y.computeHierarchyPackedLength(t)+s.packedLength+6}var w=[],S=[];T.pack=function(e,t,r){return r=i(r,0),r=y.packPolygonHierarchy(e._polygonHierarchy,t,r),s.pack(e._ellipsoid,t,r),r+=s.packedLength,t[r++]=e._height,t[r++]=e._extrudedHeight,t[r++]=e._granularity,t[r++]=e._extrude?1:0,t[r++]=e._perPositionHeight?1:0,t[r++]=e.packedLength,t};var R=s.clone(s.UNIT_SPHERE),I={polygonHierarchy:{}};return T.unpack=function(e,t,r){t=i(t,0);var n=y.unpackPolygonHierarchy(e,t);t=n.startingIndex,delete n.startingIndex;var a=s.unpack(e,t,R);t+=s.packedLength;var u=e[t++],c=e[t++],l=e[t++],p=1===e[t++],h=1===e[t++],m=e[t++];return o(r)||(r=new T(I)),r._polygonHierarchy=n,r._ellipsoid=s.clone(a,r._ellipsoid),r._height=u,r._extrudedHeight=c,r._granularity=l,r._extrude=p,r._perPositionHeight=h,r.packedLength=m,r},T.fromPositions=function(e){e=i(e,i.EMPTY_OBJECT);var t={polygonHierarchy:{positions:e.positions},height:e.height,extrudedHeight:e.extrudedHeight,ellipsoid:e.ellipsoid,granularity:e.granularity,perPositionHeight:e.perPositionHeight};return new T(t)},T.createGeometry=function(n){var i=n._ellipsoid,a=n._granularity,s=n._height,u=n._extrudedHeight,l=n._extrude,p=n._polygonHierarchy,h=n._perPositionHeight,d=[],g=new _;g.enqueue(p);for(var E;0!==g.length;){var T=g.dequeue(),w=T.positions;if(w=e(w,r.equalsEpsilon,!0),!(w.length<3)){var S=T.holes?T.holes.length:0;for(E=0;E<S;E++){var R=T.holes[E];if(R.positions=e(R.positions,r.equalsEpsilon,!0),!(R.positions.length<3)){d.push(R.positions);var I=0;o(R.holes)&&(I=R.holes.length);for(var N=0;N<I;N++)g.enqueue(R.holes[N])}}d.push(w)}}if(0!==d.length){var O,b=[],M=f.chordLength(a,i.maximumRadius);if(l)for(E=0;E<d.length;E++)O=x(i,d[E],M,h),O.geometry=y.scaleToGeodeticHeightExtruded(O.geometry,s,u,i,h),b.push(O);else for(E=0;E<d.length;E++)O=A(i,d[E],M,h),O.geometry.attributes.position.values=v.scaleToGeodeticHeight(O.geometry.attributes.position.values,s,i,!h),b.push(O);O=m.combineInstances(b)[0];var P=t.fromVertices(O.attributes.position.values);return new c({attributes:O.attributes,indices:O.indices,primitiveType:O.primitiveType,boundingSphere:P})}},T}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(28),r(7),r(4),r(44),r(9),r(3),r(1),r(2),r(6),r(10),r(11),r(14),r(45),r(15),r(5),r(36),r(12),r(21)],i=function(e,t,r,n,i,o,a,s,u,c,l,p,h,m,d,f,y,v){"use strict";function g(e,t,r,i,o){var a=E;a.length=o;var s,u=r.red,c=r.green,l=r.blue,p=r.alpha,h=i.red,m=i.green,d=i.blue,f=i.alpha;if(n.equals(r,i)){for(s=0;s<o;s++)a[s]=n.clone(r);return a}var y=(h-u)/o,v=(m-c)/o,g=(d-l)/o,_=(f-p)/o;for(s=0;s<o;s++)a[s]=new n(u+s*y,c+s*v,l+s*g,p+s*_);return a}function _(e){e=o(e,o.EMPTY_OBJECT);var t=e.positions,i=e.colors,s=o(e.width,1),c=o(e.colorsPerVertex,!1);this._positions=t,this._colors=i,this._width=s,this._colorsPerVertex=c,this._vertexFormat=v.clone(o(e.vertexFormat,v.DEFAULT)),this._followSurface=o(e.followSurface,!0),this._granularity=o(e.granularity,d.RADIANS_PER_DEGREE),this._ellipsoid=u.clone(o(e.ellipsoid,u.WGS84)),this._workerName="createPolylineGeometry";var l=1+t.length*r.packedLength;l+=a(i)?1+i.length*n.packedLength:1,this.packedLength=l+u.packedLength+v.packedLength+4}var E=[];_.pack=function(e,t,i){i=o(i,0);var s,c=e._positions,l=c.length;for(t[i++]=l,s=0;s<l;++s,i+=r.packedLength)r.pack(c[s],t,i);var p=e._colors;for(l=a(p)?p.length:0,t[i++]=l,s=0;s<l;++s,i+=n.packedLength)n.pack(p[s],t,i);return u.pack(e._ellipsoid,t,i),i+=u.packedLength,v.pack(e._vertexFormat,t,i),i+=v.packedLength,t[i++]=e._width,t[i++]=e._colorsPerVertex?1:0,t[i++]=e._followSurface?1:0,t[i]=e._granularity,t};var A=u.clone(u.UNIT_SPHERE),x=new v,T={positions:void 0,colors:void 0,ellipsoid:A,vertexFormat:x,width:void 0,colorsPerVertex:void 0,followSurface:void 0,granularity:void 0};_.unpack=function(e,t,i){t=o(t,0);var s,c=e[t++],l=new Array(c);for(s=0;s<c;++s,t+=r.packedLength)l[s]=r.unpack(e,t);c=e[t++];var p=c>0?new Array(c):void 0;for(s=0;s<c;++s,t+=n.packedLength)p[s]=n.unpack(e,t);var h=u.unpack(e,t,A);t+=u.packedLength;var m=v.unpack(e,t,x);t+=v.packedLength;var d=e[t++],f=1===e[t++],y=1===e[t++],g=e[t];return a(i)?(i._positions=l,i._colors=p,i._ellipsoid=u.clone(h,i._ellipsoid),i._vertexFormat=v.clone(m,i._vertexFormat),i._width=d,i._colorsPerVertex=f,i._followSurface=y,i._granularity=g,i):(T.positions=l,T.colors=p,T.width=d,T.colorsPerVertex=f,T.followSurface=y,T.granularity=g,new _(T))};var w=new r,S=new r,R=new r,I=new r;return _.createGeometry=function(o){var s,u,v,_=o._width,A=o._vertexFormat,x=o._colors,T=o._colorsPerVertex,N=o._followSurface,O=o._granularity,b=o._ellipsoid,M=e(o._positions,r.equalsEpsilon),P=M.length;if(!(P<2)){if(N){var C=f.extractHeights(M,b),L=d.chordLength(O,b.maximumRadius);if(a(x)){var F=1;for(s=0;s<P-1;++s)F+=f.numberOfPoints(M[s],M[s+1],L);var D=new Array(F),U=0;for(s=0;s<P-1;++s){var B=M[s],z=M[s+1],G=x[s],k=f.numberOfPoints(B,z,L);if(T&&s<F){var H=x[s+1],V=g(B,z,G,H,k),q=V.length;for(u=0;u<q;++u)D[U++]=V[u]}else for(u=0;u<k;++u)D[U++]=n.clone(G)}D[U]=n.clone(x[x.length-1]),x=D,E.length=0}M=f.generateCartesianArc({positions:M,minDistance:L,ellipsoid:b,height:C})}P=M.length;var W,Y=4*P-4,j=new Float64Array(3*Y),X=new Float64Array(3*Y),Z=new Float64Array(3*Y),K=new Float32Array(2*Y),J=A.st?new Float32Array(2*Y):void 0,Q=a(x)?new Uint8Array(4*Y):void 0,$=0,ee=0,te=0,re=0;for(u=0;u<P;++u){0===u?(W=w,r.subtract(M[0],M[1],W),r.add(M[0],W,W)):W=M[u-1],r.clone(W,R),r.clone(M[u],S),u===P-1?(W=w,r.subtract(M[P-1],M[P-2],W),r.add(M[P-1],W,W)):W=M[u+1],r.clone(W,I);var ne,ie;a(Q)&&(ne=0===u||T?x[u]:x[u-1],u!==P-1&&(ie=x[u]));var oe=0===u?2:0,ae=u===P-1?2:4;for(v=oe;v<ae;++v){r.pack(S,j,$),r.pack(R,X,$),r.pack(I,Z,$),$+=3;var se=v-2<0?-1:1;if(K[ee++]=2*(v%2)-1,K[ee++]=se*_,A.st&&(J[te++]=u/(P-1),J[te++]=Math.max(K[ee-2],0)),a(Q)){var ue=v<2?ne:ie;Q[re++]=n.floatToByte(ue.red),Q[re++]=n.floatToByte(ue.green),Q[re++]=n.floatToByte(ue.blue),Q[re++]=n.floatToByte(ue.alpha)}}}var ce=new p;ce.position=new l({componentDatatype:i.DOUBLE,componentsPerAttribute:3,values:j}),ce.prevPosition=new l({componentDatatype:i.DOUBLE,componentsPerAttribute:3,values:X}),ce.nextPosition=new l({componentDatatype:i.DOUBLE,componentsPerAttribute:3,values:Z}),ce.expandAndWidth=new l({componentDatatype:i.FLOAT,componentsPerAttribute:2,values:K}),A.st&&(ce.st=new l({componentDatatype:i.FLOAT,componentsPerAttribute:2,values:J})),a(Q)&&(ce.color=new l({componentDatatype:i.UNSIGNED_BYTE,componentsPerAttribute:4,values:Q,normalize:!0}));var le=m.createTypedArray(Y,6*P-6),pe=0,he=0,me=P-1;for(u=0;u<me;++u)le[he++]=pe,le[he++]=pe+2,le[he++]=pe+1,le[he++]=pe+1,le[he++]=pe+2,le[he++]=pe+3,pe+=4;return new c({attributes:ce,indices:le,primitiveType:y.TRIANGLES,boundingSphere:t.fromPoints(M),geometryType:h.POLYLINES})}},_}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(28),r(43),r(7),r(13),r(4),r(9),r(29),r(3),r(1),r(2),r(6),r(10),r(11),r(14),r(25),r(15),r(5),r(22),r(49),r(12),r(21),r(27)],i=function(e,t,r,n,i,o,a,s,u,c,l,p,h,m,d,f,y,v,g,_,E,A){"use strict";function x(e,t,n,i){var a=new m;i.position&&(a.position=new h({componentDatatype:o.DOUBLE,componentsPerAttribute:3,values:e}));var s,u,c,l,y,g,E=t.length,A=e.length/3,x=(A-2*E)/(2*E),T=v.triangulate(t),w=(x-1)*E*6+2*T.length,S=f.createTypedArray(A,w),R=2*E,I=0;for(s=0;s<x-1;s++){for(u=0;u<E-1;u++)c=2*u+s*E*2,g=c+R,l=c+1,y=l+R,S[I++]=l,S[I++]=c,S[I++]=y,S[I++]=y,S[I++]=c,S[I++]=g;c=2*E-2+s*E*2,l=c+1,y=l+R,g=c+R,S[I++]=l,S[I++]=c,S[I++]=y,S[I++]=y,S[I++]=c,S[I++]=g}if(i.st||i.tangent||i.binormal){var N,O,b=new Float32Array(2*A),M=1/(x-1),P=1/n.height,C=n.height/2,L=0;for(s=0;s<x;s++){for(N=s*M,O=P*(t[0].y+C),b[L++]=N,b[L++]=O,u=1;u<E;u++)O=P*(t[u].y+C),b[L++]=N,b[L++]=O,b[L++]=N,b[L++]=O;O=P*(t[0].y+C),b[L++]=N,b[L++]=O}for(u=0;u<E;u++)N=0,O=P*(t[u].y+C),b[L++]=N,b[L++]=O;for(u=0;u<E;u++)N=(x-1)*M,O=P*(t[u].y+C),b[L++]=N,b[L++]=O;a.st=new h({componentDatatype:o.FLOAT,componentsPerAttribute:2,values:new Float32Array(b)})}var F=A-2*E;for(s=0;s<T.length;s+=3){var D=T[s]+F,U=T[s+1]+F,B=T[s+2]+F;S[I++]=D,S[I++]=U,S[I++]=B,S[I++]=B+E,S[I++]=U+E,S[I++]=D+E}var z=new p({attributes:a,indices:S,boundingSphere:r.fromVertices(e),primitiveType:_.TRIANGLES});return i.normal&&(z=d.computeNormal(z)),(i.tangent||i.binormal)&&(z=d.computeBinormalAndTangent(z),i.tangent||(z.attributes.tangent=void 0),i.binormal||(z.attributes.binormal=void 0),i.st||(z.attributes.st=void 0)),z}function T(e){e=s(e,s.EMPTY_OBJECT);var t=e.polylinePositions,r=e.shapePositions;this._positions=t,this._shape=r,this._ellipsoid=l.clone(s(e.ellipsoid,l.WGS84)),this._cornerType=s(e.cornerType,a.ROUNDED),this._vertexFormat=E.clone(s(e.vertexFormat,E.DEFAULT)),this._granularity=s(e.granularity,y.RADIANS_PER_DEGREE),this._workerName="createPolylineVolumeGeometry";var o=1+t.length*i.packedLength;o+=1+r.length*n.packedLength,this.packedLength=o+l.packedLength+E.packedLength+2}T.pack=function(e,t,r){r=s(r,0);var o,a=e._positions,u=a.length;for(t[r++]=u,o=0;o<u;++o,r+=i.packedLength)i.pack(a[o],t,r);var c=e._shape;for(u=c.length,t[r++]=u,o=0;o<u;++o,r+=n.packedLength)n.pack(c[o],t,r);return l.pack(e._ellipsoid,t,r),r+=l.packedLength,E.pack(e._vertexFormat,t,r),r+=E.packedLength,t[r++]=e._cornerType,t[r]=e._granularity,t};var w=l.clone(l.UNIT_SPHERE),S=new E,R={polylinePositions:void 0,shapePositions:void 0,ellipsoid:w,vertexFormat:S,cornerType:void 0,granularity:void 0};T.unpack=function(e,t,r){t=s(t,0);var o,a=e[t++],c=new Array(a);for(o=0;o<a;++o,t+=i.packedLength)c[o]=i.unpack(e,t);a=e[t++];var p=new Array(a);for(o=0;o<a;++o,t+=n.packedLength)p[o]=n.unpack(e,t);var h=l.unpack(e,t,w);t+=l.packedLength;var m=E.unpack(e,t,S);t+=E.packedLength;var d=e[t++],f=e[t];return u(r)?(r._positions=c,r._shape=p,r._ellipsoid=l.clone(h,r._ellipsoid),r._vertexFormat=E.clone(m,r._vertexFormat),r._cornerType=d,r._granularity=f,r):(R.polylinePositions=c,R.shapePositions=p,R.cornerType=d,R.granularity=f,new T(R))};var I=new t;return T.createGeometry=function(r){var n=r._positions,o=e(n,i.equalsEpsilon),a=r._shape;if(a=g.removeDuplicatesFromShape(a),!(o.length<2||a.length<3)){v.computeWindingOrder2D(a)===A.CLOCKWISE&&a.reverse();var s=t.fromPoints(a,I),u=g.computePositions(o,a,s,r,!0);return x(u,a,s,r._vertexFormat)}},T}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(28),r(43),r(7),r(13),r(4),r(9),r(29),r(3),r(1),r(2),r(6),r(10),r(11),r(14),r(15),r(5),r(22),r(49),r(12),r(27)],i=function(e,t,r,n,i,o,a,s,u,c,l,p,h,m,d,f,y,v,g,_){"use strict";function E(e,t){var n=new m;n.position=new h({componentDatatype:o.DOUBLE,componentsPerAttribute:3,values:e});var i,a,s=t.length,u=n.position.values.length/3,c=e.length/3,l=c/s,f=d.createTypedArray(u,2*s*(l+1)),y=0;i=0;var v=i*s;for(a=0;a<s-1;a++)f[y++]=a+v,f[y++]=a+v+1;for(f[y++]=s-1+v,f[y++]=v,i=l-1,v=i*s,a=0;a<s-1;a++)f[y++]=a+v,f[y++]=a+v+1;for(f[y++]=s-1+v,f[y++]=v,i=0;i<l-1;i++){var _=s*i,E=_+s;for(a=0;a<s;a++)f[y++]=a+_,f[y++]=a+E}var A=new p({attributes:n,indices:d.createTypedArray(u,f),boundingSphere:r.fromVertices(e),primitiveType:g.LINES});return A}function A(e){e=s(e,s.EMPTY_OBJECT);var t=e.polylinePositions,r=e.shapePositions;this._positions=t,this._shape=r,this._ellipsoid=l.clone(s(e.ellipsoid,l.WGS84)),this._cornerType=s(e.cornerType,a.ROUNDED),this._granularity=s(e.granularity,f.RADIANS_PER_DEGREE),this._workerName="createPolylineVolumeOutlineGeometry";var o=1+t.length*i.packedLength;o+=1+r.length*n.packedLength,this.packedLength=o+l.packedLength+2}A.pack=function(e,t,r){r=s(r,0);var o,a=e._positions,u=a.length;for(t[r++]=u,o=0;o<u;++o,r+=i.packedLength)i.pack(a[o],t,r);var c=e._shape;for(u=c.length,t[r++]=u,o=0;o<u;++o,r+=n.packedLength)n.pack(c[o],t,r);return l.pack(e._ellipsoid,t,r),r+=l.packedLength,t[r++]=e._cornerType,t[r]=e._granularity,t};var x=l.clone(l.UNIT_SPHERE),T={polylinePositions:void 0,shapePositions:void 0,ellipsoid:x,height:void 0,cornerType:void 0,granularity:void 0};A.unpack=function(e,t,r){t=s(t,0);var o,a=e[t++],c=new Array(a);for(o=0;o<a;++o,t+=i.packedLength)c[o]=i.unpack(e,t);a=e[t++];var p=new Array(a);for(o=0;o<a;++o,t+=n.packedLength)p[o]=n.unpack(e,t);var h=l.unpack(e,t,x);t+=l.packedLength;var m=e[t++],d=e[t];return u(r)?(r._positions=c,r._shape=p,r._ellipsoid=l.clone(h,r._ellipsoid),r._cornerType=m,r._granularity=d,r):(T.polylinePositions=c,T.shapePositions=p,T.cornerType=m,T.granularity=d,new A(T))};var w=new t;return A.createGeometry=function(r){var n=r._positions,o=e(n,i.equalsEpsilon),a=r._shape;if(a=v.removeDuplicatesFromShape(a),!(o.length<2||a.length<3)){y.computeWindingOrder2D(a)===_.CLOCKWISE&&a.reverse();var s=t.fromPoints(a,w),u=v.computePositions(o,a,s,r,!1);return E(u,a)}},A}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(147),r(2),r(5),r(50)],i=function(e,t,r,n){"use strict";function i(t,i,o,a){var s=t*t,u=i-3*s/8,c=o-i*t/2+s*t/8,l=a-o*t/4+i*s/16-3*s*s/256,p=e.computeRealRoots(1,2*u,u*u-4*l,-c*c);if(p.length>0){var h=-t/4,m=p[p.length-1];if(Math.abs(m)<r.EPSILON14){var d=n.computeRealRoots(1,u,l);if(2===d.length){var f,y=d[0],v=d[1];if(y>=0&&v>=0){var g=Math.sqrt(y),_=Math.sqrt(v);return[h-_,h-g,h+g,h+_]}if(y>=0&&v<0)return f=Math.sqrt(y),[h-f,h+f];if(y<0&&v>=0)return f=Math.sqrt(v),[h-f,h+f]}return[]}if(m>0){var E=Math.sqrt(m),A=(u+m-c/E)/2,x=(u+m+c/E)/2,T=n.computeRealRoots(1,E,A),w=n.computeRealRoots(1,-E,x);return 0!==T.length?(T[0]+=h,T[1]+=h,0!==w.length?(w[0]+=h,w[1]+=h,T[1]<=w[0]?[T[0],T[1],w[0],w[1]]:w[1]<=T[0]?[w[0],w[1],T[0],T[1]]:T[0]>=w[0]&&T[1]<=w[1]?[w[0],T[0],T[1],w[1]]:w[0]>=T[0]&&w[1]<=T[1]?[T[0],w[0],w[1],T[1]]:T[0]>w[0]&&T[0]<w[1]?[w[0],T[0],w[1],T[1]]:[T[0],w[0],T[1],w[1]]):T):0!==w.length?(w[0]+=h,w[1]+=h,w):[]}}return[]}function o(t,i,o,a){var s=o*o,u=i*i,c=t*t,l=-2*i,p=o*t+u-4*a,h=c*a-o*i*t+s,m=e.computeRealRoots(1,l,p,h);if(m.length>0){var d,f,y=m[0],v=i-y,g=v*v,_=t/2,E=v/2,A=g-4*a,x=g+4*Math.abs(a),T=c-4*y,w=c+4*Math.abs(y);if(y<0||A*w<T*x){var S=Math.sqrt(T);d=S/2,f=0===S?0:(t*E-o)/S}else{var R=Math.sqrt(A);d=0===R?0:(t*E-o)/R,f=R/2}var I,N;0===_&&0===d?(I=0,N=0):r.sign(_)===r.sign(d)?(I=_+d,N=y/I):(N=_-d,I=y/N);var O,b;0===E&&0===f?(O=0,b=0):r.sign(E)===r.sign(f)?(O=E+f,b=a/O):(b=E-f,O=a/b);var M=n.computeRealRoots(1,I,O),P=n.computeRealRoots(1,N,b);if(0!==M.length)return 0!==P.length?M[1]<=P[0]?[M[0],M[1],P[0],P[1]]:P[1]<=M[0]?[P[0],P[1],M[0],M[1]]:M[0]>=P[0]&&M[1]<=P[1]?[P[0],M[0],M[1],P[1]]:P[0]>=M[0]&&P[1]<=M[1]?[M[0],P[0],P[1],M[1]]:M[0]>P[0]&&M[0]<P[1]?[P[0],M[0],P[1],M[1]]:[M[0],P[0],M[1],P[1]]:M;if(0!==P.length)return P}return[]}var a={};return a.computeDiscriminant=function(e,t,r,n,i){var o=e*e,a=o*e,s=t*t,u=s*t,c=r*r,l=c*r,p=n*n,h=p*n,m=i*i,d=m*i,f=s*c*p-4*u*h-4*e*l*p+18*e*t*r*h-27*o*p*p+256*a*d+i*(18*u*r*n-4*s*l+16*e*c*c-80*e*t*c*n-6*e*s*p+144*o*r*p)+m*(144*e*s*r-27*s*s-128*o*c-192*o*t*n);return f},a.computeRealRoots=function(t,n,a,s,u){if(Math.abs(t)<r.EPSILON15)return e.computeRealRoots(n,a,s,u);var c=n/t,l=a/t,p=s/t,h=u/t,m=c<0?1:0;switch(m+=l<0?m+1:m,m+=p<0?m+1:m,m+=h<0?m+1:m){case 0:return i(c,l,p,h);case 1:return o(c,l,p,h);case 2:return o(c,l,p,h);case 3:return i(c,l,p,h);case 4:return i(c,l,p,h);case 5:return o(c,l,p,h);case 6:return i(c,l,p,h);case 7:return i(c,l,p,h);case 8:return o(c,l,p,h);case 9:return i(c,l,p,h);case 10:return i(c,l,p,h);case 11:return o(c,l,p,h);case 12:return i(c,l,p,h);case 13:return i(c,l,p,h);case 14:return i(c,l,p,h);case 15:return i(c,l,p,h);default:return}},a}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(7),r(13),r(4),r(16),r(9),r(3),r(1),r(17),r(2),r(6),r(10),r(11),r(14),r(33),r(25),r(15),r(5),r(99),r(18),r(22),r(12),r(26),r(19),r(102),r(21)],i=function(e,t,r,n,i,o,a,s,u,c,l,p,h,m,d,f,y,v,g,_,E,A,x,T,w){"use strict";function S(e,t){var r=new l({attributes:new h,primitiveType:E.TRIANGLES});return r.attributes.position=new p({componentDatatype:i.DOUBLE,componentsPerAttribute:3,values:t.positions}),e.normal&&(r.attributes.normal=new p({componentDatatype:i.FLOAT,componentsPerAttribute:3,values:t.normals})),e.tangent&&(r.attributes.tangent=new p({componentDatatype:i.FLOAT,componentsPerAttribute:3,values:t.tangents})),e.binormal&&(r.attributes.binormal=new p({componentDatatype:i.FLOAT,componentsPerAttribute:3,values:t.binormals})),r}function R(e,t,n,i){for(var o=e.length,a=t.normal?new Float32Array(o):void 0,s=t.tangent?new Float32Array(o):void 0,u=t.binormal?new Float32Array(o):void 0,c=0,l=U,p=D,h=F,m=0;m<o;m+=3){var d=r.fromArray(e,m,L),f=c+1,y=c+2;(t.normal||t.tangent||t.binormal)&&(h=n.geodeticSurfaceNormal(d,h),(t.tangent||t.binormal)&&(r.cross(r.UNIT_Z,h,p),g.multiplyByVector(i,p,p),r.normalize(p,p),t.binormal&&r.normalize(r.cross(h,p,l),l)),t.normal&&(a[c]=h.x,a[f]=h.y,a[y]=h.z),t.tangent&&(s[c]=p.x,s[f]=p.y,s[y]=p.z),t.binormal&&(u[c]=l.x,u[f]=l.y,u[y]=l.z)),c+=3}return S(t,{positions:e,normals:a,tangents:s,binormals:u})}function I(e,t,n){for(var i=e.length,o=t.normal?new Float32Array(i):void 0,a=t.tangent?new Float32Array(i):void 0,s=t.binormal?new Float32Array(i):void 0,u=0,c=0,l=0,p=!0,h=U,m=D,d=F,f=0;f<i;f+=6){var v=r.fromArray(e,f,L);if(t.normal||t.tangent||t.binormal){var g=r.fromArray(e,(f+6)%i,H);if(p){var _=r.fromArray(e,(f+3)%i,V);r.subtract(g,v,g),r.subtract(_,v,_),d=r.normalize(r.cross(_,g,d),d),p=!1}r.equalsEpsilon(g,v,y.EPSILON10)&&(p=!0),(t.tangent||t.binormal)&&(h=n.geodeticSurfaceNormal(v,h),t.tangent&&(m=r.normalize(r.cross(h,d,m),m))),t.normal&&(o[u++]=d.x,o[u++]=d.y,o[u++]=d.z,o[u++]=d.x,o[u++]=d.y,o[u++]=d.z),t.tangent&&(a[c++]=m.x,a[c++]=m.y,a[c++]=m.z,a[c++]=m.x,a[c++]=m.y,a[c++]=m.z),t.binormal&&(s[l++]=h.x,s[l++]=h.y,s[l++]=h.z,s[l++]=h.x,s[l++]=h.y,s[l++]=h.z)}}return S(t,{positions:e,normals:o,tangents:a,binormals:s})}function N(e){for(var t=e.vertexFormat,r=e.ellipsoid,n=e.size,o=e.height,a=e.width,s=t.position?new Float64Array(3*n):void 0,u=t.st?new Float32Array(2*n):void 0,c=0,l=0,h=L,m=z,d=Number.MAX_VALUE,y=Number.MAX_VALUE,v=-Number.MAX_VALUE,g=-Number.MAX_VALUE,_=0;_<o;++_)for(var E=0;E<a;++E)T.computePosition(e,_,E,h,m),s[c++]=h.x,s[c++]=h.y,s[c++]=h.z,t.st&&(u[l++]=m.x,u[l++]=m.y,d=Math.min(d,m.x),y=Math.min(y,m.y),v=Math.max(v,m.x),g=Math.max(g,m.y));if(t.st&&(d<0||y<0||v>1||g>1))for(var A=0;A<u.length;A+=2)u[A]=(u[A]-d)/(v-d),u[A+1]=(u[A+1]-y)/(g-y);for(var x=R(s,t,r,e.tangentRotationMatrix),w=6*(a-1)*(o-1),S=f.createTypedArray(n,w),I=0,N=0,O=0;O<o-1;++O){for(var b=0;b<a-1;++b){var M=I,P=M+a,C=P+1,F=M+1;S[N++]=M,S[N++]=P,S[N++]=F,S[N++]=F,S[N++]=P,S[N++]=C,++I}++I}return x.indices=S,t.st&&(x.attributes.st=new p({componentDatatype:i.FLOAT,componentsPerAttribute:2,values:u})),x}function O(e,t,r,n,i){return e[t++]=n[r],e[t++]=n[r+1],e[t++]=n[r+2],e[t++]=i[r],e[t++]=i[r+1],e[t++]=i[r+2],e}function b(e,t,r,n){return e[t++]=n[r],e[t++]=n[r+1],e[t++]=n[r],e[t++]=n[r+1],e}function M(e){var t,n=e.vertexFormat,o=e.surfaceHeight,a=e.extrudedHeight,s=Math.min(a,o),u=Math.max(a,o),c=e.height,l=e.width,h=e.ellipsoid,v=N(e);if(y.equalsEpsilon(s,u,y.EPSILON10))return v;var g=_.scaleToGeodeticHeight(v.attributes.position.values,u,h,!1);g=new Float64Array(g);var E=g.length,A=2*E,x=new Float64Array(A);x.set(g);var T=_.scaleToGeodeticHeight(v.attributes.position.values,s,h);x.set(T,E),v.attributes.position.values=x;var w,S=n.normal?new Float32Array(A):void 0,R=n.tangent?new Float32Array(A):void 0,M=n.binormal?new Float32Array(A):void 0,P=n.st?new Float32Array(A/3*2):void 0;if(n.normal){var C=v.attributes.normal.values;for(S.set(C),t=0;t<E;t++)C[t]=-C[t];S.set(C,E),v.attributes.normal.values=S}if(n.tangent){var L=v.attributes.tangent.values;for(R.set(L),t=0;t<E;t++)L[t]=-L[t];R.set(L,E),v.attributes.tangent.values=R}if(n.binormal){var F=v.attributes.binormal.values;M.set(F),M.set(F,E),v.attributes.binormal.values=M}n.st&&(w=v.attributes.st.values,P.set(w),P.set(w,E/3*2),v.attributes.st.values=P);var D=v.indices,U=D.length,B=E/3,z=f.createTypedArray(A/3,2*U);for(z.set(D),t=0;t<U;t+=3)z[t+U]=D[t+2]+B,z[t+1+U]=D[t+1]+B,z[t+2+U]=D[t]+B;v.indices=z;var G=2*l+2*c-4,k=2*(G+4),q=new Float64Array(3*k),W=n.st?new Float32Array(2*k):void 0,Y=0,j=0,X=l*c;for(t=0;t<X;t+=l)q=O(q,Y,3*t,g,T),Y+=6,n.st&&(W=b(W,j,2*t,w),j+=4);for(t=X-l;t<X;t++)q=O(q,Y,3*t,g,T),Y+=6,n.st&&(W=b(W,j,2*t,w),j+=4);for(t=X-1;t>0;t-=l)q=O(q,Y,3*t,g,T),Y+=6,n.st&&(W=b(W,j,2*t,w),j+=4);for(t=l-1;t>=0;t--)q=O(q,Y,3*t,g,T),Y+=6,n.st&&(W=b(W,j,2*t,w),j+=4);var Z=I(q,n,h);n.st&&(Z.attributes.st=new p({componentDatatype:i.FLOAT,componentsPerAttribute:2,values:W}));var K,J,Q,$,ee=f.createTypedArray(k,6*G);E=q.length/3;var te=0;for(t=0;t<E-1;t+=2){K=t,$=(K+2)%E;var re=r.fromArray(q,3*K,H),ne=r.fromArray(q,3*$,V);r.equalsEpsilon(re,ne,y.EPSILON10)||(J=(K+1)%E,Q=(J+2)%E,ee[te++]=K,ee[te++]=J,ee[te++]=$,ee[te++]=$,ee[te++]=J,ee[te++]=Q)}return Z.indices=ee,Z=d.combineInstances([new m({geometry:v}),new m({geometry:Z})]),Z[0]}function P(e,t,r){if(0===r)return x.clone(e);x.northeast(e,X[0]),x.northwest(e,X[1]),x.southeast(e,X[2]),x.southwest(e,X[3]),t.cartographicArrayToCartesianArray(X,j);var n=t.geodeticSurfaceNormalCartographic(x.center(e,W));A.fromAxisAngle(n,r,Y),g.fromQuaternion(Y,q);for(var i=0;i<4;++i)g.multiplyByVector(q,j[i],j[i]);return t.cartesianArrayToCartographicArray(j,X),x.fromCartographicArray(X)}function C(e){e=o(e,o.EMPTY_OBJECT);var t=e.rectangle,r=o(e.granularity,y.RADIANS_PER_DEGREE),n=o(e.ellipsoid,c.WGS84),i=o(e.height,0),s=o(e.rotation,0),u=o(e.stRotation,0),l=o(e.vertexFormat,w.DEFAULT),p=e.extrudedHeight,h=a(p),m=o(e.closeTop,!0),d=o(e.closeBottom,!0);this._rectangle=t,this._granularity=r,this._ellipsoid=c.clone(n),this._surfaceHeight=i,this._rotation=s,this._stRotation=u,this._vertexFormat=w.clone(l),this._extrudedHeight=o(p,0),this._extrude=h,this._closeTop=m,this._closeBottom=d,this._workerName="createRectangleGeometry",this._rotatedRectangle=P(this._rectangle,this._ellipsoid,s)}var L=new r,F=new r,D=new r,U=new r,B=new x,z=new t,G=new e,k=new e,H=new r,V=new r,q=new g,W=new r,Y=new A,j=[new r,new r,new r,new r],X=[new n,new n,new n,new n];C.packedLength=x.packedLength+c.packedLength+w.packedLength+x.packedLength+8,C.pack=function(e,t,r){return r=o(r,0),x.pack(e._rectangle,t,r),r+=x.packedLength,c.pack(e._ellipsoid,t,r),r+=c.packedLength,w.pack(e._vertexFormat,t,r),r+=w.packedLength,x.pack(e._rotatedRectangle,t,r),r+=x.packedLength,t[r++]=e._granularity,t[r++]=e._surfaceHeight,t[r++]=e._rotation,t[r++]=e._stRotation,t[r++]=e._extrudedHeight,t[r++]=e._extrude?1:0,t[r++]=e._closeTop?1:0,t[r]=e._closeBottom?1:0,t};var Z=new x,K=new x,J=c.clone(c.UNIT_SPHERE),Q=new w,$={rectangle:Z,ellipsoid:J,vertexFormat:Q,granularity:void 0,height:void 0,rotation:void 0,stRotation:void 0,extrudedHeight:void 0,closeTop:void 0,closeBottom:void 0};C.unpack=function(e,t,r){t=o(t,0);var n=x.unpack(e,t,Z);t+=x.packedLength;var i=c.unpack(e,t,J);t+=c.packedLength;var s=w.unpack(e,t,Q);t+=w.packedLength;var u=x.unpack(e,t,K);t+=x.packedLength;var l=e[t++],p=e[t++],h=e[t++],m=e[t++],d=e[t++],f=1===e[t++],y=1===e[t++],v=1===e[t];return a(r)?(r._rectangle=x.clone(n,r._rectangle),r._ellipsoid=c.clone(i,r._ellipsoid),r._vertexFormat=w.clone(s,r._vertexFormat),r._granularity=l,r._surfaceHeight=p,r._rotation=h,r._stRotation=m,r._extrudedHeight=f?d:void 0,r._extrude=f,r._closeTop=y,r._closeBottom=v,r._rotatedRectangle=u,r):($.granularity=l,$.height=p,$.rotation=h,$.stRotation=m,$.extrudedHeight=f?d:void 0,$.closeTop=y,$.closeBottom=v,new C($))};var ee=new v,te=new g,re=new n,ne=new A,ie=new n;return C.createGeometry=function(t){if(!y.equalsEpsilon(t._rectangle.north,t._rectangle.south,y.EPSILON10)&&!y.equalsEpsilon(t._rectangle.east,t._rectangle.west,y.EPSILON10)){var n=x.clone(t._rectangle,B),i=t._ellipsoid,o=t._surfaceHeight,s=t._extrude,u=t._extrudedHeight,c=t._stRotation,p=t._vertexFormat,m=T.computeOptions(t,n,re),d=ee,f=te;if(a(c)){v.fromRotation(-c,d);var E=x.center(n,ie),w=i.cartographicToCartesian(E,H);r.normalize(w,w),A.fromAxisAngle(w,-c,ne),g.fromQuaternion(ne,f)}else v.clone(v.IDENTITY,d),g.clone(g.IDENTITY,f);m.lonScalar=1/n.width,m.latScalar=1/n.height,m.vertexFormat=p,m.textureMatrix=d,m.tangentRotationMatrix=f,m.size=m.width*m.height;var S,R;if(n=t._rectangle,s){S=M(m);var I=e.fromRectangle3D(n,i,o,k),O=e.fromRectangle3D(n,i,u,G);R=e.union(I,O)}else S=N(m),S.attributes.position.values=_.scaleToGeodeticHeight(S.attributes.position.values,o,i,!1),R=e.fromRectangle3D(n,i,o);return p.position||delete S.attributes.position,new l({attributes:new h(S.attributes),indices:S.indices,primitiveType:S.primitiveType,boundingSphere:R})}},C.createShadowVolume=function(e,t,r){var n=e._granularity,i=e._ellipsoid,o=t(n,i),a=r(n,i);return new C({rectangle:e._rectangle,rotation:e._rotation,ellipsoid:i,stRotation:e._stRotation,granularity:n,extrudedHeight:a,height:o,closeTop:!0,closeBottom:!0,vertexFormat:w.POSITION_ONLY})},s(C.prototype,{rectangle:{get:function(){return this._rotatedRectangle}}}),C}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(7),r(4),r(16),r(9),r(3),r(1),r(2),r(6),r(10),r(11),r(14),r(15),r(5),r(22),r(12),r(19),r(102)],i=function(e,t,r,n,i,o,a,s,u,c,l,p,h,m,d,f,y){"use strict";function v(e){var t,r=e.size,i=e.height,o=e.width,a=new Float64Array(3*r),s=0,h=0,m=x;for(t=0;t<o;t++)y.computePosition(e,h,t,m),a[s++]=m.x,a[s++]=m.y,a[s++]=m.z;for(t=o-1,h=1;h<i;h++)y.computePosition(e,h,t,m),a[s++]=m.x,a[s++]=m.y,a[s++]=m.z;for(h=i-1,t=o-2;t>=0;t--)y.computePosition(e,h,t,m),a[s++]=m.x,a[s++]=m.y,a[s++]=m.z;for(t=0,h=i-2;h>0;h--)y.computePosition(e,h,t,m),a[s++]=m.x,a[s++]=m.y,a[s++]=m.z;for(var f=a.length/3*2,v=p.createTypedArray(a.length/3,f),g=0,_=0;_<a.length/3-1;_++)v[g++]=_,v[g++]=_+1;v[g++]=a.length/3-1,v[g++]=0;var E=new u({attributes:new l,primitiveType:d.LINES});return E.attributes.position=new c({componentDatatype:n.DOUBLE,componentsPerAttribute:3,values:a}),E.indices=v,E}function g(e){var t=e.surfaceHeight,r=e.extrudedHeight,n=e.ellipsoid,i=Math.min(r,t),o=Math.max(r,t),a=v(e);if(h.equalsEpsilon(i,o,h.EPSILON10))return a;var s=e.height,u=e.width,c=m.scaleToGeodeticHeight(a.attributes.position.values,o,n,!1),l=c.length,d=new Float64Array(2*l);d.set(c);var f=m.scaleToGeodeticHeight(a.attributes.position.values,i,n);d.set(f,l),a.attributes.position.values=d;var y=d.length/3*2+8,g=p.createTypedArray(d.length/3,y);l=d.length/6;for(var _=0,E=0;E<l-1;E++)g[_++]=E,g[_++]=E+1,g[_++]=E+l,g[_++]=E+l+1;return g[_++]=l-1,g[_++]=0,g[_++]=l+l-1,g[_++]=l,g[_++]=0,g[_++]=l,g[_++]=u-1,g[_++]=l+u-1,g[_++]=u+s-2,g[_++]=u+s-2+l,g[_++]=2*u+s-3,g[_++]=2*u+s-3+l,a.indices=g,a}function _(e){e=i(e,i.EMPTY_OBJECT);var t=e.rectangle,r=i(e.granularity,h.RADIANS_PER_DEGREE),n=i(e.ellipsoid,s.WGS84),o=i(e.height,0),a=i(e.rotation,0),u=e.extrudedHeight;this._rectangle=t,this._granularity=r,this._ellipsoid=n,this._surfaceHeight=o,this._rotation=a,this._extrudedHeight=u,this._workerName="createRectangleOutlineGeometry"}var E=new e,A=new e,x=new t,T=new f;_.packedLength=f.packedLength+s.packedLength+5,_.pack=function(e,t,r){return r=i(r,0),f.pack(e._rectangle,t,r),r+=f.packedLength,s.pack(e._ellipsoid,t,r),r+=s.packedLength,t[r++]=e._granularity,t[r++]=e._surfaceHeight,t[r++]=e._rotation,t[r++]=o(e._extrudedHeight)?1:0,t[r]=i(e._extrudedHeight,0),t};var w=new f,S=s.clone(s.UNIT_SPHERE),R={rectangle:w,ellipsoid:S,granularity:void 0,height:void 0,rotation:void 0,extrudedHeight:void 0};_.unpack=function(e,t,r){t=i(t,0);var n=f.unpack(e,t,w);t+=f.packedLength;var a=s.unpack(e,t,S);t+=s.packedLength;var u=e[t++],c=e[t++],l=e[t++],p=e[t++],h=e[t];return o(r)?(r._rectangle=f.clone(n,r._rectangle),r._ellipsoid=s.clone(a,r._ellipsoid),r._surfaceHeight=c,r._rotation=l,r._extrudedHeight=p?h:void 0,r):(R.granularity=u,R.height=c,R.rotation=l,R.extrudedHeight=p?h:void 0,new _(R))};var I=new r;return _.createGeometry=function(t){var r=f.clone(t._rectangle,T),n=t._ellipsoid,i=t._surfaceHeight,a=t._extrudedHeight,s=y.computeOptions(t,r,I);s.size=2*s.width+2*s.height-4;var c,l;if(r=t._rectangle,!h.equalsEpsilon(r.north,r.south,h.EPSILON10)&&!h.equalsEpsilon(r.east,r.west,h.EPSILON10)){if(o(a)){c=g(s);var p=e.fromRectangle3D(r,n,i,A),_=e.fromRectangle3D(r,n,a,E);l=e.union(p,_)}else c=v(s),c.attributes.position.values=m.scaleToGeodeticHeight(c.attributes.position.values,i,n,!1),l=e.fromRectangle3D(r,n,i);return new u({attributes:c.attributes,indices:c.indices,primitiveType:d.LINES,boundingSphere:l})}},_}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(1),r(183)],i=function(e,t){"use strict";function r(e,r,n){this.statusCode=e,this.response=r,this.responseHeaders=n,"string"==typeof this.responseHeaders&&(this.responseHeaders=t(this.responseHeaders))}return r.prototype.toString=function(){var t="Request has failed.";return e(this.statusCode)&&(t+=" Status Code: "+this.statusCode),t},r}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(7),r(4),r(44),r(9),r(3),r(1),r(2),r(6),r(10),r(11),r(14),r(15),r(5),r(36),r(12)],i=function(e,t,r,n,i,o,a,s,u,c,l,p,h,m,d){"use strict";function f(e,t,n,i,o,a,s){var u,c=m.numberOfPoints(e,t,o),l=n.red,p=n.green,h=n.blue,d=n.alpha,f=i.red,y=i.green,v=i.blue,g=i.alpha;if(r.equals(n,i)){for(u=0;u<c;u++)a[s++]=r.floatToByte(l),a[s++]=r.floatToByte(p),a[s++]=r.floatToByte(h),a[s++]=r.floatToByte(d);return s}var _=(f-l)/c,E=(y-p)/c,A=(v-h)/c,x=(g-d)/c,T=s;for(u=0;u<c;u++)a[T++]=r.floatToByte(l+u*_),a[T++]=r.floatToByte(p+u*E),a[T++]=r.floatToByte(h+u*A),a[T++]=r.floatToByte(d+u*x);return T}function y(e){e=i(e,i.EMPTY_OBJECT);var n=e.positions,a=e.colors,u=i(e.colorsPerVertex,!1);this._positions=n,this._colors=a,this._colorsPerVertex=u,this._followSurface=i(e.followSurface,!0),this._granularity=i(e.granularity,h.RADIANS_PER_DEGREE),this._ellipsoid=i(e.ellipsoid,s.WGS84),this._workerName="createSimplePolylineGeometry";var c=1+n.length*t.packedLength;c+=o(a)?1+a.length*r.packedLength:1,this.packedLength=c+s.packedLength+3}y.pack=function(e,n,a){a=i(a,0);var u,c=e._positions,l=c.length;for(n[a++]=l,u=0;u<l;++u,a+=t.packedLength)t.pack(c[u],n,a);var p=e._colors;for(l=o(p)?p.length:0,n[a++]=l,u=0;u<l;++u,a+=r.packedLength)r.pack(p[u],n,a);return s.pack(e._ellipsoid,n,a),a+=s.packedLength,n[a++]=e._colorsPerVertex?1:0,n[a++]=e._followSurface?1:0,n[a]=e._granularity,n},y.unpack=function(e,n,a){n=i(n,0);var u,c=e[n++],l=new Array(c);for(u=0;u<c;++u,n+=t.packedLength)l[u]=t.unpack(e,n);c=e[n++];var p=c>0?new Array(c):void 0;for(u=0;u<c;++u,n+=r.packedLength)p[u]=r.unpack(e,n);var h=s.unpack(e,n);n+=s.packedLength;var m=1===e[n++],d=1===e[n++],f=e[n];return o(a)?(a._positions=l,a._colors=p,a._ellipsoid=h,a._colorsPerVertex=m,a._followSurface=d,a._granularity=f,a):new y({positions:l,colors:p,ellipsoid:h,colorsPerVertex:m,followSurface:d,granularity:f})};var v=new Array(2),g=new Array(2),_={positions:v,height:g,ellipsoid:void 0,minDistance:void 0};return y.createGeometry=function(i){var a,s,y,E,A,x=i._positions,T=i._colors,w=i._colorsPerVertex,S=i._followSurface,R=i._granularity,I=i._ellipsoid,N=h.chordLength(R,I.maximumRadius),O=o(T)&&!w,b=x.length,M=0;if(S){var P=m.extractHeights(x,I),C=_;if(C.minDistance=N,C.ellipsoid=I,O){var L=0;for(a=0;a<b-1;a++)L+=m.numberOfPoints(x[a],x[a+1],N)+1;s=new Float64Array(3*L),E=new Uint8Array(4*L),C.positions=v,
C.height=g;var F=0;for(a=0;a<b-1;++a){v[0]=x[a],v[1]=x[a+1],g[0]=P[a],g[1]=P[a+1];var D=m.generateArc(C);if(o(T)){var U=D.length/3;A=T[a];for(var B=0;B<U;++B)E[F++]=r.floatToByte(A.red),E[F++]=r.floatToByte(A.green),E[F++]=r.floatToByte(A.blue),E[F++]=r.floatToByte(A.alpha)}s.set(D,M),M+=D.length}}else if(C.positions=x,C.height=P,s=new Float64Array(m.generateArc(C)),o(T)){for(E=new Uint8Array(s.length/3*4),a=0;a<b-1;++a){var z=x[a],G=x[a+1],k=T[a],H=T[a+1];M=f(z,G,k,H,N,E,M)}var V=T[b-1];E[M++]=r.floatToByte(V.red),E[M++]=r.floatToByte(V.green),E[M++]=r.floatToByte(V.blue),E[M++]=r.floatToByte(V.alpha)}}else{y=O?2*b-2:b,s=new Float64Array(3*y),E=o(T)?new Uint8Array(4*y):void 0;var q=0,W=0;for(a=0;a<b;++a){var Y=x[a];if(O&&a>0&&(t.pack(Y,s,q),q+=3,A=T[a-1],E[W++]=r.floatToByte(A.red),E[W++]=r.floatToByte(A.green),E[W++]=r.floatToByte(A.blue),E[W++]=r.floatToByte(A.alpha)),O&&a===b-1)break;t.pack(Y,s,q),q+=3,o(T)&&(A=T[a],E[W++]=r.floatToByte(A.red),E[W++]=r.floatToByte(A.green),E[W++]=r.floatToByte(A.blue),E[W++]=r.floatToByte(A.alpha))}}var j=new l;j.position=new c({componentDatatype:n.DOUBLE,componentsPerAttribute:3,values:s}),o(T)&&(j.color=new c({componentDatatype:n.UNSIGNED_BYTE,componentsPerAttribute:4,values:E,normalize:!0})),y=s.length/3;var X=2*(y-1),Z=p.createTypedArray(y,X),K=0;for(a=0;a<y-1;++a)Z[K++]=a,Z[K++]=a+1;return new u({attributes:j,indices:Z,primitiveType:d.LINES,boundingSphere:e.fromPoints(x)})},y}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(4),r(3),r(1),r(2),r(93),r(21)],i=function(e,t,r,n,i,o){"use strict";function a(r){var n=t(r.radius,1),o=new e(n,n,n),a={radii:o,stackPartitions:r.stackPartitions,slicePartitions:r.slicePartitions,vertexFormat:r.vertexFormat};this._ellipsoidGeometry=new i(a),this._workerName="createSphereGeometry"}a.packedLength=i.packedLength,a.pack=function(e,t,r){return i.pack(e._ellipsoidGeometry,t,r)};var s=new i,u={radius:void 0,radii:new e,vertexFormat:new o,stackPartitions:void 0,slicePartitions:void 0};return a.unpack=function(t,n,c){var l=i.unpack(t,n,s);return u.vertexFormat=o.clone(l._vertexFormat,u.vertexFormat),u.stackPartitions=l._stackPartitions,u.slicePartitions=l._slicePartitions,r(c)?(e.clone(l._radii,u.radii),c._ellipsoidGeometry=new i(u),c):(u.radius=l._radii.x,new a(u))},a.createGeometry=function(e){return i.createGeometry(e._ellipsoidGeometry)},a}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(4),r(3),r(1),r(2),r(94)],i=function(e,t,r,n,i){"use strict";function o(r){var n=t(r.radius,1),o=new e(n,n,n),a={radii:o,stackPartitions:r.stackPartitions,slicePartitions:r.slicePartitions,subdivisions:r.subdivisions};this._ellipsoidGeometry=new i(a),this._workerName="createSphereOutlineGeometry"}o.packedLength=i.packedLength,o.pack=function(e,t,r){return i.pack(e._ellipsoidGeometry,t,r)};var a=new i,s={radius:void 0,radii:new e,stackPartitions:void 0,slicePartitions:void 0,subdivisions:void 0};return o.unpack=function(t,n,u){var c=i.unpack(t,n,a);return s.stackPartitions=c._stackPartitions,s.slicePartitions=c._slicePartitions,s.subdivisions=c._subdivisions,r(u)?(e.clone(c._radii,s.radii),u._ellipsoidGeometry=new i(s),u):(s.radius=c._radii.x,new o(s))},o.createGeometry=function(e){return i.createGeometry(e._ellipsoidGeometry)},o}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(8)],i=function(e){"use strict";var t={NONE:0,BITS12:1};return e(t)}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(3),r(1),r(2)],i=function(e,t,r){"use strict";var n={};return n.calculateACMR=function(r){r=e(r,e.EMPTY_OBJECT);var n=r.indices,i=r.maximumIndex,o=e(r.cacheSize,24),a=n.length;if(!t(i)){i=0;for(var s=0,u=n[s];s<a;)u>i&&(i=u),++s,u=n[s]}for(var c=[],l=0;l<i+1;l++)c[l]=0;for(var p=o+1,h=0;h<a;++h)p-c[n[h]]>o&&(c[n[h]]=p,++p);return(p-o+1)/(a/3)},n.tipsify=function(r){function n(e,t,r,n){for(;t.length>=1;){var i=t[t.length-1];if(t.splice(t.length-1,1),e[i].numLiveTriangles>0)return i}for(;o<n;){if(e[o].numLiveTriangles>0)return++o,o-1;++o}return-1}function i(e,t,r,i,o,a,s){for(var u,c=-1,l=-1,p=0;p<r.length;){var h=r[p];i[h].numLiveTriangles&&(u=0,o-i[h].timeStamp+2*i[h].numLiveTriangles<=t&&(u=o-i[h].timeStamp),(u>l||l===-1)&&(l=u,c=h)),++p}return c===-1?n(i,a,e,s):c}r=e(r,e.EMPTY_OBJECT);var o,a=r.indices,s=r.maximumIndex,u=e(r.cacheSize,24),c=a.length,l=0,p=0,h=a[p],m=c;if(t(s))l=s+1;else{for(;p<m;)h>l&&(l=h),++p,h=a[p];if(l===-1)return 0;++l}for(var d=[],f=0;f<l;f++)d[f]={numLiveTriangles:0,timeStamp:0,vertexTriangles:[]};p=0;for(var y=0;p<m;)d[a[p]].vertexTriangles.push(y),++d[a[p]].numLiveTriangles,d[a[p+1]].vertexTriangles.push(y),++d[a[p+1]].numLiveTriangles,d[a[p+2]].vertexTriangles.push(y),++d[a[p+2]].numLiveTriangles,++y,p+=3;var v=0,g=u+1;o=1;var _,E,A=[],x=[],T=0,w=[],S=c/3,R=[];for(f=0;f<S;f++)R[f]=!1;for(var I,N;v!==-1;){A=[],E=d[v],N=E.vertexTriangles.length;for(var O=0;O<N;++O)if(y=E.vertexTriangles[O],!R[y]){R[y]=!0,p=y+y+y;for(var b=0;b<3;++b)I=a[p],A.push(I),x.push(I),w[T]=I,++T,_=d[I],--_.numLiveTriangles,g-_.timeStamp>u&&(_.timeStamp=g,++g),++p}v=i(a,u,A,d,g,x,l)}return w},n}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(7),r(4),r(9),r(3),r(1),r(2),r(6),r(10),r(11),r(14),r(15),r(5),r(12),r(21),r(103)],i=function(e,t,r,n,i,o,a,s,u,c,l,p,h,m,d){"use strict";function f(e){e=n(e,n.EMPTY_OBJECT);var r=e.positions,o=e.maximumHeights,s=e.minimumHeights,u=n(e.vertexFormat,m.DEFAULT),c=n(e.granularity,p.RADIANS_PER_DEGREE),l=n(e.ellipsoid,a.WGS84);this._positions=r,this._minimumHeights=s,this._maximumHeights=o,this._vertexFormat=m.clone(u),this._granularity=c,this._ellipsoid=a.clone(l),this._workerName="createWallGeometry";var h=1+r.length*t.packedLength+2;i(s)&&(h+=s.length),i(o)&&(h+=o.length),this.packedLength=h+a.packedLength+m.packedLength+1}var y=new t,v=new t,g=new t,_=new t,E=new t,A=new t,x=new t,T=new t;f.pack=function(e,r,o){o=n(o,0);var s,u=e._positions,c=u.length;for(r[o++]=c,s=0;s<c;++s,o+=t.packedLength)t.pack(u[s],r,o);var l=e._minimumHeights;if(c=i(l)?l.length:0,r[o++]=c,i(l))for(s=0;s<c;++s)r[o++]=l[s];var p=e._maximumHeights;if(c=i(p)?p.length:0,r[o++]=c,i(p))for(s=0;s<c;++s)r[o++]=p[s];return a.pack(e._ellipsoid,r,o),o+=a.packedLength,m.pack(e._vertexFormat,r,o),o+=m.packedLength,r[o]=e._granularity,r};var w=a.clone(a.UNIT_SPHERE),S=new m,R={positions:void 0,minimumHeights:void 0,maximumHeights:void 0,ellipsoid:w,vertexFormat:S,granularity:void 0};return f.unpack=function(e,r,o){r=n(r,0);var s,u=e[r++],c=new Array(u);for(s=0;s<u;++s,r+=t.packedLength)c[s]=t.unpack(e,r);u=e[r++];var l;if(u>0)for(l=new Array(u),s=0;s<u;++s)l[s]=e[r++];u=e[r++];var p;if(u>0)for(p=new Array(u),s=0;s<u;++s)p[s]=e[r++];var h=a.unpack(e,r,w);r+=a.packedLength;var d=m.unpack(e,r,S);r+=m.packedLength;var y=e[r];return i(o)?(o._positions=c,o._minimumHeights=l,o._maximumHeights=p,o._ellipsoid=a.clone(h,o._ellipsoid),o._vertexFormat=m.clone(d,o._vertexFormat),o._granularity=y,o):(R.positions=c,R.minimumHeights=l,R.maximumHeights=p,R.granularity=y,new f(R))},f.fromConstantHeights=function(e){e=n(e,n.EMPTY_OBJECT);var t,r,o=e.positions,a=e.minimumHeight,s=e.maximumHeight,u=i(a),c=i(s);if(u||c){var l=o.length;t=u?new Array(l):void 0,r=c?new Array(l):void 0;for(var p=0;p<l;++p)u&&(t[p]=a),c&&(r[p]=s)}var h={positions:o,maximumHeights:r,minimumHeights:t,ellipsoid:e.ellipsoid,vertexFormat:e.vertexFormat};return new f(h)},f.createGeometry=function(n){var o=n._positions,a=n._minimumHeights,m=n._maximumHeights,f=n._vertexFormat,w=n._granularity,S=n._ellipsoid,R=d.computePositions(S,o,m,a,w,!0);if(i(R)){var I=R.bottomPositions,N=R.topPositions,O=R.numCorners,b=N.length,M=2*b,P=f.position?new Float64Array(M):void 0,C=f.normal?new Float32Array(M):void 0,L=f.tangent?new Float32Array(M):void 0,F=f.binormal?new Float32Array(M):void 0,D=f.st?new Float32Array(M/3*2):void 0,U=0,B=0,z=0,G=0,k=0,H=T,V=x,q=A,W=!0;b/=3;var Y,j=0,X=1/(b-o.length+1);for(Y=0;Y<b;++Y){var Z=3*Y,K=t.fromArray(N,Z,y),J=t.fromArray(I,Z,v);if(f.position&&(P[U++]=J.x,P[U++]=J.y,P[U++]=J.z,P[U++]=K.x,P[U++]=K.y,P[U++]=K.z),f.st&&(D[k++]=j,D[k++]=0,D[k++]=j,D[k++]=1),f.normal||f.tangent||f.binormal){var Q,$=t.clone(t.ZERO,E),ee=S.scaleToGeodeticSurface(t.fromArray(N,Z,v),v);if(Y+1<b&&(Q=S.scaleToGeodeticSurface(t.fromArray(N,Z+3,g),g),$=t.fromArray(N,Z+3,E)),W){var te=t.subtract($,K,_),re=t.subtract(ee,K,y);H=t.normalize(t.cross(re,te,H),H),W=!1}t.equalsEpsilon(Q,ee,p.EPSILON10)?W=!0:(j+=X,f.tangent&&(V=t.normalize(t.subtract(Q,ee,V),V)),f.binormal&&(q=t.normalize(t.cross(H,V,q),q))),f.normal&&(C[B++]=H.x,C[B++]=H.y,C[B++]=H.z,C[B++]=H.x,C[B++]=H.y,C[B++]=H.z),f.tangent&&(L[G++]=V.x,L[G++]=V.y,L[G++]=V.z,L[G++]=V.x,L[G++]=V.y,L[G++]=V.z),f.binormal&&(F[z++]=q.x,F[z++]=q.y,F[z++]=q.z,F[z++]=q.x,F[z++]=q.y,F[z++]=q.z)}}var ne=new c;f.position&&(ne.position=new u({componentDatatype:r.DOUBLE,componentsPerAttribute:3,values:P})),f.normal&&(ne.normal=new u({componentDatatype:r.FLOAT,componentsPerAttribute:3,values:C})),f.tangent&&(ne.tangent=new u({componentDatatype:r.FLOAT,componentsPerAttribute:3,values:L})),f.binormal&&(ne.binormal=new u({componentDatatype:r.FLOAT,componentsPerAttribute:3,values:F})),f.st&&(ne.st=new u({componentDatatype:r.FLOAT,componentsPerAttribute:2,values:D}));var ie=M/3;M-=6*(O+1);var oe=l.createTypedArray(ie,M),ae=0;for(Y=0;Y<ie-2;Y+=2){var se=Y,ue=Y+2,ce=t.fromArray(P,3*se,y),le=t.fromArray(P,3*ue,v);if(!t.equalsEpsilon(ce,le,p.EPSILON10)){var pe=Y+1,he=Y+3;oe[ae++]=pe,oe[ae++]=se,oe[ae++]=he,oe[ae++]=he,oe[ae++]=se,oe[ae++]=ue}}return new s({attributes:ne,indices:oe,primitiveType:h.TRIANGLES,boundingSphere:new e.fromVertices(P)})}},f}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(7),r(4),r(9),r(3),r(1),r(2),r(6),r(10),r(11),r(14),r(15),r(5),r(12),r(103)],i=function(e,t,r,n,i,o,a,s,u,c,l,p,h,m){"use strict";function d(e){e=n(e,n.EMPTY_OBJECT);var r=e.positions,o=e.maximumHeights,s=e.minimumHeights,u=n(e.granularity,p.RADIANS_PER_DEGREE),c=n(e.ellipsoid,a.WGS84);this._positions=r,this._minimumHeights=s,this._maximumHeights=o,this._granularity=u,this._ellipsoid=a.clone(c),this._workerName="createWallOutlineGeometry";var l=1+r.length*t.packedLength+2;i(s)&&(l+=s.length),i(o)&&(l+=o.length),this.packedLength=l+a.packedLength+1}var f=new t,y=new t;d.pack=function(e,r,o){o=n(o,0);var s,u=e._positions,c=u.length;for(r[o++]=c,s=0;s<c;++s,o+=t.packedLength)t.pack(u[s],r,o);var l=e._minimumHeights;if(c=i(l)?l.length:0,r[o++]=c,i(l))for(s=0;s<c;++s)r[o++]=l[s];var p=e._maximumHeights;if(c=i(p)?p.length:0,r[o++]=c,i(p))for(s=0;s<c;++s)r[o++]=p[s];return a.pack(e._ellipsoid,r,o),o+=a.packedLength,r[o]=e._granularity,r};var v=a.clone(a.UNIT_SPHERE),g={positions:void 0,minimumHeights:void 0,maximumHeights:void 0,ellipsoid:v,granularity:void 0};return d.unpack=function(e,r,o){r=n(r,0);var s,u=e[r++],c=new Array(u);for(s=0;s<u;++s,r+=t.packedLength)c[s]=t.unpack(e,r);u=e[r++];var l;if(u>0)for(l=new Array(u),s=0;s<u;++s)l[s]=e[r++];u=e[r++];var p;if(u>0)for(p=new Array(u),s=0;s<u;++s)p[s]=e[r++];var h=a.unpack(e,r,v);r+=a.packedLength;var m=e[r];return i(o)?(o._positions=c,o._minimumHeights=l,o._maximumHeights=p,o._ellipsoid=a.clone(h,o._ellipsoid),o._granularity=m,o):(g.positions=c,g.minimumHeights=l,g.maximumHeights=p,g.granularity=m,new d(g))},d.fromConstantHeights=function(e){e=n(e,n.EMPTY_OBJECT);var t,r,o=e.positions,a=e.minimumHeight,s=e.maximumHeight,u=i(a),c=i(s);if(u||c){var l=o.length;t=u?new Array(l):void 0,r=c?new Array(l):void 0;for(var p=0;p<l;++p)u&&(t[p]=a),c&&(r[p]=s)}var h={positions:o,maximumHeights:r,minimumHeights:t,ellipsoid:e.ellipsoid};return new d(h)},d.createGeometry=function(n){var o=n._positions,a=n._minimumHeights,d=n._maximumHeights,v=n._granularity,g=n._ellipsoid,_=m.computePositions(g,o,d,a,v,!1);if(i(_)){var E=_.bottomPositions,A=_.topPositions,x=A.length,T=2*x,w=new Float64Array(T),S=0;x/=3;var R;for(R=0;R<x;++R){var I=3*R,N=t.fromArray(A,I,f),O=t.fromArray(E,I,y);w[S++]=O.x,w[S++]=O.y,w[S++]=O.z,w[S++]=N.x,w[S++]=N.y,w[S++]=N.z}var b=new c({position:new u({componentDatatype:r.DOUBLE,componentsPerAttribute:3,values:w})}),M=T/3;T=2*M-4+M;var P=l.createTypedArray(M,T),C=0;for(R=0;R<M-2;R+=2){var L=R,F=R+2,D=t.fromArray(w,3*L,f),U=t.fromArray(w,3*F,y);if(!t.equalsEpsilon(D,U,p.EPSILON10)){var B=R+1,z=R+3;P[C++]=B,P[C++]=L,P[C++]=B,P[C++]=z,P[C++]=L,P[C++]=F}}return P[C++]=M-2,P[C++]=M-1,new s({attributes:b,indices:P,primitiveType:h.LINES,boundingSphere:new e.fromVertices(w)})}},d}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(4),r(16),r(3),r(1),r(17),r(2),r(6),r(5)],i=function(e,t,r,n,i,o,a,s){"use strict";function u(e){this._ellipsoid=r(e,a.WGS84),this._semimajorAxis=this._ellipsoid.maximumRadius,this._oneOverSemimajorAxis=1/this._semimajorAxis}return i(u.prototype,{ellipsoid:{get:function(){return this._ellipsoid}}}),u.mercatorAngleToGeodeticLatitude=function(e){return s.PI_OVER_TWO-2*Math.atan(Math.exp(-e))},u.geodeticLatitudeToMercatorAngle=function(e){e>u.MaximumLatitude?e=u.MaximumLatitude:e<-u.MaximumLatitude&&(e=-u.MaximumLatitude);var t=Math.sin(e);return.5*Math.log((1+t)/(1-t))},u.MaximumLatitude=u.mercatorAngleToGeodeticLatitude(Math.PI),u.prototype.project=function(t,r){var i=this._semimajorAxis,o=t.longitude*i,a=u.geodeticLatitudeToMercatorAngle(t.latitude)*i,s=t.height;return n(r)?(r.x=o,r.y=a,r.z=s,r):new e(o,a,s)},u.prototype.unproject=function(e,r){var i=this._oneOverSemimajorAxis,o=e.x*i,a=u.mercatorAngleToGeodeticLatitude(e.y*i),s=e.z;return n(r)?(r.longitude=o,r.latitude=a,r.height=s,r):new t(o,a,s)},u}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(3)],i=function(e){"use strict";function t(r,n){if(null===r||"object"!=typeof r)return r;n=e(n,!1);var i=new r.constructor;for(var o in r)if(r.hasOwnProperty(o)){var a=r[o];n&&(a=t(a,n)),i[o]=a}return i}return t}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(1)],i=function(e){"use strict";function t(t){var r,n=t.name,i=t.message;r=e(n)&&e(i)?n+": "+i:t.toString();var o=t.stack;return e(o)&&(r+="\n"+o),r}return t}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(41),r(3),r(1),r(2)],i=function(e,t,r,n){"use strict";function i(r,n){n=t(n,document.location.href);var i=new e(n),o=new e(r);return o.resolve(i).toString()}return i}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(2)],i=function(e){"use strict";function t(e){return e%4===0&&e%100!==0||e%400===0}return t}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(41),r(3),r(1),r(2)],i=function(e,t,r,n){"use strict";function i(n,i,o){o=t(o,!0),n instanceof e||(n=new e(n)),i instanceof e||(i=new e(i)),r(i.authority)&&!r(i.scheme)&&("undefined"!=typeof document&&r(document.location)&&r(document.location.href)?i.scheme=new e(document.location.href).scheme:i.scheme=n.scheme);var a=n;i.isAbsolute()&&(a=i);var s="";r(a.scheme)&&(s+=a.scheme+":"),r(a.authority)&&(s+="//"+a.authority,""!==a.path&&"/"!==a.path&&(s=s.replace(/\/?$/,"/"),a.path=a.path.replace(/^\/?/g,""))),s+=a===n?o?n.path.replace(/\/?$/,"/")+i.path.replace(/^\/?/g,""):n.path+i.path:i.path;var u=r(n.query),c=r(i.query);u&&c?s+="?"+n.query+"&"+i.query:u&&!c?s+="?"+n.query:!u&&c&&(s+="?"+i.query);var l=r(i.fragment);return r(n.fragment)&&!l?s+="#"+n.fragment:l&&(s+="#"+i.fragment),s}return i}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(182)],i=function(e){"use strict";function t(t,r){return e({url:t,headers:r,preferText:!0})}return t}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(31),r(3),r(1),r(2),r(167),r(52)],i=function(e,t,r,n,i,o){"use strict";function a(r){r=t(r,t.EMPTY_OBJECT);var n=r.responseType,i=t(r.method,"GET"),o=r.data,s=r.headers,u=r.overrideMimeType,c=r.preferText,l=r.timeout;return e(r.url,function(t){var r=e.defer();return a.load(t,n,i,o,s,r,u,c,l),r.promise})}function s(e,t){var r=decodeURIComponent(t);return e?atob(r):r}function u(e,t){for(var r=s(e,t),n=new ArrayBuffer(r.length),i=new Uint8Array(n),o=0;o<r.length;o++)i[o]=r.charCodeAt(o);return n}function c(e,r){r=t(r,"");var i=e[1],o=!!e[2],a=e[3];switch(r){case"":case"text":return s(o,a);case"arraybuffer":return u(o,a);case"blob":var c=u(o,a);return new Blob([c],{type:i});case"document":var l=new DOMParser;return l.parseFromString(s(o,a),i);case"json":return JSON.parse(s(o,a));default:throw new n("Unhandled responseType: "+r)}}var l=/^data:(.*?)(;base64)?,(.*)$/;return a.load=function(e,n,a,s,u,p,h,m,d){var f=l.exec(e);if(null!==f)return void p.resolve(c(f,n));var y=new XMLHttpRequest,v=!1;if(r(h)&&(r(y.overrideMimeType)?y.overrideMimeType(h):"text/xml"===h&&"document"===n&&(v=!0,n="text")),y.open(a,e,!0),r(u))for(var g in u)u.hasOwnProperty(g)&&y.setRequestHeader(g,u[g]);r(n)&&(y.responseType=n),r(d)&&(y.timeout=d),y.onload=function(){if(y.status>=200&&y.status<300){var e;if("undefined"!=typeof y.response)if(v)try{e=new DOMParser,p.resolve(e.parseFromString(y.response,"text/xml"))}catch(e){p.reject(e)}else p.resolve(y.response);else if(v)try{e=new DOMParser,p.resolve(e.parseFromString(y.responseText,"text/xml"))}catch(e){p.reject(e)}else!t(m,!1)&&r(y.responseXML)&&y.responseXML.hasChildNodes()?p.resolve(y.responseXML):r(y.responseText)?p.resolve(y.responseText):p.reject(new o("unknown XMLHttpRequest response type."))}else p.reject(new i(y.status,y.response,y.getAllResponseHeaders()))},y.onerror=function(e){p.reject(new i)},y.ontimeout=function(e){var t=new i;t.isTimeout=!0,p.reject(t)},y.send(s)},a.defaultLoad=a.load,a}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[],i=function(){"use strict";function e(e){var t={};if(!e)return t;for(var r=e.split("\r\n"),n=0;n<r.length;++n){var i=r[n],o=i.indexOf(": ");if(o>0){var a=i.substring(0,o),s=i.substring(o+2);t[a]=s}}return t}return e}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(104),r(4)],i=function(e,t){"use strict";function r(t,r,i,o){return e(t,r,i,o,n),n.x>0&&n.y>0&&n.z>0}var n=new t;return r}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){function n(e){return r(i(e))}function i(e){return o[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var o={"./IAU2006_XYS_0.json":110,"./IAU2006_XYS_1.json":111,"./IAU2006_XYS_10.json":112,"./IAU2006_XYS_11.json":113,"./IAU2006_XYS_12.json":114,"./IAU2006_XYS_13.json":115,"./IAU2006_XYS_14.json":116,"./IAU2006_XYS_15.json":117,"./IAU2006_XYS_16.json":118,"./IAU2006_XYS_17.json":119,"./IAU2006_XYS_18.json":120,"./IAU2006_XYS_19.json":121,"./IAU2006_XYS_2.json":122,"./IAU2006_XYS_20.json":123,"./IAU2006_XYS_21.json":124,"./IAU2006_XYS_22.json":125,"./IAU2006_XYS_23.json":126,"./IAU2006_XYS_24.json":127,"./IAU2006_XYS_25.json":128,"./IAU2006_XYS_26.json":129,"./IAU2006_XYS_27.json":130,"./IAU2006_XYS_3.json":131,"./IAU2006_XYS_4.json":132,"./IAU2006_XYS_5.json":133,"./IAU2006_XYS_6.json":134,"./IAU2006_XYS_7.json":135,"./IAU2006_XYS_8.json":136,"./IAU2006_XYS_9.json":137};n.keys=function(){return Object.keys(o)},n.resolve=i,e.exports=n,n.id=185},function(e,t,r){function n(e){return r(i(e))}function i(e){return o[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var o={"./combineGeometry":56,"./combineGeometry.js":56,"./createBoxGeometry":57,"./createBoxGeometry.js":57,"./createBoxOutlineGeometry":58,"./createBoxOutlineGeometry.js":58,"./createCircleGeometry":59,"./createCircleGeometry.js":59,"./createCircleOutlineGeometry":60,"./createCircleOutlineGeometry.js":60,"./createCorridorGeometry":61,"./createCorridorGeometry.js":61,"./createCorridorOutlineGeometry":62,"./createCorridorOutlineGeometry.js":62,"./createCylinderGeometry":63,"./createCylinderGeometry.js":63,"./createCylinderOutlineGeometry":64,"./createCylinderOutlineGeometry.js":64,"./createEllipseGeometry":65,"./createEllipseGeometry.js":65,"./createEllipseOutlineGeometry":66,"./createEllipseOutlineGeometry.js":66,"./createEllipsoidGeometry":67,"./createEllipsoidGeometry.js":67,"./createEllipsoidOutlineGeometry":68,"./createEllipsoidOutlineGeometry.js":68,"./createGeometry":69,"./createGeometry.js":69,"./createPointGeometry":70,"./createPointGeometry.js":70,"./createPolygonGeometry":71,"./createPolygonGeometry.js":71,"./createPolygonOutlineGeometry":72,"./createPolygonOutlineGeometry.js":72,"./createPolylineGeometry":73,"./createPolylineGeometry.js":73,"./createPolylineVolumeGeometry":74,"./createPolylineVolumeGeometry.js":74,"./createPolylineVolumeOutlineGeometry":75,"./createPolylineVolumeOutlineGeometry.js":75,"./createRectangleGeometry":76,"./createRectangleGeometry.js":76,"./createRectangleOutlineGeometry":77,"./createRectangleOutlineGeometry.js":77,"./createSimplePolylineGeometry":78,"./createSimplePolylineGeometry.js":78,"./createSphereGeometry":79,"./createSphereGeometry.js":79,"./createSphereOutlineGeometry":80,"./createSphereOutlineGeometry.js":80,"./createTaskProcessorWorker":23,"./createTaskProcessorWorker.js":23,"./createVerticesFromHeightmap":81,"./createVerticesFromHeightmap.js":81,"./createVerticesFromQuantizedTerrainMesh":82,"./createVerticesFromQuantizedTerrainMesh.js":82,"./createWallGeometry":83,"./createWallGeometry.js":83,"./createWallOutlineGeometry":84,"./createWallOutlineGeometry.js":84,"./transferTypedArrayTest":85,"./transferTypedArrayTest.js":85,"./upsampleQuantizedTerrainMesh":86,"./upsampleQuantizedTerrainMesh.js":86};n.keys=function(){return Object.keys(o)},n.resolve=i,e.exports=n,n.id=186},function(e,t,r){function n(e){return r(i(e))}function i(e){return o[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var o={"./combineGeometry.js":56,"./createBoxGeometry.js":57,"./createBoxOutlineGeometry.js":58,"./createCircleGeometry.js":59,"./createCircleOutlineGeometry.js":60,"./createCorridorGeometry.js":61,"./createCorridorOutlineGeometry.js":62,"./createCylinderGeometry.js":63,"./createCylinderOutlineGeometry.js":64,"./createEllipseGeometry.js":65,"./createEllipseOutlineGeometry.js":66,"./createEllipsoidGeometry.js":67,"./createEllipsoidOutlineGeometry.js":68,"./createGeometry.js":69,"./createPointGeometry.js":70,"./createPolygonGeometry.js":71,"./createPolygonOutlineGeometry.js":72,"./createPolylineGeometry.js":73,"./createPolylineVolumeGeometry.js":74,"./createPolylineVolumeOutlineGeometry.js":75,"./createRectangleGeometry.js":76,"./createRectangleOutlineGeometry.js":77,"./createSimplePolylineGeometry.js":78,"./createSphereGeometry.js":79,"./createSphereOutlineGeometry.js":80,"./createTaskProcessorWorker.js":23,"./createVerticesFromHeightmap.js":81,"./createVerticesFromQuantizedTerrainMesh.js":82,"./createWallGeometry.js":83,"./createWallOutlineGeometry.js":84,"./transferTypedArrayTest.js":85,"./upsampleQuantizedTerrainMesh.js":86};n.keys=function(){return Object.keys(o)},n.resolve=i,e.exports=n,n.id=187},function(e,t,r){var n,i;n=[r(41),r(1),r(2),r(178),r(180),r],i=function(e,t,r,n,i,o){"use strict";function a(){for(var e=document.getElementsByTagName("script"),t=0,r=e.length;t<r;++t){var n=e[t].getAttribute("src"),i=d.exec(n);if(null!==i)return i[1]}}function s(){if(t(p))return p;var i;if(i="undefined"!=typeof CESIUM_BASE_URL?CESIUM_BASE_URL:a(),!t(i))throw new r("Unable to determine Cesium base URL automatically, try defining a global variable called CESIUM_BASE_URL.");return p=new e(n(i))}function u(e){return o.toUrl("../"+e)}function c(e){return i(s(),e)}function l(e){t(h)||(h=t(o.toUrl)?u:c),t(m)||(m=document.createElement("a"));var r=h(e);return m.href=r,m.href=m.href,m.href}var p,h,m,d=/((?:.*\/)|^)cesium[\w-]*\.js(?:\W|$)/i;return l._cesiumScriptRegex=d,l.setBaseUrl=function(t){p=new e(t).resolve(new e(document.location.href))},l}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}}]);
//# sourceMappingURL=cesiumWorkers.js.map